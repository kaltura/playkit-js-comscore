!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("kaltura-player-js")):"function"==typeof define&&define.amd?define("comscore",["kaltura-player-js"],t):"object"==typeof exports?exports.comscore=t(require("kaltura-player-js")):(e.KalturaPlayer=e.KalturaPlayer||{},e.KalturaPlayer.plugins=e.KalturaPlayer.plugins||{},e.KalturaPlayer.plugins.comscore=t(e.KalturaPlayer))}(window,(function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(t,n){t.exports=e},function(e,t,n){(function(t,n){e.exports=function e(t,n,i){function s(a,o){if(!n[a]){if(!t[a]){if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return s(t[a][1][e]||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var r=!1,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,t,n){var i=e(24),s=e(26),r=e(36);t.exports=function(e){var t=this,n=!1,a=-1,o=null;function u(t){a=t,e.getStorage().set("plannedFlushTime",t+"")}function c(){e.flush(),u(-1),t.scheduleFlush()}function l(){o&&(r.clearTimeout(o),o=null)}i.extend(t,{start:function(){n=!0,!o&&0<e.getCacheFlushingInterval()&&null!=e.getCustomerC2()&&(e.getStorage().has("plannedFlushTime")&&(a=s.parseLong(e.getStorage().get("plannedFlushTime"),-1)),t.scheduleFlush())},stop:function(){n=!1,l()},update:function(){0<e.getCacheFlushingInterval()&&null!=e.getCustomerC2()?!o&&n?(u(-1),t.start()):null!=o&&(u(0<e.getCacheFlushingInterval()?+new Date+1e3*e.getCacheFlushingInterval():-1),o&&(r.clearTimeout(o),t.scheduleFlush())):(u(-1),l())},scheduleFlush:function(){a<0&&u(+new Date+1e3*e.getCacheFlushingInterval()),o=r.setTimeout(c,a-+new Date)}})}},{24:24,26:26,36:36}],2:[function(e,t,n){var i=e(5),s=e(8).TransmissionMode,r=e(8).EventType,a=new i,o={TransmissionMode:s,getCore:function(){return a},setAppContext:function(e){a.setAppContext(e)},setEnabled:function(e){a.setEnabled(e)},getEnabled:function(){return a.getEnabled()},onUxActive:function(){a.onUxActive()},onUxInactive:function(){a.onUxInactive()},onEnterForeground:function(){a.onEnterForeground()},onExitForeground:function(){a.onExitForeground()},onUserInteraction:function(){a.onUserInteraction()},update:function(){a.update()},enableAutoUpdate:function(e,t){a.enableAutoUpdate(e,void 0===t||t)},disableAutoUpdate:function(){a.disableAutoUpdate()},isAutoUpdateEnabled:function(){return a.isAutoUpdateEnabled()},start:function(e){a.notify(r.START,e||{})},view:function(e){a.notify(r.VIEW,e||{})},hidden:function(e){a.notify(r.HIDDEN,e||{})},close:function(e){a.notify(r.CLOSE,e)},aggregate:function(e){a.notify(r.AGGREGATE,e)},getPixelURL:function(){return a.getPixelURL()},setPixelURL:function(e){a.setPixelURL(e)},getCustomerC2:function(){return a.getCustomerC2()},setCustomerC2:function(e){a.setCustomerC2(e)},getAppName:function(){return a.getAppName()},setAppName:function(e){a.setAppName(e)},getAppVersion:function(){return a.getAppVersion()},setAppVersion:function(e){a.setAppVersion(e)},getGenesis:function(){return a.getGenesis()},getVisitorID:function(){return a.getVisitorId()},setVisitorId:function(e,t){a.setVisitorId(e,t)},getCrossPublisherId:function(){return a.getCrossPublisherId()},getOfflineTransmissionMode:function(){return a.getOfflineTransmissionMode()},allowOfflineTransmission:function(e){a.allowOfflineTransmission(e)},getLiveTransmissionMode:function(){return a.getLiveTransmissionMode()},allowLiveTransmission:function(e){a.allowLiveTransmission(e)},getPublisherSecret:function(){return a.getSalt()},setPublisherSecret:function(e){a.setSalt(e)},flushCache:function(){a.flush()},clearOfflineCache:function(){a.getOfflineCache().clear()},setLabel:function(e,t){a.setLabel(e,t)},getLabel:function(e){return a.getLabel(e)},setLabels:function(e){a.setLabels(e)},getLabels:function(){return a.getLabels()},setAutoStartLabels:function(e){a.setAutoStartLabels(e)},getAutoStartLabel:function(e){return a.getAutoStartLabel(e)},getAutoStartLabels:function(){return a.getAutoStartLabels()},setAutoStartLabel:function(e,t){a.setAutoStartLabel(e,t)},isKeepAliveEnabled:function(){return a.getKeepAlive().isEnabled()},setKeepAliveEnabled:function(e){a.setKeepAliveEnabled(!!e)},setCacheMaxMeasurements:function(e){a.setCacheMaxMeasurements(e)},getCacheMaxMeasurements:function(){return a.getCacheMaxMeasurements()},setCacheMaxBatchFiles:function(e){a.setCacheMaxBatchFiles(e)},getCacheMaxBatchFiles:function(){return a.getCacheMaxBatchFiles()},setCacheMaxFlushesInARow:function(e){a.setCacheMaxFlushesInARow(e)},getCacheMaxFlushesInARow:function(){return a.getCacheMaxFlushesInARow()},setCacheMinutesToRetry:function(e){a.setCacheMinutesToRetry(e)},getCacheMinutesToRetry:function(){return a.getCacheMinutesToRetry()},setCacheMeasurementExpiry:function(e){a.setCacheMeasurementExpiry(e)},getCacheMeasurementExpiry:function(){return a.getCacheMeasurementExpiry()},getCacheFlushingInterval:function(){return a.getCacheFlushingInterval()},setCacheFlushingInterval:function(e){a.setCacheFlushingInterval(e)},setSecure:function(e){a.setSecure(e)},isSecure:function(){return a.isSecure()},getMeasurementLabelOrder:function(){return a.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(e){a.setMeasurementLabelOrder(e)},setAutoStartEnabled:function(e){a.setAutoStartEnabled(e)},isAutoStartEnabled:function(){return a.isAutoStartEnabled()},getVersion:function(){return a.getVersion()},getPlatformAPI:function(){return a.getPlatformAPI()},setPlatformAPI:function(e){a.setPlatformAPI(e)},setOfflineURL:function(e){a.setOfflineURL(e)},clearInternalData:function(){a.clearInternalData()},cacheHttpRedirects:function(){a.cacheHttpRedirects()}};t.exports=o},{5:5,8:8}],3:[function(e,t,n){var i=e(24),s=e(36),r=e(8).TransmissionMode;t.exports=function(e){var t,n=!1,a=null,o=null,u=-1;function c(){e.flush(),u=-1,a=null}function l(){a&&(s.clearTimeout(a),a=null)}function f(e){var t=+new Date;n?(l(),(u<t||u<0||!e)&&(u=t+3e4),a=s.setTimeout(c,u-t)):u<0&&(u=t+3e4)}function p(){var i=s.isConnectionAvailable();i!=t&&((t=i)?e.getOfflineTransmissionMode()!=r.NEVER&&e.getOfflineTransmissionMode()!=r.DISABLED&&f(!1):(l(),u=-1)),n&&(o=s.setTimeout(p,1e3))}i.extend(this,{start:function(){n=!0,t&&0<u&&f(!0),o=s.setTimeout(p,1e3)},stop:function(){s.clearTimeout(o),o=null,n=!1,l()}})}},{24:24,36:36,8:8}],4:[function(e,t,n){t.exports={PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,PREVIOUS_VERSION_KEY:"previousVersion",LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_bv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_ap_ie","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_atpc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_ap","ns_st_dap","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ldw","ns_st_ldo","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_ap_env","ns_ap_ais","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_tpr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_tep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_amg","ns_st_ami","ns_st_amp","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]}},{}],5:[function(e,t,n){var i=e(8).ApplicationState,s=e(8).SessionState,r=e(4),a=e(26),o=e(17),u=e(8).EventType,c=e(36),l=e(21),f=e(24),p=e(22),g=e(25),d=e(6),_=e(11),m=e(7),h=e(9),v=e(12).OfflineMeasurementsCache,y=e(1),S=e(3),b="undefined",P=o.UNKNOWN_VALUE,E="http://b.scorecardresearch.com/p2?",A="https://sb.scorecardresearch.com/p2?",T="exitCode",I="lastApplicationAccumulationTimestamp",k="lastSessionAccumulationTimestamp",C="lastApplicationSessionTimestamp",L="lastUserSessionTimestamp",w="lastActiveUserSessionTimestamp",N="foregroundTransitionsCount",D="accumulatedForegroundTime",O="accumulatedBackgroundTime",R="accumulatedInactiveTime",x="totalForegroundTime",B="totalBackgroundTime",U="totalInactiveTime",M="accumulatedApplicationSessionTime",F="accumulatedActiveUserSessionTime",G="accumulatedUserSessionTime",V="activeUserSessionCount",K="userSessionCount",W="lastUserInteractionTimestamp",j="userInteractionCount",Y="applicationSessionCountKey",H="genesis",q="previousGenesis",X="installId",z="firstInstallId",J="currentVersion",Z="runs",Q="coldStartCount",$="crossPublisherIdHashed",ee="crossPublisherId";t.exports=function(){var e,t,n,o,te,ne,ie,se,re,ae,oe,ue,ce,le,fe,pe,ge,de,_e,me,he,ve,ye,Se,be,Pe,Ee,Ae,Te,Ie,ke,Ce,Le,we,Ne,De,Oe,Re,xe,Be,Ue,Me,Fe,Ge,Ve,Ke,We,je,Ye,He,qe,Xe,ze,Je,Ze=this,Qe=!0,$e=!1,et=!0,tt=i.INACTIVE,nt=s.INACTIVE,it=!1,st=!1,rt=!1,at=!0,ot=!1,ut=0;function ct(e){return t.has(e)?t.get(e)+"":null}function lt(){var e=+new Date,t=!1;return 18e5<e-Oe&&(Te=Ae,Ae=e,we++,t=!0),Oe=e,t}function ft(e){if(ze){e=typeof e===b||e;var n=+new Date,s=n-Ie;switch(tt){case i.FOREGROUND:Pe+=s,ve+=s;break;case i.BACKGROUND_UX_ACTIVE:be+=s,ye+=s;break;case i.INACTIVE:Ee+=s,Se+=s}Ie=n,e&&(t.set(I,Ie+""),t.set(N,he+""),t.set(D,Pe+""),t.set(O,be+""),t.set(R,Ee+""),t.set(x,ve+""),t.set(B,ye+""),t.set(U,Se+""))}}function pt(e){if(ze){e=typeof e===b||e;var n=+new Date,i=n-Me;switch(nt){case s.ACTIVE_USER:Le+=i,xe=n;case s.USER:Ce+=i,Re=n;case s.APPLICATION:ke+=i,Oe=n;break;case s.INACTIVE:}Me=n,e&&(t.set(k,Me+""),t.set(C,Oe+""),t.set(L,Re+""),t.set(w,xe+""),t.set(M,ke+""),t.set(F,Le+""),t.set(G,Ce+""),t.set(V,De+""),t.set(K,Ne+""),t.set(W,Ue+""),t.set(j,Be+""),t.set(q,Te+""),t.set(H,Ae+""),t.set(Y,we+""))}}function gt(){if(ze){var e,t,r=+new Date;e=0<_e?i.FOREGROUND:0<me?i.BACKGROUND_UX_ACTIVE:i.INACTIVE,t=r-Ue<3e5?s.ACTIVE_USER:0<me?s.USER:0<_e?s.APPLICATION:s.INACTIVE;var a=nt;if(e!=tt||t!=a){var l=!1;tt!=e&&(function(e){if(ze)switch(e){case i.INACTIVE:te.dispatchToCache(!1),n.checkDelayedKeepAlive(),n.restart(),ne.start(),o.start();break;case i.BACKGROUND_UX_ACTIVE:mt();break;case i.FOREGROUND:Ze.setCurrentActivityName(null),mt()}}(tt),function(e){if(ze)switch(e){case i.INACTIVE:ne.stop(),n.pause(),o.stop(),mt(),te.dispatchToCache(!0);break;case i.BACKGROUND_UX_ACTIVE:Qe||_t();break;case i.FOREGROUND:_t(),he++}}(e),ft(),tt=e,l=!0),a!=t&&(function(e){if(ze){var t=+new Date;switch(e){case s.ACTIVE_USER:null!=Fe&&(c.clearTimeout(Fe),Fe=null),xe=t;case s.USER:Re=t;case s.APPLICATION:Oe=t;break;case s.INACTIVE:lt()||(ke+=t-Me)}}}(nt),function(e){if(ze)switch(e){case s.ACTIVE_USER:3e5<=(n=+new Date)-xe&&De++,xe=n,Ze.scheduleUserInteractionTask();case s.USER:3e5<=(t=+new Date)-Re&&Ne++,Re=t;case s.APPLICATION:lt();break;case s.INACTIVE:}var t,n}(t),pt(),nt=t),l&&ze&&tt!=i.INACTIVE&&Ze.isAutoStartEnabled()&&!$e&&Ze.notify(u.START,Xe)}}}function dt(e,n){ze&&(l.exists(e)?(n=l.exists(n)?"-cs"+n:"",Ve=e+n):null==Ve&&ot&&(Ve=p(c.getVisitorId()+Ze.getSalt()),"function"==typeof c.getVisitorIdSuffix&&null!=c.getVisitorIdSuffix()&&(Ve=Ve+"-cs"+c.getVisitorIdSuffix())),t.set("vid",Ve+""))}function _t(){if(ze){mt();var e=function(){Ze.update(),null!=se&&c.setTimeout(e,ae)};se=c.setTimeout(e,ae)}}function mt(){ze&&null!=se&&(c.clearTimeout(ae),se=null)}function ht(){return!ot||null==je||0===je.length||null==Ge||0===Ge.length}f.extend(Ze,{isProperlyInitialized:function(){return!ht()},reset:function(){ze&&(ie.reset(),tt=i.INACTIVE,nt=s.INACTIVE,$e=!1,ge=pe=null,He=Be=Te=Ce=Le=ke=Ee=Pe=be=Se=ye=ve=me=_e=ce=oe=0,st=it=!(fe=le=xe=Re=Oe=Me=Ie=Ue=Ne=De=Ae=le=fe=ue=-1),Ze.disableAutoUpdate(),null!=Fe&&(c.clearTimeout(Fe),Fe=null),null!=n&&n.cancel(),null!=o&&o.stop(),null!=te&&(te.clean(),te=new m(Ze)))},initializeStorage:function(e){t=e||new c.Storage},initializeOfflineCache:function(t){e=t||new v(Ze)},initializeCacheFlusher:function(e){o=e||new y(Ze)},initializeConnectivityChangeReceiver:function(e){ne=new S(Ze)},loadInitialSettings:function(){var e=ct("AppName");null!=e&&Ze.setAppName(e);var t=ct("AppVersion");null!=t&&Ze.setAppVersion(t)},restoreVisitorId:function(){ze&&t.has("vid")&&(Ve=t.get("vid"))},incrementRunsCount:function(){ze&&(oe++,t.set(Z,oe+""))},handleColdStart:function(){return!$e&&($e=!0,ce++,t.set(Q,ce+""),ue=+new Date,!0)},scheduleUserInteractionTask:function(){ze&&(null!=Fe&&(c.clearTimeout(Fe),Fe=null),Fe=c.setTimeout((function(){null!=Fe&&(c.clearTimeout(Fe),Fe=null),gt()}),3e5))},getOfflineCache:function(){return e},getConnectivityReceiver:function(){return ne},getStorage:function(){return t},getQueue:function(){return te},getKeepAlive:function(){return n},getCacheFlusher:function(){return o},getDispatchProperties:function(){return ie},onUxActive:function(){ze&&(ht()||(Ne<0&&(Ne=0),me++,gt()))},onUxInactive:function(){ze&&(ht()||0<me&&(me--,gt()))},onEnterForeground:function(){ze&&(ht()||(_e++,gt()))},onExitForeground:function(){ze&&(ht()||0<_e&&(_e--,gt()))},onUserInteraction:function(){ze&&(ht()||(Ne<0&&(Ne=0),De<0&&(De=0),Ue=+new Date,Be++,nt!=s.ACTIVE_USER?gt():Ze.scheduleUserInteractionTask()))},getApplicationState:function(){return tt},getSessionState:function(){return nt},getRunsCount:function(){return oe},getInstallId:function(){return le},getFirstInstallId:function(){return fe},getColdStartId:function(){return ue},getColdStartCount:function(){return ce},getPreviousVersion:function(){return ge},setPreviousVersion:function(e){ge=e},getForegroundTransitionsCountDelta:function(e){var n=he;return(e=typeof e===b||e)&&(he=0,t.set(N,he+"")),n},getForegroundTotalTime:function(e){var n=ve;return(e=typeof e===b||e)&&(ve=0,t.set(x,ve+"")),n},getForegroundTimeDelta:function(e){var n=Pe;return(e=typeof e===b||e)&&(Pe=0,t.set(D,Pe+"")),n},getBackgroundTotalTime:function(e){var n=ye;return(e=typeof e===b||e)&&(ye=0,t.set(B,ye+"")),n},getBackgroundTimeDelta:function(e){var n=be;return(e=typeof e===b||e)&&(be=0,t.set(O,be+"")),n},getInactiveTotalTime:function(e){var n=Se;return(e=typeof e===b||e)&&(Se=0,t.set(U,Se+"")),n},getInactiveTimeDelta:function(e){var n=Ee;return(e=typeof e===b||e)&&(Ee=0,t.set(R,Ee+"")),n},getApplicationSessionTimeDelta:function(e){var n=ke;return(e=typeof e===b||e)&&(ke=0,t.set(M,ke+"")),n},getActiveUserSessionTimeDelta:function(e){var n=Le;return(e=typeof e===b||e)&&(Le=0,t.set(F,Le+"")),n},getUserSessionTimeDelta:function(e){var n=Ce;return(e=typeof e===b||e)&&(Ce=0,t.set(G,Ce+"")),n},getAutoUpdateInterval:function(){return ae},getApplicationSessionCountDelta:function(e){var n=we;return(e=typeof e===b||e)&&(we=0,t.set(Y,we+"")),n},getActiveUserSessionCountDelta:function(e){e=typeof e===b||e;var n=-1;return 0<=De&&(n=De,e&&(De=0,t.set(V,De+""))),n},getUserSessionCountDelta:function(e){e=typeof e===b||e;var n=-1;return 0<=Ne&&(n=Ne,e&&(Ne=0,t.set(K,Ne+""))),n},getUserInteractionCount:function(e){var n=Be;return(e=typeof e===b||e)&&(Be=0,t.set(j,Be+"")),n},setAppContext:function(){ot||(c.autoDetect(),Ze.initializeStorage(),te=new m(Ze),n=new h(Ze),Ze.initializeOfflineCache(),Ze.initializeCacheFlusher(),Ze.initializeConnectivityChangeReceiver(),re=new _(Ze),ie=new d,function(){Ie=a.parseLong(t.get(I),-1),Me=a.parseLong(t.get(k),-1),Oe=a.parseLong(t.get(C),-1),Re=a.parseLong(t.get(L),-1),xe=a.parseLong(t.get(w),-1),he=a.parseInteger(t.get(N)),Pe=a.parseLong(t.get(D)),be=a.parseLong(t.get(O)),Ee=a.parseLong(t.get(R)),ve=a.parseLong(t.get(x)),ye=a.parseLong(t.get(B)),Se=a.parseLong(t.get(U)),ke=a.parseLong(t.get(M)),Le=a.parseLong(t.get(F)),Ce=a.parseLong(t.get(G)),De=a.parseInteger(t.get(V),-1),Ne=a.parseInteger(t.get(K),-1),Ue=a.parseLong(t.get(W),-1),Be=a.parseInteger(t.get(j),0),we=a.parseInteger(t.get(Y),0),He=t.get(T)?parseInt(t.get(T)):0,pe=c.getAppVersion(),Te=a.parseLong(t.get(q),0),(Ae=a.parseLong(t.get(H),-1))<0?(Ae=+new Date,Te=0,Oe=Ae,we++):(lt()||(ke+=+new Date-Me,t.set(M,ke+"")),Oe=Ae),(fe=a.parseLong(t.get(z),-1))<0?(le=fe=Ae,pe&&pe!=P&&t.set(J,pe+""),t.set(z,fe+""),t.set(X,le+"")):Ze.setAppVersion(pe),t.set(H,Ae+""),t.set(q,Te+""),Ze.setExitCode(Ae);var e=+new Date;if(0<=Ie){var n=e-Ie;Ee+=n,t.set(R,Ee+""),Se+=n,t.set(U,Se+"")}Me=Ie=e,t.set(I,Ie+""),t.set(k,Me+""),t.set(C,Oe+""),t.has(Z)||t.set(Z,"0"),oe=a.parseInteger(t.get(Z)),ce=a.parseInteger(t.get(Q))}(),Ze.loadInitialSettings(),Ze.restoreVisitorId(),ot=!0)},setEnabled:function(e){ze&&null!=e&&!e&&(ze=!1,o.stop(),ne.stop(),n.pause())},getEnabled:function(){return ze},getAppContext:function(){return{}},getCurrentActivityName:function(){return de},setCurrentActivityName:function(e){de=e},setPixelURL:function(e){if(ze){if(null==e||0===e.length)return null;it=!0;var t=e.indexOf("?");if(0<=t){if(t<e.length-1){for(var n=e.substring(t+1).split("&"),i=0,s=n.length;i<s;i++){var a=n[i].split("=");2==a.length?Ze.setLabel(a[0],a[1]):1==a.length&&Ze.setLabel(r.PAGE_NAME_LABEL,a[0])}e=e.substring(0,t+1)}}else e+="?";return Ge=e}},setKeepAliveEnabled:function(e){ze&&n.setEnable(e)},getPixelURL:function(){return Ge},getCrossPublisherId:function(){return Ke},isCrossPublisherIdChanged:function(){return c.isCrossPublisherIdChanged()||rt},getVisitorId:function(){return null==Ve&&dt(),Ve},setVisitorId:dt,generateCrossPublisherId:function(){var e=(c.getCrossPublisherId()||"null").split(" "),n=e[0]&&"null"!=e[0]?e[0]:null,i="true"==e[1];if(null!=n){Ke||(We=t.get($),Ke=t.get(ee));var s=null;Ke?"none"==n&&"none"==Ke||!at&&"none"==Ke||"none"!=n&&(s=p(n))==We||(Ke=i?"none"==n?(We=null,"none"):(We=s,g(n)):(rt=!0,at&&"none"!=n?(We=p(n),g(n)):(We=null,"none")),t.set(ee,Ke),null==We?t.remove($):t.set($,We)):(Ke="none"==n?(We=null,"none"):(We=p(n),g(n)),t.set(ee,Ke),null==We?t.remove($):t.set($,We)),at=!1}else Ke=We=null},setSalt:function(e){return null==e||0===e.length||(je=e),Ze},getSalt:function(){return null==je&&(je=""),je},setAppName:function(e){ze&&(Ye=e)},getAppName:function(){return null!=Ye&&0!==Ye.length||Ze.setAppName(c.getAppName()),Ye},setAppVersion:function(e){var n;t&&(e&&e!=P?(t.has(r.PREVIOUS_VERSION_KEY)&&(ge=t.get(r.PREVIOUS_VERSION_KEY)+""),t.has(J)&&(n=t.get(J)+""),n&&n!==e?(ge=n,t.set(r.PREVIOUS_VERSION_KEY,ge+""),le=Ae,t.set(X,le+"")):le=a.parseLong(t.get(X),-1),t.set(J,e+"")):le=a.parseLong(t.get(X),-1)),pe=e},getAppVersion:function(){return pe},getVersion:function(){return"6.3.0.180917"},getGenesis:function(){return Ae},getPreviousGenesis:function(){return Te},setExitCode:function(e){t.set(T,e.toString(10))},getExitCode:function(){return He},getLabels:function(){return qe},setLabels:function(e){if(ze)for(var t in e)e.hasOwnProperty(t)&&Ze.setLabel(t,e[t])},getLabel:function(e){return qe[e]},setLabel:function(e,t){ze&&(!e||t?qe[e]=t:delete qe[e])},setAutoStartLabels:function(e){ze&&null!=e&&f.extend(Xe,e)},getAutoStartLabel:function(e){return Xe[e]},getAutoStartLabels:function(){return Xe},setAutoStartLabel:function(e,t){ze&&(Xe[e]=t)},getCustomerC2:function(){return qe.c2},setCustomerC2:function(e){if(ze&&null!=e&&0!==e.length){var t=ie.isSecure()?A:E;Ze.setPixelURL(t),it=!1,Ze.setLabel("c2",e)}},getLiveTransmissionMode:function(){return ie.getLiveTransmissionMode()},allowLiveTransmission:function(e){ze&&ie.getLiveTransmissionMode()!=e&&ie.allowLiveTransmission(e)},getOfflineTransmissionMode:function(){return ie.getOfflineTransmissionMode()},allowOfflineTransmission:function(e){ze&&ie.getOfflineTransmissionMode()!=e&&ie.allowOfflineTransmission(e)},setSecure:function(e){ze&&(this.getCustomerC2()||(st=!0,ie.isSecure()!=e&&ie.setSecure(e)))},setSecureInternal:function(e){if(!st&&(ie.setSecure(!!e),null!=te&&te.enqueueSettingChange(d.SECURE_MODE,!!e),Ze.getCustomerC2()&&!it)){var t=ie.isSecure()?A:E;Ze.setPixelURL(t),it=!1}},setAutoStartEnabled:function(e){ze&&(et=e)},isAutoStartEnabled:function(){return et},isSecure:function(){return ie.isSecure()},setCacheMaxMeasurements:function(t){null!=e&&e.setCacheMaxMeasurements(t)},getCacheMaxMeasurements:function(){return null!=e?e.getCacheMaxMeasurements():v.CACHE_MAX_SIZE},setCacheMaxBatchFiles:function(t){null!=e&&e.setCacheMaxBatchFiles(t)},getCacheMaxBatchFiles:function(){return null!=e?e.getCacheMaxBatchFiles():v.CACHE_MAX_BATCH_SIZE},setCacheMaxFlushesInARow:function(t){null!=e&&e.setCacheMaxPosts(t)},getCacheMaxFlushesInARow:function(){return null!=e?e.getCacheMaxPosts():v.CACHE_MAX_FLUSHES_INAROW},setCacheMinutesToRetry:function(t){null!=e&&e.setCacheWaitMinutes(t)},getCacheMinutesToRetry:function(){return null!=e?e.getCacheWaitMinutes():v.CACHE_WAIT_MINUTES},setCacheMeasurementExpiry:function(t){null!=e&&e.setCacheMeasurementExpiry(t)},getCacheMeasurementExpiry:function(){return null!=e?e.getCacheMeasurementExpiry():v.CACHE_EXPIRY_DAYS},getCacheFlushingInterval:function(){return ut},setCacheFlushingInterval:function(e){ze&&ut!=e&&(ut=e,null!=o&&o.update())},getMeasurementLabelOrder:function(){return ie.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(e){ze&&e!=ie.getMeasurementLabelOrder()&&ie.setMeasurementLabelOrder(e)},flush:function(){e.flush(ie,(function(){}))},update:function(e){ze&&(ft(e=typeof e===b||e),pt(e))},enableAutoUpdate:function(e,t){ze&&(e=e||60,mt(),e<60&&(e=60),Qe=t,ae=1e3*e,tt==i.FOREGROUND?_t():tt!=i.BACKGROUND_UX_ACTIVE||Qe||_t())},disableAutoUpdate:function(){ze&&(mt(),Qe=!0,ae=-1)},isAutoUpdateEnabled:function(){return 0<ae},notify:function(e,t){ze&&(ht()||($e||e==u.START||re.send(u.START,{},it?Ge:null),e==u.CLOSE?(Ze.setExitCode(0),Ze.update(!0)):re.send(e,t,it?Ge:null)))},internalHidden:function(e,t){re.send(u.HIDDEN,e,t)},setOfflineURL:function(t){ze&&e.setUrl(t)},getPlatformAPI:function(){return c},setPlatformAPI:function(e){c.setPlatformAPI(e)},getMeasurementDispatcher:function(){return re},clearInternalData:function(){t&&t.clear()},cacheHttpRedirects:function(e){Je=e},isHttpRedirectCaching:function(){return Je}}),ie=new d,qe={},Xe={},Je=ze=!0,Ze.reset()}},{1:1,11:11,12:12,17:17,21:21,22:22,24:24,25:25,26:26,3:3,36:36,4:4,6:6,7:7,8:8,9:9}],6:[function(e,t,n){var i=e(24),s=e(8).TransmissionMode,r=e(36),a=e(4);function o(){var e,t,n,o;i.extend(this,{reset:function(){e=s.DEFAULT,t=s.DEFAULT,n=r.isConnectionSecure(),o=a.LABELS_ORDER},copyFrom:function(i){e=i.getLiveTransmissionMode(),t=i.getOfflineTransmissionMode(),o=i.getMeasurementLabelOrder(),n=i.isSecure()},updateSetting:function(e,t){switch(e){case 0:this.allowLiveTransmission(t);break;case 1:this.allowOfflineTransmission(t);break;case 2:this.setSecure(t);break;case 3:this.setMeasurementLabelOrder(t)}},getLiveTransmissionMode:function(){return e},allowLiveTransmission:function(t){null!=t&&(e=t)},getOfflineTransmissionMode:function(){return t},allowOfflineTransmission:function(e){null!=e&&(t=e)},isSecure:function(){return n},setSecure:function(e){n=e},getMeasurementLabelOrder:function(){return o},setMeasurementLabelOrder:function(e){null!=e&&0<e.length&&(o=e)}}),this.reset()}o.LIVE_TRANSMISSION_MODE=0,o.OFFLINE_TRANSMISSION_MODE=1,o.SECURE_MODE=2,o.MEASUREMENT_LABEL_ORDER=3,t.exports=o},{24:24,36:36,4:4,8:8}],7:[function(e,t,n){var i=e(24),s=e(13),r="q_dcf",a="q_dcc";t.exports=function(e){var t,n,o,u,c,l,f=[],p=!1;function g(e){return e-n<1e3&&20<=t}function d(e){return e-u<864e5&&6e3<=o}function _(i){864e5<i-u&&(o=0,u=i),1e3<i-n&&(t=0,n=i),o++,t++;var s=e.getStorage();s.set(a,o+""),s.set(r,u+"")}function m(){var t,i=+new Date;if(p)for(;f.length;){var r=f.shift();a=r,e.getOfflineCache().saveEvent(a)}else{for(var a,o,l;f.length&&!g(l=i)&&!d(l);)_(i),o=r=f.shift(),new s(e,e.getDispatchProperties(),o).send();t=i,f.length&&(c||(g(t)?c=e.getPlatformAPI().setTimeout((function(){c=null,m()}),n+1e3-t):d(t)&&(c=e.getPlatformAPI().setTimeout((function(){c=null,m()}),u+864e5-t))))}}i.extend(this,{offer:function(t){e.getEnabled()&&(f.push(t),m())},clean:function(){e.getPlatformAPI().clearTimeout(c),f.length=0},dispatchToCache:function(t){p=t,e.getPlatformAPI().clearTimeout(c),m()}}),l=e.getStorage(),u=l.has(a)&&l.has(r)?(o=parseInt(l.get(a)),parseInt(l.get(r))):(o=0,+new Date),t=0,n=+new Date}},{13:13,24:24}],8:[function(e,t,n){var i={DEFAULT:0,NEVER:1,WIFIONLY:2,PIGGYBACK:3,DISABLED:4,valueOf:function(e){return null==e||"DEFAULT"==e?i.DEFAULT:"NEVER"==e?i.NEVER:"WIFIONLY"==e?i.WIFIONLY:"PIGGYBACK"==e?i.PIGGYBACK:"DISABLED"==e?i.DISABLED:void 0}};n.TransmissionMode=i,n.SessionState={INACTIVE:0,APPLICATION:1,USER:2,ACTIVE_USER:3},n.ApplicationState={INACTIVE:0,BACKGROUND_UX_ACTIVE:1,FOREGROUND:2},n.EventType={START:"start",VIEW:"view",CLOSE:"close",AGGREGATE:"aggregate",HIDDEN:"hidden",KEEPALIVE:"keep-alive"}},{}],9:[function(e,t,n){var i=e(36),s=e(8).EventType,r=e(24);t.exports=function(e){var t=this,n=null,a=NaN,o=!0,u=864e5;function c(){a=+new Date+u,l()}function l(){e.getMeasurementDispatcher().send(s.KEEPALIVE)}r.extend(t,{setEnable:function(e){(o=e)?(t.checkDelayedKeepAlive(),t.restart()):t.cancel()},isEnabled:function(){return o},restart:function(){o&&(t.cancel(),a=+new Date+u,n=i.setInterval(c,u))},checkDelayedKeepAlive:function(){if(o){var e=+new Date;a&&a<=e&&l()}},pause:function(){t.cancel()},cancel:function(){n&&(i.clearInterval(n),n=null)}})}},{24:24,36:36,8:8}],10:[function(e,t,n){var i=e(24),s=e(21),r=e(8).EventType,a=e(17),o=e(36),u=e(4),c="undefined",l=a.UNKNOWN_VALUE,f=typeof encodeURIComponent!=c?encodeURIComponent:escape,p=function(e){return s.isNotEmpty(e)?e:l};function g(e){var t,n={};i.extend(this,{removeLabel:function(e){delete n[e]},addLabels:function(e){if(null!=e)for(var t in e)e.hasOwnProperty(t)&&this.setLabel(t,e[t])},setLabel:function(e,t){n[e]=t},getLabel:function(e){return n[e]},getLabels:function(){return n},hasLabel:function(e){return n.hasOwnProperty(e)},retrieveLabelsAsString:function(e){for(var t=[],s=i.extend({},n),r=0,a=e.length;r<a;r++){var o=e[r],u=s[o];null!=u&&""!==u&&(t.push("&",f(o),"=",f(u)),delete s[o])}for(var c in s)if(s.hasOwnProperty(c)){var l=s[c];null!=l&&""!==l&&t.push("&",f(c),"=",f(s[c]))}return 0<(t=t.join("")).length&&"&"==t.charAt(0)?t.substring(1):t},setPixelURL:function(e){t=e},getPixelURL:function(){return t}}),e&&this.setPixelURL(e.getPixelURL())}function d(e,t,n,i){if(g.call(this,e),e){null!=n&&this.setPixelURL(n),this.setLabel("c1","19"),this.setLabel("ns_ap_an",p(e.getAppName())),this.setLabel("ns_ap_pn",p(o.getPlatformName())),this.setLabel("ns_ap_pv",p(o.getRuntimeVersion())),this.setLabel("c12",e.getVisitorId()),e.generateCrossPublisherId();var s=e.getCrossPublisherId();s&&(this.setLabel("ns_ak",s),e.isCrossPublisherIdChanged()&&this.setLabel("ns_ap_ni","1")),this.setLabel("ns_ap_device",p(o.getDeviceModel())),this.setLabel("ns_ap_ar",p(o.getDeviceArchitecture())),this.setLabel("ns_radio",p(o.getConnectionType())),this.setLabel("ns_type",function(e){return e==r.START||e==r.CLOSE||e==r.VIEW?r.VIEW:r.HIDDEN}(t)),this.setLabel("ns_nc","1"),this.setLabel("ns_ap_pfv",p(o.getPlatformVersion())),this.setLabel("ns_ap_pfm",p(o.getRuntimeName())),this.setLabel("ns_ap_ev",t),this.setLabel("ns_ap_ver",p(e.getAppVersion())),this.setLabel("ns_ap_sd",o.getDisplayResolution()),this.setLabel("ns_ap_res",o.getApplicationResolution()),this.setLabel("ns_ap_lang",o.getLanguage()),this.setLabel("ns_ap_sv",e.getVersion()),t==r.KEEPALIVE&&this.setLabel("ns_ap_oc",e.getOfflineCache().getEventCount()+"");var a=e.getColdStartId(),u=e.getColdStartCount();this.setLabel("ns_ap_id",a+""),this.setLabel("ns_ap_cs",u+""),this.setLabel("ns_ap_bi",o.getPackageName()),this.setLabel("ns_ap_jb",p(o.getDeviceJailBrokenFlag()))}}function _(e,t,n,i){d.call(this,e,t,n,i),this.setLabel("ns_ap_gs",e.getFirstInstallId()+""),this.setLabel("ns_ap_install",e.getInstallId()+""),this.setLabel("ns_ap_runs",e.getRunsCount()+""),i&&this.setLabel("ns_ap_csf","1"),this.setLabel("ns_ap_lastrun",e.getPreviousGenesis()+"");var s=e.getExitCode();0<s&&this.setLabel("ns_ap_miss",s.toString());var r=e.getPreviousVersion();r&&(this.setLabel("ns_ap_updated",r+""),e.getStorage().remove(u.PREVIOUS_VERSION_KEY),e.setPreviousVersion(null)),this.setLabel("ns_ap_jb",p(o.getDeviceJailBrokenFlag()))}d.processTimingLabels=function(e,t){var n=t.coldBoot,i=t.resetTimings,s=t.includeTimings;if(i=typeof i===c||i,s=typeof s===c||s,e.update(s),s){var r=e.getForegroundTransitionsCountDelta(),a=e.getForegroundTotalTime(n),o=e.getForegroundTimeDelta(i),u=e.getBackgroundTotalTime(n),l=e.getBackgroundTimeDelta(i),f=e.getInactiveTotalTime(n),p=e.getInactiveTimeDelta(i),g=e.getApplicationSessionTimeDelta(i),d=e.getActiveUserSessionTimeDelta(i),_=e.getUserSessionTimeDelta(i),m=e.getAutoUpdateInterval(),h=e.getApplicationSessionCountDelta(i),v=e.getActiveUserSessionCountDelta(i),y=e.getUserSessionCountDelta(i),S=e.getUserInteractionCount(i);t.labels.ns_ap_fg=r+"",t.labels.ns_ap_ft=a+"",t.labels.ns_ap_dft=o+"",t.labels.ns_ap_bt=u+"",t.labels.ns_ap_dbt=l+"",t.labels.ns_ap_it=f+"",t.labels.ns_ap_dit=p+"",t.labels.ns_ap_ut=m+"",t.labels.ns_ap_as=h+"",t.labels.ns_ap_das=g+"",0<=v&&(t.labels.ns_ap_aus=v+"",t.labels.ns_ap_daus=d+"",t.labels.ns_ap_uc=S+""),0<=y&&(t.labels.ns_ap_us=y+"",t.labels.ns_ap_dus=_+""),t.labels.ns_ap_usage=t.created-e.getGenesis()+""}t.labels.ns_ts=t.created+""},d.prototype=new g,d.newApplicationMeasurement=function(e,t,n,i){var s=e.getMeasurementDispatcher(),r=s.initMeasurementData(t,n,i);return s.finishMeasurement(r)},_.prototype=new d,t.exports.Measurement=g,t.exports.ApplicationMeasurement=d,t.exports.AppStartMeasurement=_},{17:17,21:21,24:24,36:36,4:4,8:8}],11:[function(e,t,n){var i=e(10).ApplicationMeasurement,s=e(10).AppStartMeasurement,r=e(36),a=e(8).EventType,o=e(8).ApplicationState,u=e(4),c=e(14).aggregateLabels;t.exports=function(e){var t=this,n=0,l=[],f=!1,p=0,g={};t.createInitializationWindow=function(){n++;var e=!1;return function(i){e||(e=!0,n--,i&&t.checkDispatch())}},t.preDispatch=function(){if(!f){var e=t.createInitializationWindow();f=!0,r.onDataFetch((function(){e(!(f=!1))}),(function(){e(f=!1)}))}},t.checkDispatch=function(){if(!(0<n)){for(var e=0;e<l.length;++e){var i=l[e],s=t.finishMeasurement(i);t.dispatch(i,s)}l.length=0}},t.queue=function(e){l.push(e),t.preDispatch()},t.dispatch=function(t,n){e.getQueue().offer(n),e.getKeepAlive().restart()},t.send=function(e,n,i){if(e!=a.AGGREGATE){var s=t.initMeasurementData(e,n,i);t.queue(s)}else t.addAggregateLabels(n)},t.initMeasurementData=function(t,n,s){var r={created:+new Date,eventType:t,pixelURL:s,coldBoot:!1,resetTimings:void 0,includeTimings:void 0,labels:{}};return p++,r.labels.ns_ap_ec=p+"",t==a.START?(e.incrementRunsCount(),r.coldBoot=e.handleColdStart()):(r.resetTimings=!(null!=n&&n.hasOwnProperty("ns_st_ev")&&"hb"==n.ns_st_ev),r.includeTimings=!(null!=n&&n.hasOwnProperty("ns_st_ev"))),r.persistentLabels=e.getLabels(),r.eventLabels=n,null!=e.getCurrentActivityName()?r.pageNameLabel=e.getCurrentActivityName():t==a.START?r.pageNameLabel="start":e.getApplicationState()==o.FOREGROUND?r.pageNameLabel="foreground":r.pageNameLabel="background",i.processTimingLabels(e,r),r},t.finishMeasurement=function(t){var n=null,o=t.eventType,c=t.pixelURL,l=t.coldBoot;return(n=o===a.START?new s(e,o,c,l):new i(e,o,c,l)).addLabels(t.labels),n.addLabels(t.persistentLabels),n.addLabels(t.eventLabels),n.hasLabel(u.PAGE_NAME_LABEL)||n.setLabel(u.PAGE_NAME_LABEL,t.pageNameLabel),r.processMeasurementLabels(n),n.addLabels(g),g={},n},t.addAggregateLabels=function(e){c(g,e)}}},{10:10,14:14,36:36,4:4,8:8}],12:[function(e,t,n){var i=e(36),s=e(24),r=e(21),a=e(19),o=e(22),u=e(8).TransmissionMode,c=e(15),l=e(14).FileUtils,f="CACHE_DROPPED_MEASUREMENTS";function p(e,t){var n,p,g,d,_,m,h,v,y,S,b=this,P=0;function E(){if(e.getEnabled()&&i.isConnectionAvailable()&&!b.isEmpty()&&null!=e.getCustomerC2()){if(!(g<=v))return!0;if(1e3*d*60-(+new Date-y)<=0)return!(y=v=0)}return!1}function A(){P=0,null!=h&&(h=null)}function T(){for(var e,n=k(),i=!1,s=n.length;0<s;s--){var r=(e=n[s-1],Number(e.substring(t.length)));i?L(n[s-1],!0):i=D(r)}}function I(t){if(e.getEnabled()){var n=e.getStorage();n.has(f)&&(t+=Number(n.get(f))),n.set(f,t+"")}}function k(){return null==m&&(m=l.getFileList()),m}function C(n){var i=t+c.getLabelFromEvent(n,"ns_ts");l.writeEvent(e,i,n),null==m&&(m=[]),m.push(i),A()}function L(t,n){if(null!=t){n&&(s=t,(r=e.getStorage()).has(s)&&I(Number(r.get(s)))),l.deleteFile(e,t);var i=a.indexOf(t,m);0<=i&&m.splice(i,1)}var s,r}function w(){return null!=m&&0<m.length?m[m.length-1]:null}function N(t){var n=e.getStorage(),i=0;return null!=t&&(i=n.has(t)?Number(n.get(t)):l.readCachedEvents(e,t).length),i}function D(e){var t=+new Date;return 24*_*60*60*1e3-(t-e)<=0}t=t||"cs_cache_",s.extend(this,{flush:function(t,n){e.getEnabled()&&(T(),1e3*d*60-(+new Date-P)<=0?(P=0,function t(n,s){var a=e.getStorage();if(E()){var u=null,p=null;if(null==h&&null!=(u=function(t){for(var n=0,i=l.readCachedEvents(e,t),s=!1;n<i.length&&!(s=!D(Number(c.getLabelFromEvent(i[n],"ns_ts"))));n++);return s?(I(n),i.slice(n,i.length)):(L(t,!0),null)}(p=w()))&&0<u.length){var g=a.has(f)?a.get(f):"0";h=c.generateXMLRequestString(u,g)}if(null!=h&&0<h.length)return void i.httpPost(function(t){var n,i=!0;-1==(n=r.exists(S)&&r.isNotEmpty(S)?S:t.isSecure()?"https://udm.scorecardresearch.com/offline":"http://udm.scorecardresearch.com/offline").indexOf("?")&&(n+="?",i=!1);var s=e.getCustomerC2();r.isNotEmpty(s)&&(i&&(n+="&"),n+="c2="+s,i=!0);var a="JetportGotAMaskOfThe"+e.getSalt()+"S.D_K-";return a=o(a),r.isNotEmpty(a)&&(i&&(n+="&"),n+="s="+a),n.toLowerCase()}(n),h,(function(e){if(200==e)return v++,L(p,!1),A(),y=+new Date,a.remove(f),void i.setTimeout((function(){t(n,s)}),0);s()}))}s()}(t,n)):n())},setCacheMaxMeasurements:function(e){n=e},getCacheMaxMeasurements:function(){return n},setCacheMaxBatchFiles:function(e){e<=0||(p=e)},getCacheMaxBatchFiles:function(){return p},setCacheMaxPosts:function(e){g=e},getCacheMaxPosts:function(){return g},setCacheWaitMinutes:function(e){d=e},getCacheWaitMinutes:function(){return d},setCacheMeasurementExpiry:function(e){_=e},getCacheMeasurementExpiry:function(){return _},saveEvent:function(t){if(e.getEnabled()){var n=e.getDispatchProperties();if("string"!=typeof t&&(t=t.retrieveLabelsAsString(n.getMeasurementLabelOrder())),n.getOfflineTransmissionMode()!=u.DISABLED&&null!=e.getCustomerC2()&&r.isNotEmpty(c.getLabelFromEvent(t,"ns_ts"))){var i=w();null!=i?N(i)<this.getCacheMaxBatchFiles()?(t="\n"+t,l.writeEvent(e,i,t),A()):(k().length>=this.getCacheMaxMeasurements()/this.getCacheMaxBatchFiles()&&L(null!=m&&0<m.length?m[0]:null,!0),C(t)):C(t)}}},getEventCount:function(){var e=N(w());return 0<k().length&&(e+=(k().length-1)*this.getCacheMaxBatchFiles()),e},isEmpty:function(){return 0==this.getEventCount()},clear:function(){for(var t=k(),n=t.length;0<n;n--)L(t[n-1],!0);e.getStorage().remove(f)},setUrl:function(e){S=e}}),this.setCacheMaxMeasurements(2e3),this.setCacheMaxBatchFiles(100),this.setCacheMaxPosts(10),this.setCacheWaitMinutes(30),this.setCacheMeasurementExpiry(31),T()}p.CACHE_MAX_SIZE=2e3,p.CACHE_MAX_BATCH_SIZE=100,p.CACHE_MAX_FLUSHES_INAROW=10,p.CACHE_WAIT_MINUTES=30,p.CACHE_EXPIRY_DAYS=31,n.OfflineMeasurementsCache=p},{14:14,15:15,19:19,21:21,22:22,24:24,36:36,8:8}],13:[function(e,t,n){var i=e(24),s=e(20),r=e(36),a=e(4),o=e(8).TransmissionMode;t.exports=function(e,t,n,u){var c=this,l=t,f=n;function p(t){200!=t&&(302!=t&&301!=t||e.isHttpRedirectCaching())&&e.getOfflineCache().saveEvent(f.retrieveLabelsAsString(l.getMeasurementLabelOrder()),l),u&&u()}function g(){var e=c.process(f.getPixelURL());r.httpGet(e,p)}i.extend(c,{process:function(e){e+=f.retrieveLabelsAsString(l.getMeasurementLabelOrder());var t=s.browserAcceptsLargeURLs()?a.URL_LENGTH_LIMIT:a.RESTRICTED_URL_LENGTH_LIMIT;if(e.length>t&&0<e.indexOf("&")){var n=e.substring(0,t-8).lastIndexOf("&"),i=encodeURIComponent(e.substring(n+1));e=e.substring(0,n)+"&ns_cut="+i}return e.length>t&&(e=e.substring(0,t)),e},send:function(){var t=l.getLiveTransmissionMode();return t==o.NEVER||t==o.DISABLED?(e.getOfflineCache().saveEvent(f.retrieveLabelsAsString(l.getMeasurementLabelOrder()),l),u&&u()):l.getOfflineTransmissionMode()!=o.NEVER&&0<e.getOfflineCache().getEventCount()?e.getOfflineCache().flush(l,g):g(),!0}})}},{20:20,24:24,36:36,4:4,8:8}],14:[function(e,t,n){var i=e(36),s="cache_dir",r=null;function a(){r||"function"==typeof i.IO&&(r=new i.IO)}var o={getFileList:function(){return a(),r.dir(s)||[]},writeEvent:function(e,t,n){a();var i=e.getStorage(),o=Number(i.get(t))||0;r.append(s,t,n),o++,i.set(t,o+"")},deleteFile:function(e,t){a(),r.deleteFile(s,t),e.getStorage().remove(t)},readCachedEvents:function(e,t){a();var n=r.read(s,t);return n?n.split("\n"):[]}};function u(e){return!((e+="").indexOf(",")<0)&&e.indexOf(" ")<0}function c(e){return!isNaN(parseInt(e))&&isFinite(e)}function l(e,t){for(var n=t,i=e.split(","),s=0,r=i.length;s<r;s++){var a=i[s];if(0<a.length)if(n.indexOf(a)<0)0==n.length?n+=a+":1":n+=";"+a+":1";else for(var o=n.split(";"),u=0,c=o.length;u<c;u++)if(0<=o[u].indexOf(a)){var l=o[u].split(":"),f=Number(l[1]);f++;var p=l[0]+":"+f,g=n.indexOf(o[u]);n=n.substring(0,g)+p+n.substring(g+o[u].length)}}return n}n.aggregateLabels=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=e[n],s=t[n];null==i?u(s)?e[n]=l(s,""):e[n]=s:c(i)&&c(s)?e[n]=parseInt(i)+parseInt(s)+"":u(s)?e[n]=l(s,i):(r=s,0<=i.indexOf(r)||(e[n]=i+","+s))}var r},n.FileUtils=o},{36:36}],15:[function(e,t,n){var i=e(22),s=e(21),r=[],a=-1,o=-1,u=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ak"],c=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ts","ns_ak"],l=(1<<c.length)-1,f=-1;function p(e,t){a=o=-1;var n=0;do{if(0<=(n=e.indexOf(t,n))){var i=n+t.length;if((0==n||"&"==e.charAt(n-1))&&i<e.length&&"="==e.charAt(i))return a=i+1,void(-1==(o=e.indexOf("&",a))&&(o=e.length));n=i+1}}while(0<=n&&n<e.length)}function g(e,t){var n=0;if(p(e,"ns_ts"),-1!=a&&a<o){t.push('<event t="',e.substring(a,o),'">');for(var i,u,f=0,g=0;f<e.length;){if(-1==(i=e.indexOf("&",f))&&(i=e.length),f<i&&f<(u=e.indexOf("=",f))){var d=!0;if(n!=l)for(var _=0,m=c.length;_<m;_++){var h=1<<_;if(0==(n&h)&&c[_].length==u-f&&s.regionMatches(c[_],0,e,f,c[_].length)){d=!1,n|=h;break}}d&&(0<g&&(r.push("&"),t.push("&")),r.push(e.substring(f,i)),t.push(e.substring(f,i)),g++)}f=i+1}t.push("</event>")}}var d={generateXMLRequestString:function(e,t){var n,c,l=['<?xml version="1.0" encoding="UTF-8" ?>'];return function(e,t,n){var i,s,r,c=+new Date+"";e.push('<events t="',c,'" ');for(var l=0,g=u.length;l<g;l++)i=e,p(s=t,r=u[l]),-1!=a&&a<o&&i.push(r,'="',s.substring(a,o),'" ');e.push('dropped="',n,'" md5="','">'),f=e.length-1}(l,e[0],t),function(e,t){r=[];for(var n=0,i=e.length;n<i;n++)s.isNotEmpty(e[n])&&g(e[n],t)}(e,l),n=l,c=i(r.join("")).toLowerCase(),n.splice(f,0,c),l.push("</events>"),l.join("")},getLabelFromEvent:function(e,t){return p(e,t),-1!=a&&a<o?e.substring(a,o):null}};t.exports=d},{21:21,22:22}],16:[function(e,n,i){(function(t){var i=e(24),s=n.exports=t.ns_||{};"undefined"!=typeof window&&(window.ns_=s),s.comScore=e(2),s.loadModule=s.loadModule||function(e){for(var t in e)"ns_"!==t&&i.extend(s,e);return e.ns_=s},s.PlatformAPIs=e(32),e(39),s.StreamingAnalytics=e(67),s.ReducedRequirementsStreamingAnalytics=e(64)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,24:24,32:32,39:39,64:64,67:67}],17:[function(e,t,n){t.exports={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0",RSA_PUBLIC_KEY:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\nQnVeWzvfAPQyTJR5wQIDAQAB\n-----END PUBLIC KEY-----"}},{}],18:[function(e,t,n){var i="undefined",s="function";t.exports=function(e,t){var n=this,r=[];function a(t){t=t||[];var n=["comScore",+new Date];return e&&n.push(e),t=Array.prototype.slice.call(t),n.concat(t)}function o(e){var n,i,s;if("boolean"==typeof t||!t)return!!t;if(s=e.join(" "),t instanceof Array&&0<t.length){for(n=0;n<t.length;++n)if((i=t[n])instanceof RegExp&&i.test(s))return!0;return!1}if("object"!=typeof t)return!0;var r=!1;if(t.hide instanceof Array)for(n=0;n<t.hide.length;++n)if((i=t.hide[n])instanceof RegExp&&i.test(s)){r=!0;break}if(t.show instanceof Array)for(n=0;n<t.show.length;++n)if((i=t.show[n])instanceof RegExp&&i.test(s))return!0;return!r&&!t.show}function u(e){var n=r.length;if(1e4<n||"object"==typeof t&&t.max&&n>t.max){var i="object"==typeof t&&t.max||1e4;r.splice(0,r.length-i+1)}r.push(e)}n.log=function(){var e=a(arguments);u(e),typeof console!=i&&typeof console.log==s&&o(e)&&console.log.apply(console,e)},n.warn=function(){var e=a(arguments);u(e),typeof console!=i&&typeof console.warn==s&&o(e)&&console.warn.apply(console,e)},n.error=function(){var e=a(arguments);u(e),typeof console!=i&&typeof console.error==s&&o(e)&&console.error.apply(console,e)},n.apiCall=function(e){for(var t=["API call to:",e],n=1;n<arguments.length;++n)t.push("arg"+n+":",arguments[n]);this.log.apply(this,t)},n.infoLog=function(){var e=["Trace log:"];e.push.apply(e,Array.prototype.slice.call(arguments)),this.log.apply(this,e)},n.deprecation=function(e,t){var n=["Deprecated API:",e,"is deprecated and will be eventually removed."];t&&n.push("Use",t,"instead."),this.warn.apply(this,n)},n.getLogHistory=function(){return r}}},{}],19:[function(e,t,n){var i={},s="undefined";i.indexOf=function(e,t){var n=-1;return i.forEach(t,(function(t,i){t==e&&(n=i)})),n},i.forEach=function(e,t,n){try{if("function"==typeof t)if(n=typeof n!=s?n:null,"number"!=typeof e.length||typeof e[0]==s){var i=typeof e.__proto__!=s;for(var r in e)e.hasOwnProperty(r)&&(!i||i&&typeof e.__proto__[r]==s)&&"function"!=typeof e[r]&&t.call(n,e[r],r)}else for(var a=0,o=e.length;a<o;a++)t.call(n,e[a],a)}catch(e){}},n.indexOf=i.indexOf,n.forEach=i.forEach},{}],20:[function(e,t,n){var i={},s="undefined",r=typeof document!=s&&document||void 0;i.hasPageVisibilityAPISupport=function(){if(!r)return!1;var e=!1;return(typeof r.hidden!==s||typeof r.mozHidden!==s||typeof r.msHidden!==s||typeof r.webkitHidden!==s)&&(e=!0),function(){return e}}(),i.getPageVisibilityAPI=function(){if(!r)return null;var e,t,n;typeof r.hidden!==s?(e="hidden",t="visibilitychange",n="visibilityState"):typeof r.mozHidden!==s?(e="mozHidden",t="mozvisibilitychange",n="mozVisibilityState"):typeof r.msHidden!==s?(e="msHidden",t="msvisibilitychange",n="msVisibilityState"):typeof r.webkitHidden!==s&&(e="webkitHidden",t="webkitvisibilitychange",n="webkitVisibilityState");var i={hidden:e,visibilityChange:t,state:n};return function(){return i}}(),i.isTabInBackground=function(){if(!r)return null;var e=i.getPageVisibilityAPI();return function(){return r[e.hidden]}}(),i.getBrowserName=function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",i=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?i="Opera":-1!=(t=n.indexOf("Android"))?i="Android":-1!=(t=n.indexOf("Chrome"))?i="Chrome":-1!=(t=n.indexOf("Safari"))?i="Safari":-1!=(t=n.indexOf("Firefox"))?i="Firefox":-1!=(t=n.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(i=n.substring(e,t)).toLowerCase()==i.toUpperCase()&&(i=navigator.appName):i="unknown",i},i.getBrowserFullVersion=function(){if(!navigator)return"";var e,t,n,i=navigator.userAgent||"",s=navigator.appName||"",r=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=i.indexOf("Opera"))?(r=i.substring(t+6),-1!=(t=i.indexOf("Version"))&&(r=i.substring(t+8))):-1!=(t=i.indexOf("OPR/"))?r=i.substring(t+4):-1!=(t=i.indexOf("Android"))?r=i.substring(t+11):-1!=(t=i.indexOf("Chrome"))?r=i.substring(t+7):-1!=(t=i.indexOf("Safari"))?(r=i.substring(t+7),-1!=(t=i.indexOf("Version"))&&(r=i.substring(t+8))):-1!=(t=i.indexOf("Firefox"))?r=i.substring(t+8):"Microsoft Internet Explorer"==s?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):"Netscape"==s?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):r=i.lastIndexOf(" ")+1<(t=i.lastIndexOf("/"))?i.substring(t+1):"unknown",-1!=(n=(r=r.toString()).indexOf(";"))&&(r=r.substring(0,n)),-1!=(n=r.indexOf(" "))&&(r=r.substring(0,n)),-1!=(n=r.indexOf(")"))&&(r=r.substring(0,n)),e=parseInt(""+r,10),isNaN(e)&&(r=""+parseFloat(navigator.appVersion)),r},i.browserAcceptsLargeURLs=function(){return typeof window!=s&&window.ActiveXObject,!0},i.isBrowser=function(){return typeof window!=s&&r},i.isWebSecure=function(){return!!r&&"s"===r.location.href.charAt(4)},t.exports.hasPageVisibilityAPISupport=i.hasPageVisibilityAPISupport,t.exports.getPageVisibilityAPI=i.getPageVisibilityAPI,t.exports.isTabInBackground=i.isTabInBackground,t.exports.getBrowserName=i.getBrowserName,t.exports.getBrowserFullVersion=i.getBrowserFullVersion,t.exports.browserAcceptsLargeURLs=i.browserAcceptsLargeURLs,t.exports.isBrowser=i.isBrowser,t.exports.isWebSecure=i.isWebSecure},{}],21:[function(e,t,n){var i,s=s||{},r="undefined";s.uid=(i=1,function(){return+new Date+"_"+i++}),s.isEmpty=function(e){return null==e||""===e||e instanceof Array&&0===e.length},s.isNotEmpty=function(e){return!this.isEmpty(e)},s.safeGet=function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},s.isTrue=function(e){return typeof e!=r&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},s.regionMatches=function(e,t,n,i,s){if(t<0||i<0||t+s>e.length||i+s>n.length)return!1;for(;0<=--s;)if(e.charAt(t++)!=n.charAt(i++))return!1;return!0},s.exists=function(e){return typeof e!=r&&null!=e},t.exports.exists=s.exists,t.exports.regionMatches=s.regionMatches,t.exports.isTrue=s.isTrue,t.exports.safeGet=s.safeGet,t.exports.isNotEmpty=s.isNotEmpty,t.exports.isEmpty=s.isEmpty,t.exports.uid=s.uid},{}],22:[function(e,t,n){var i={};i.md5=function(){function e(e,t){var a=e[0],o=e[1],u=e[2],c=e[3];o=r(o=r(o=r(o=r(o=s(o=s(o=s(o=s(o=i(o=i(o=i(o=i(o=n(o=n(o=n(o=n(o,u=n(u,c=n(c,a=n(a,o,u,c,t[0],7,-680876936),o,u,t[1],12,-389564586),a,o,t[2],17,606105819),c,a,t[3],22,-1044525330),u=n(u,c=n(c,a=n(a,o,u,c,t[4],7,-176418897),o,u,t[5],12,1200080426),a,o,t[6],17,-1473231341),c,a,t[7],22,-45705983),u=n(u,c=n(c,a=n(a,o,u,c,t[8],7,1770035416),o,u,t[9],12,-1958414417),a,o,t[10],17,-42063),c,a,t[11],22,-1990404162),u=n(u,c=n(c,a=n(a,o,u,c,t[12],7,1804603682),o,u,t[13],12,-40341101),a,o,t[14],17,-1502002290),c,a,t[15],22,1236535329),u=i(u,c=i(c,a=i(a,o,u,c,t[1],5,-165796510),o,u,t[6],9,-1069501632),a,o,t[11],14,643717713),c,a,t[0],20,-373897302),u=i(u,c=i(c,a=i(a,o,u,c,t[5],5,-701558691),o,u,t[10],9,38016083),a,o,t[15],14,-660478335),c,a,t[4],20,-405537848),u=i(u,c=i(c,a=i(a,o,u,c,t[9],5,568446438),o,u,t[14],9,-1019803690),a,o,t[3],14,-187363961),c,a,t[8],20,1163531501),u=i(u,c=i(c,a=i(a,o,u,c,t[13],5,-1444681467),o,u,t[2],9,-51403784),a,o,t[7],14,1735328473),c,a,t[12],20,-1926607734),u=s(u,c=s(c,a=s(a,o,u,c,t[5],4,-378558),o,u,t[8],11,-2022574463),a,o,t[11],16,1839030562),c,a,t[14],23,-35309556),u=s(u,c=s(c,a=s(a,o,u,c,t[1],4,-1530992060),o,u,t[4],11,1272893353),a,o,t[7],16,-155497632),c,a,t[10],23,-1094730640),u=s(u,c=s(c,a=s(a,o,u,c,t[13],4,681279174),o,u,t[0],11,-358537222),a,o,t[3],16,-722521979),c,a,t[6],23,76029189),u=s(u,c=s(c,a=s(a,o,u,c,t[9],4,-640364487),o,u,t[12],11,-421815835),a,o,t[15],16,530742520),c,a,t[2],23,-995338651),u=r(u,c=r(c,a=r(a,o,u,c,t[0],6,-198630844),o,u,t[7],10,1126891415),a,o,t[14],15,-1416354905),c,a,t[5],21,-57434055),u=r(u,c=r(c,a=r(a,o,u,c,t[12],6,1700485571),o,u,t[3],10,-1894986606),a,o,t[10],15,-1051523),c,a,t[1],21,-2054922799),u=r(u,c=r(c,a=r(a,o,u,c,t[8],6,1873313359),o,u,t[15],10,-30611744),a,o,t[6],15,-1560198380),c,a,t[13],21,1309151649),u=r(u,c=r(c,a=r(a,o,u,c,t[4],6,-145523070),o,u,t[11],10,-1120210379),a,o,t[2],15,718787259),c,a,t[9],21,-343485551),e[0]=l(a,e[0]),e[1]=l(o,e[1]),e[2]=l(u,e[2]),e[3]=l(c,e[3])}function t(e,t,n,i,s,r){return t=l(l(t,e),l(i,r)),l(t<<s|t>>>32-s,n)}function n(e,n,i,s,r,a,o){return t(n&i|~n&s,e,n,r,a,o)}function i(e,n,i,s,r,a,o){return t(n&s|i&~s,e,n,r,a,o)}function s(e,n,i,s,r,a,o){return t(n^i^s,e,n,r,a,o)}function r(e,n,i,s,r,a,o){return t(i^(n|~s),e,n,r,a,o)}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var o="0123456789abcdef".split("");function u(e){for(var t="",n=0;n<4;n++)t+=o[e>>8*n+4&15]+o[e>>8*n&15];return t}function c(t){return function(e){for(var t=0;t<e.length;t++)e[t]=u(e[t]);return e.join("")}(function(t){var n,i=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)e(s,a(t.substring(n-64,n)));t=t.substring(n-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)r[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(r[n>>2]|=128<<(n%4<<3),55<n)for(e(s,r),n=0;n<16;n++)r[n]=0;return r[14]=8*i,e(s,r),s}(t))}function l(e,t){return e+t&4294967295}if("5d41402abc4b2a76b9719d911017c592"!=c("hello"))function l(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return c}(),t.exports=i.md5},{}],23:[function(e,t,n){var i=function(e){if("object"!=typeof e)return e;var t;if(e instanceof Array){t=[];for(var n=0,s=e.length;n<s;n++)t[n]=i(e[n]);return t}for(var r in t={},e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t};t.exports=i},{}],24:[function(e,t,n){var i=i||{};i.filter=function(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&e(t[i])&&(n[i]=t[i]);return n},i.extend=function(e){var t,n=arguments.length;e=e||{};for(var i=1;i<n;i++)if(t=arguments[i])for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e},t.exports.filter=i.filter,t.exports.extend=i.extend},{}],25:[function(e,t,n){var i=e(17),s={};s.encrypt=function(){var e=function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));if(-1===n)throw new Error;return n};function t(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function n(){return new t(null)}t.prototype.am=function(e,t,n,i,s,r){for(var a=16383&t,o=t>>14;0<=--r;){var u=16383&this[e],c=this[e++]>>14,l=o*u+c*a;s=((u=a*u+((16383&l)<<14)+n[i]+s)>>28)+(l>>14)+o*c,n[i++]=268435455&u}return s},t.prototype.DB=28,t.prototype.DM=268435455,t.prototype.DV=1<<28,t.prototype.FV=Math.pow(2,52),t.prototype.F1=24,t.prototype.F2=4;var s,r,a=[];for(s="0".charCodeAt(0),r=0;r<=9;++r)a[s++]=r;for(s="a".charCodeAt(0),r=10;r<36;++r)a[s++]=r;for(s="A".charCodeAt(0),r=10;r<36;++r)a[s++]=r;function o(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function u(e,t){var n=a[e.charCodeAt(t)];return null==n?-1:n}function c(e){var t=n();return t.fromInt(e),t}function l(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function f(e){this.m=e}function p(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function g(e,t){return e&t}function d(e,t){return e|t}function _(e,t){return e^t}function m(e,t){return e&~t}function h(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function v(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function y(){}function S(e){return e}function b(e){this.r2=n(),this.q3=n(),t.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}f.prototype.convert=function(e){return e.s<0||0<=e.compareTo(this.m)?e.mod(this.m):e},f.prototype.revert=function(e){return e},f.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},f.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},f.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},p.prototype.convert=function(e){var i=n();return e.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),e.s<0&&0<i.compareTo(t.ZERO)&&this.m.subTo(i,i),i},p.prototype.revert=function(e){var t=n();return e.copyTo(t),this.reduce(t),t},p.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},p.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},t.prototype.copyTo=function(e){for(var t=this.t-1;0<=t;--t)e[t]=this[t];e.t=this.t,e.s=this.s},t.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,0<e?this[0]=e:e<-1?this[0]=e+DV:this.t=0},t.prototype.fromString=function(e,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(e,n);i=2}this.t=0,this.s=0;for(var s=e.length,r=!1,a=0;0<=--s;){var o=8==i?255&e[s]:u(e,s);o<0?"-"==e.charAt(s)&&(r=!0):(r=!1,0==a?this[this.t++]=o:a+i>this.DB?(this[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this[this.t++]=o>>this.DB-a):this[this.t-1]|=o<<a,(a+=i)>=this.DB&&(a-=this.DB))}8==i&&0!=(128&e[0])&&(this.s=-1,0<a&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),r&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var e=this.s&this.DM;0<this.t&&this[this.t-1]==e;)--this.t},t.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;0<=n;--n)t[n+e]=this[n];for(n=e-1;0<=n;--n)t[n]=0;t.t=this.t+e,t.s=this.s},t.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},t.prototype.lShiftTo=function(e,t){var n,i=e%this.DB,s=this.DB-i,r=(1<<s)-1,a=Math.floor(e/this.DB),o=this.s<<i&this.DM;for(n=this.t-1;0<=n;--n)t[n+a+1]=this[n]>>s|o,o=(this[n]&r)<<i;for(n=a-1;0<=n;--n)t[n]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},t.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var i=e%this.DB,s=this.DB-i,r=(1<<i)-1;t[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&r)<<s,t[a-n]=this[a]>>i;0<i&&(t[this.t-n-1]|=(this.s&r)<<s),t.t=this.t-n,t.clamp()}},t.prototype.subTo=function(e,t){for(var n=0,i=0,s=Math.min(e.t,this.t);n<s;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:0<i&&(t[n++]=i),t.t=n,t.clamp()},t.prototype.multiplyTo=function(e,n){var i=this.abs(),s=e.abs(),r=i.t;for(n.t=r+s.t;0<=--r;)n[r]=0;for(r=0;r<s.t;++r)n[r+i.t]=i.am(0,s[r],n,r,0,i.t);n.s=0,n.clamp(),this.s!=e.s&&t.ZERO.subTo(n,n)},t.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;0<=--n;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}0<e.t&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},t.prototype.divRemTo=function(e,i,s){var r=e.abs();if(!(r.t<=0)){var a=this.abs();if(a.t<r.t)return null!=i&&i.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=n());var o=n(),u=this.s,c=e.s,f=this.DB-l(r[r.t-1]);0<f?(r.lShiftTo(f,o),a.lShiftTo(f,s)):(r.copyTo(o),a.copyTo(s));var p=o.t,g=o[p-1];if(0!=g){var d=g*(1<<this.F1)+(1<p?o[p-2]>>this.F2:0),_=this.FV/d,m=(1<<this.F1)/d,h=1<<this.F2,v=s.t,y=v-p,S=null==i?n():i;for(o.dlShiftTo(y,S),0<=s.compareTo(S)&&(s[s.t++]=1,s.subTo(S,s)),t.ONE.dlShiftTo(p,S),S.subTo(o,o);o.t<p;)o[o.t++]=0;for(;0<=--y;){var b=s[--v]==g?this.DM:Math.floor(s[v]*_+(s[v-1]+h)*m);if((s[v]+=o.am(0,b,s,y,0,p))<b)for(o.dlShiftTo(y,S),s.subTo(S,s);s[v]<--b;)s.subTo(S,s)}null!=i&&(s.drShiftTo(p,i),u!=c&&t.ZERO.subTo(i,i)),s.t=p,s.clamp(),0<f&&s.rShiftTo(f,s),u<0&&t.ZERO.subTo(s,s)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t},t.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},t.prototype.exp=function(e,i){if(4294967295<e||e<1)return t.ONE;var s=n(),r=n(),a=i.convert(this),o=l(e)-1;for(a.copyTo(s);0<=--o;)if(i.sqrTo(s,r),0<(e&1<<o))i.mulTo(r,a,s);else{var u=s;s=r,r=u}return i.revert(s)},t.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,s=!1,r="",a=this.t,u=this.DB-a*this.DB%t;if(0<a--)for(u<this.DB&&0<(n=this[a]>>u)&&(s=!0,r=o(n));0<=a;)u<t?(n=(this[a]&(1<<u)-1)<<t-u,n|=this[--a]>>(u+=this.DB-t)):(n=this[a]>>(u-=t)&i,u<=0&&(u+=this.DB,--a)),0<n&&(s=!0),s&&(r+=o(n));return s?r:"0"},t.prototype.negate=function(){var e=n();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;0<=--n;)if(0!=(t=this[n]-e[n]))return t;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+l(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var i=n();return this.abs().divRemTo(e,null,i),this.s<0&&0<i.compareTo(t.ZERO)&&e.subTo(i,i),i},t.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new f(t):new p(t),this.exp(e,n)},t.ZERO=c(0),t.ONE=c(1),y.prototype.convert=S,y.prototype.revert=S,y.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},y.prototype.sqrTo=function(e,t){e.squareTo(t)},b.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=n();return e.copyTo(t),this.reduce(t),t},b.prototype.revert=function(e){return e},b.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);0<=e.compareTo(this.m);)e.subTo(this.m,e)},b.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},b.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var P,E,A,T=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],I=(1<<26)/T[T.length-1];function k(){this.i=0,this.j=0,this.S=[]}function C(){var e;e=(new Date).getTime(),E[A++]^=255&e,E[A++]^=e>>8&255,E[A++]^=e>>16&255,E[A++]^=e>>24&255,256<=A&&(A-=256)}if(t.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},t.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||36<e)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),s=c(i),r=n(),a=n(),o="";for(this.divRemTo(s,r,a);0<r.signum();)o=(i+a.intValue()).toString(e).substr(1)+o,r.divRemTo(s,r,a);return a.intValue().toString(e)+o},t.prototype.fromRadix=function(e,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),s=Math.pow(n,i),r=!1,a=0,o=0,c=0;c<e.length;++c){var l=u(e,c);l<0?"-"==e.charAt(c)&&0==this.signum()&&(r=!0):(o=n*o+l,++a>=i&&(this.dMultiply(s),this.dAddOffset(o,0),o=a=0))}0<a&&(this.dMultiply(Math.pow(n,a)),this.dAddOffset(o,0)),r&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,n,i){if("number"==typeof n)if(e<2)this.fromInt(1);else for(this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),d,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var s=[],r=7&e;s.length=1+(e>>3),n.nextBytes(s),0<r?s[0]&=(1<<r)-1:s[0]=0,this.fromString(s,256)}},t.prototype.bitwiseTo=function(e,t,n){var i,s,r=Math.min(e.t,this.t);for(i=0;i<r;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(s=e.s&this.DM,i=r;i<this.t;++i)n[i]=t(this[i],s);n.t=this.t}else{for(s=this.s&this.DM,i=r;i<e.t;++i)n[i]=t(s,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},t.prototype.changeBit=function(e,n){var i=t.ONE.shiftLeft(e);return this.bitwiseTo(i,n,i),i},t.prototype.addTo=function(e,t){for(var n=0,i=0,s=Math.min(e.t,this.t);n<s;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,0<i?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()},t.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},t.prototype.multiplyLowerTo=function(e,t,n){var i,s=Math.min(this.t+e.t,t);for(n.s=0,n.t=s;0<s;)n[--s]=0;for(i=n.t-this.t;s<i;++s)n[s+this.t]=this.am(0,e[s],n,s,0,this.t);for(i=Math.min(e.t,t);s<i;++s)this.am(0,e[s],n,s,0,t-s);n.clamp()},t.prototype.multiplyUpperTo=function(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;0<=--i;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)},t.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(0<this.t)if(0==t)n=this[0]%e;else for(var i=this.t-1;0<=i;--i)n=(t*n+this[i])%e;return n},t.prototype.millerRabin=function(e){var i=this.subtract(t.ONE),s=i.getLowestSetBit();if(s<=0)return!1;var r=i.shiftRight(s);T.length<(e=e+1>>1)&&(e=T.length);for(var a=n(),o=0;o<e;++o){a.fromInt(T[Math.floor(Math.random()*T.length)]);var u=a.modPow(r,this);if(0!=u.compareTo(t.ONE)&&0!=u.compareTo(i)){for(var c=1;c++<s&&0!=u.compareTo(i);)if(0==(u=u.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=u.compareTo(i))return!1}}return!0},t.prototype.clone=function(){var e=n();return this.copyTo(e),e},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var n,i=this.DB-e*this.DB%8,s=0;if(0<e--)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[s++]=n|this.s<<this.DB-i);0<=e;)i<8?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==s&&(128&this.s)!=(128&n)&&++s,(0<s||n!=this.s)&&(t[s++]=n);return t},t.prototype.equals=function(e){return 0==this.compareTo(e)},t.prototype.min=function(e){return this.compareTo(e)<0?this:e},t.prototype.max=function(e){return 0<this.compareTo(e)?this:e},t.prototype.and=function(e){var t=n();return this.bitwiseTo(e,g,t),t},t.prototype.or=function(e){var t=n();return this.bitwiseTo(e,d,t),t},t.prototype.xor=function(e){var t=n();return this.bitwiseTo(e,_,t),t},t.prototype.andNot=function(e){var t=n();return this.bitwiseTo(e,m,t),t},t.prototype.not=function(){for(var e=n(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},t.prototype.shiftLeft=function(e){var t=n();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},t.prototype.shiftRight=function(e){var t=n();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},t.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+h(this[e]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=v(this[n]^t);return e},t.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},t.prototype.setBit=function(e){return this.changeBit(e,d)},t.prototype.clearBit=function(e){return this.changeBit(e,m)},t.prototype.flipBit=function(e){return this.changeBit(e,_)},t.prototype.add=function(e){var t=n();return this.addTo(e,t),t},t.prototype.subtract=function(e){var t=n();return this.subTo(e,t),t},t.prototype.multiply=function(e){var t=n();return this.multiplyTo(e,t),t},t.prototype.divide=function(e){var t=n();return this.divRemTo(e,t,null),t},t.prototype.remainder=function(e){var t=n();return this.divRemTo(e,null,t),t},t.prototype.divideAndRemainder=function(e){var t=n(),i=n();return this.divRemTo(e,t,i),[t,i]},t.prototype.modPow=function(e,t){var i,s,r=e.bitLength(),a=c(1);if(r<=0)return a;i=r<18?1:r<48?3:r<144?4:r<768?5:6,s=r<8?new f(t):t.isEven()?new b(t):new p(t);var o=[],u=3,g=i-1,d=(1<<i)-1;if(o[1]=s.convert(this),1<i){var _=n();for(s.sqrTo(o[1],_);u<=d;)o[u]=n(),s.mulTo(_,o[u-2],o[u]),u+=2}var m,h,v=e.t-1,y=!0,S=n();for(r=l(e[v])-1;0<=v;){for(g<=r?m=e[v]>>r-g&d:(m=(e[v]&(1<<r+1)-1)<<g-r,0<v&&(m|=e[v-1]>>this.DB+r-g)),u=i;0==(1&m);)m>>=1,--u;if((r-=u)<0&&(r+=this.DB,--v),y)o[m].copyTo(a),y=!1;else{for(;1<u;)s.sqrTo(a,S),s.sqrTo(S,a),u-=2;0<u?s.sqrTo(a,S):(h=a,a=S,S=h),s.mulTo(S,o[m],a)}for(;0<=v&&0==(e[v]&1<<r);)s.sqrTo(a,S),h=a,a=S,S=h,--r<0&&(r=this.DB-1,--v)}return s.revert(a)},t.prototype.modInverse=function(e){var n=e.isEven();if(this.isEven()&&n||0==e.signum())return t.ZERO;for(var i=e.clone(),s=this.clone(),r=c(1),a=c(0),o=c(0),u=c(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(r.isEven()&&a.isEven()||(r.addTo(this,r),a.subTo(e,a)),r.rShiftTo(1,r)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;s.isEven();)s.rShiftTo(1,s),n?(o.isEven()&&u.isEven()||(o.addTo(this,o),u.subTo(e,u)),o.rShiftTo(1,o)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);0<=i.compareTo(s)?(i.subTo(s,i),n&&r.subTo(o,r),a.subTo(u,a)):(s.subTo(i,s),n&&o.subTo(r,o),u.subTo(a,u))}return 0!=s.compareTo(t.ONE)?t.ZERO:0<=u.compareTo(e)?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},t.prototype.pow=function(e){return this.exp(e,new y)},t.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var i=t;t=n,n=i}var s=t.getLowestSetBit(),r=n.getLowestSetBit();if(r<0)return t;for(s<r&&(r=s),0<r&&(t.rShiftTo(r,t),n.rShiftTo(r,n));0<t.signum();)0<(s=t.getLowestSetBit())&&t.rShiftTo(s,t),0<(s=n.getLowestSetBit())&&n.rShiftTo(s,n),0<=t.compareTo(n)?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return 0<r&&n.lShiftTo(r,n),n},t.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=T[T.length-1]){for(t=0;t<T.length;++t)if(n[0]==T[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<T.length;){for(var i=T[t],s=t+1;s<T.length&&i<I;)i*=T[s++];for(i=n.modInt(i);t<s;)if(i%T[t++]==0)return!1}return n.millerRabin(e)},t.prototype.square=function(){var e=n();return this.squareTo(e),e},k.prototype.init=function(e){var t,n,i;for(t=0;t<256;++t)this.S[t]=t;for(t=n=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,i=this.S[t],this.S[t]=this.S[n],this.S[n]=i;this.i=0,this.j=0},k.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==E){var L;for(E=[],A=0;A<256;)L=Math.floor(65536*Math.random()),E[A++]=L>>>8,E[A++]=255&L;A=0,C()}function w(){if(null==P){for(C(),(P=new k).init(E),A=0;A<E.length;++A)E[A]=0;A=0}return P.next()}function N(){}function D(e,n){return new t(e,n)}function O(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}N.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=w()},O.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},O.prototype.setPublic=function(e,t){null!=e&&null!=t&&0<e.length&&0<t.length?(this.n=D(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")},O.prototype.encrypt=function(e){var n=function(e,n){if(n<e.length+11)return alert("Message too long for RSA"),null;for(var i=[],s=e.length-1;0<=s&&0<n;){var r=e.charCodeAt(s--);i[--n]=r<128?r:127<r&&r<2048?(i[--n]=63&r|128,r>>6|192):(i[--n]=63&r|128,i[--n]=r>>6&63|128,r>>12|224)}i[--n]=0;for(var a=new N,o=[];2<n;){for(o[0]=0;0==o[0];)a.nextBytes(o);i[--n]=o[0]}return i[--n]=2,i[--n]=0,new t(i)}(e,this.n.bitLength()+7>>3);if(null==n)return null;var i=this.doPublic(n);if(null==i)return null;var s=i.toString(16);return 0==(1&s.length)?s:"0"+s},O.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},O.prototype.setPrivate=function(e,t,n){null!=e&&null!=t&&0<e.length&&0<t.length?(this.n=D(e,16),this.e=parseInt(t,16),this.d=D(n,16)):alert("Invalid RSA private key")},O.prototype.setPrivateEx=function(e,t,n,i,s,r,a,o){null!=e&&null!=t&&0<e.length&&0<t.length?(this.n=D(e,16),this.e=parseInt(t,16),this.d=D(n,16),this.p=D(i,16),this.q=D(s,16),this.dmp1=D(r,16),this.dmq1=D(a,16),this.coeff=D(o,16)):alert("Invalid RSA private key")},O.prototype.generate=function(e,n){var i=new N,s=e>>1;this.e=parseInt(n,16);for(var r=new t(n,16);;){for(;this.p=new t(e-s,1,i),0!=this.p.subtract(t.ONE).gcd(r).compareTo(t.ONE)||!this.p.isProbablePrime(10););for(;this.q=new t(s,1,i),0!=this.q.subtract(t.ONE).gcd(r).compareTo(t.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var o=this.p.subtract(t.ONE),u=this.q.subtract(t.ONE),c=o.multiply(u);if(0==c.gcd(r).compareTo(t.ONE)){this.n=this.p.multiply(this.q),this.d=r.modInverse(c),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(u),this.coeff=this.q.modInverse(this.p);break}}},O.prototype.decrypt=function(e){var t=D(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){for(var n=e.toByteArray(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=t-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var s="";++i<n.length;){var r=255&n[i];r<128?s+=String.fromCharCode(r):191<r&&r<224?(s+=String.fromCharCode((31&r)<<6|63&n[i+1]),++i):(s+=String.fromCharCode((15&r)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return s}(n,this.n.bitLength()+7>>3)};var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function x(e){var t,n,i="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),i+=R.charAt(n>>6)+R.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+=R.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+=R.charAt(n>>2)+R.charAt((3&n)<<4));0<(3&i.length);)i+="=";return i}O.prototype.parseKey=function(e){e=this.prepareKey(e);var t=this.structure(),n=0,i=null,s=null,r=0;for(var a in t)t.hasOwnProperty(a)&&((i=t[a]).hasOwnProperty("offset")&&(n+=2*i.offset),r="string"==typeof i.length?this[i.length]:i.length,r*=2,s=e.substr(n,r),i.hasOwnProperty("type")&&("int"==i.type?s=parseInt(s,16):"bigint"==i.type&&(s=D(s,16))),n+=r,this[a]=s)},O.prototype.char64ToHex=function(t){var n="";t=function(t){var n,i,s,r=(t=""+t).length;if(0===r)return t;if(r%4!=0)throw new Error;n=0,"="===t.charAt(r-1)&&(n=1,"="===t.charAt(r-2)&&(n=2),r-=4);var a=[];for(i=0;i<r;i+=4)s=e(t,i)<<18|e(t,i+1)<<12|e(t,i+2)<<6|e(t,i+3),a.push(String.fromCharCode(s>>16,s>>8&255,255&s));switch(n){case 1:s=e(t,i)<<18|e(t,i+1)<<12|e(t,i+2)<<6,a.push(String.fromCharCode(s>>16,s>>8&255));break;case 2:s=e(t,i)<<18|e(t,i+1)<<12,a.push(String.fromCharCode(s>>16))}return a.join("")}(t);for(var i=0;i<t.length;++i){var s=t.charCodeAt(i).toString(16);1===s.length&&(s="0"+s),n+=s}return n},O.prototype.prepareKey=function(e){var t=(e=e.replace(/^\s+|\s+$/g,"")).split(/\r?\n/);return"-----BEGIN"==t[0].substring(0,10)&&(t=t.slice(1,t.length-1)),e=t.join(""),this.char64ToHex(e)},O.prototype.getBaseKey=function(){var e="",t=this.structure(),n=null,i=null,s=0;for(var r in t)t.hasOwnProperty(r)&&(n=t[r]).variable&&((i=this[r].toString(16)).length%2&&(i="0"+i),n.hasOwnProperty("padded")&&n.padded&&(i="00"+i),(s=(s=i.length/2).toString(16)).length%2&&(s="0"+s),n.hasOwnProperty("extraspace")&&(e+=s),e+=s,e+=i,e+="02");return e.slice(0,-2)},O.prototype.wordwrap=function(e,t){if(!e)return e;var n="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})";return e.match(new RegExp(n,"g")).join("\n")},O.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n",t="3082025e02010002";return t+=this.getBaseKey(),(e+=this.wordwrap(x(t))+"\n")+"-----END RSA PRIVATE KEY-----"},O.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n",t="30819f300d06092a864886f70d010101050003818d0030818902";return t+=this.getBaseKey(),(e+=this.wordwrap(x(t))+"\n")+"-----END PUBLIC KEY-----"};var B=function(e){O.call(this),e&&this.parseKey(e)};((B.prototype=new O).constructor=B).prototype.structure=function(){return{header:{length:4},versionlength:{length:1,offset:1,type:"int"},version:{length:"versionlength",type:"int"},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",variable:!0},d_length:{length:1,offset:2,type:"int"},d:{length:"d_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},p_length:{length:1,offset:1,type:"int"},p:{length:"p_length",type:"bigint",variable:!0,padded:!0},q_length:{length:1,offset:1,type:"int"},q:{length:"q_length",type:"bigint",variable:!0,padded:!0},dmp1_length:{length:1,offset:1,type:"int"},dmp1:{length:"dmp1_length",type:"bigint",variable:!0},dmq1_length:{length:1,offset:1,type:"int"},dmq1:{length:"dmq1_length",type:"bigint",variable:!0,padded:!0},coeff_length:{length:1,offset:1,type:"int"},coeff:{length:"coeff_length",type:"bigint",variable:!0,padded:!0}}};var U=function(e){O.call(this),e&&("string"==typeof e?this.parseKey(e):e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&(this.n=e.n,this.e=e.e))};((U.prototype=new O).constructor=U).prototype.structure=function(){return{header:{length:25},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",variable:!0}}};var M=function(){this.privkey=null,this.pubkey=null};return M.prototype.setPrivateKey=function(e){this.privkey=new B(e),this.pubkey=new U(this.privkey)},M.prototype.setPublicKey=function(e){this.pubkey=new U(e)},M.prototype.decrypt=function(e){return!!this.privkey&&this.privkey.decrypt(function(e){var t,n,i="",s=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var r=R.indexOf(e.charAt(t));r<0||(s=0==s?(i+=o(r>>2),n=3&r,1):1==s?(i+=o(n<<2|r>>4),n=15&r,2):2==s?(i+=o(n),i+=o(r>>2),n=3&r,3):(i+=o(n<<2|r>>4),i+=o(15&r),0))}return 1==s&&(i+=o(n<<2)),i}(e))},M.prototype.encrypt=function(e){var t=this.pubkey||this.privkey;return!!t&&x(t.encrypt(e))},M.prototype.getPrivateKey=function(){return this.privkey||(this.privkey=new B,this.privkey.generate(1024,"010001"),this.pubkey=new U(this.privkey)),this.privkey.getPrivateKey()},M.prototype.getPublicKey=function(){return this.pubkey||(this.pubkey=new U,this.pubkey.generate(1024,"010001")),this.pubkey.getPublicKey()},function(e){var t=new M;return t.setPublicKey(i.RSA_PUBLIC_KEY),t.encrypt(e)}}(),t.exports=s.encrypt},{17:17}],26:[function(e,t,n){var i=i||{},s="undefined";i.parseBoolean=function(e,t){return t=t||!1,e?"0"!=e:t},i.parseInteger=function(e,t){return null==e||isNaN(e)?t||0:parseInt(e)},i.parseLong=function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},i.toString=function(e){if(typeof e==s)return s;if("string"==typeof e)return e;if(e instanceof Array)return e.join(",");var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t||e.toString()},t.exports.parseBoolean=i.parseBoolean,t.exports.parseInteger=i.parseInteger,t.exports.parseLong=i.parseLong,t.exports.toString=i.toString},{}],27:[function(e,t,n){var i=e(19),s="undefined",r=e(24);t.exports=function(){var e=this,t=typeof encodeURIComponent!==s?encodeURIComponent:escape,n=typeof decodeURIComponent!==s?decodeURIComponent:unescape,a="cs_dir_",o="cs_file_",u=typeof localStorage!==s?localStorage:null,c={},l="|",f=u&&t&&n;r.extend(e,{dir:function(e){if(!f)return null;var t=a+e,i=c[t];if(i)return i.slice();var s=u.getItem(t);if(s){i=[];for(var r=0,o=(s=s.split(l)).length;r<o;r++)0<s[r].length&&i.push(n(s[r]));return(c[t]=i).slice()}return null},append:function(t,n,i){if(f){var s=e.read(t,n);s?s+=i:s=i,e.write(t,n,s)}},write:function(n,s,r){if(f){var p,g=e.dir(n);g||(p=a+n,"function"==typeof u.setItem?u.setItem(p,""):u[p]="",c[p]=[],g=[]),-1==i.indexOf(s,g)&&function(e,n){var i=a+e;try{"function"==typeof u.setItem?u.setItem(i,u.getItem(i)+l+t(n)):u[i]=u.getItem(i)+l+t(n)}catch(e){}c[i].push(n)}(n,s),function(e,t,n){try{"function"==typeof u.setItem?u.setItem(o+e+t,n):u[o+e+t]=n}catch(e){}}(n,s,r)}},deleteFile:function(n,s){if(!f)return!1;var r=e.dir(n);return!!r&&-1!=i.indexOf(s,r)&&(function(e,n){var s=a+e,r=c[s];r.splice(i.indexOf(n,r),1);for(var f=[],p=0,g=r.length;p<g;p++)f.push(t(r[p]));try{"function"==typeof u.setItem?u.setItem(s,f.join(l)):u[s]=f.join(l),"function"==typeof u.removeItem?u.removeItem(o+e+n):delete u[o+e+n]}catch(e){}}(n,s),!0)},read:function(t,n){if(!f)return null;var s=e.dir(t);return s?-1==i.indexOf(n,s)?null:function(e,t){try{return"function"==typeof u.getItem?u.getItem(o+e+t):u[o+e+t]}catch(e){}}(t,n):null}})}},{19:19,24:24}],28:[function(e,t,n){var i,s,r=e(19),a="undefined",o=e(24),u=null,c=null,l="cs_dir_",f={},p=!1;function g(){u=typeof FileSystem!=a?new FileSystem:null,c=typeof curWidget!=a?curWidget.id:null,typeof sf!==a&&(s=i=function(e,t){sf.core.localData(e,t)}),null==u||typeof u.isValidCommonPath==a||u.isValidCommonPath(c)||u.createCommonDir(c),p=!0}function d(e){return e.replace(/^\s+|\s+$/g,"")}function _(e,t){var n=f[e];n?n.push(t):n=f[e]=[t],s(l+e,n.join("|"))}function m(e,t){var n=f[e],i=r.indexOf(t,n);0<=i&&(n.splice(i,1),s(l+e,0===n.length?null:n.join("|")))}t.exports=function(){o.extend(this,{dir:function(e){if(p||g(),u.isValidCommonPath(c+"/"+e)){var t=f[e];if(!t){if(!(t=i(l+e)))return null;t=f[e]=t.split("|")}for(var n=t.slice(),s=0,r=n.length;s<r;s++){var a=t[s];u.isValidCommonPath(c+"/"+e+"/"+a)||m(e,a)}return n}return null},append:function(e,t,n){p||g();var i=c+"/"+e;u.isValidCommonPath(i)||u.createCommonDir(i),u.isValidCommonPath(i+"/"+t)||_(e,t);var s=u.openCommonFile(i+"/"+t,"a");s.writeLine(d(n)),u.closeCommonFile(s)},write:function(e,t,n){p||g();var i=c+"/"+e;u.isValidCommonPath(i)||u.createCommonDir(i),u.isValidCommonPath(i+"/"+t)||_(e,t);var s=u.openCommonFile(i+"/"+t,"w");s.writeLine(d(n)),u.closeCommonFile(s)},deleteFile:function(e,t){p||g();var n=c+"/"+e;return!!u.isValidCommonPath(n)&&(m(e,t),u.deleteCommonFile(n+"/"+t))},read:function(e,t){p||g();var n=c+"/"+e;if(!u.isValidCommonPath(n))return null;var i=u.openCommonFile(n+"/"+t,"r");if(i){for(var s,r=[];s=i.readLine();)r.push(s);return u.closeCommonFile(i),r.join("\n")}return m(e,t),""}})}},{19:19,24:24}],29:[function(e,t,n){var i=e(24);t.exports=function(){i.extend(this,{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}})}},{24:24}],30:[function(e,t,n){var i=e(21),s=e(17),r=e(49).atvHttpGet,a=e(49).atvHttpPost(),o=e(45),u=e(29),c="undefined",l=s.UNKNOWN_VALUE,f=s.UNKNOWN_RESOLUTION,p=null,g=null,d=null;function _(){null==p&&(g=typeof atv!=c&&typeof atv.device!=c&&atv.device.idForVendor?(p=i.safeGet(atv.device.idForVendor,""),"62"):(p=+new Date+~~(1e3*Math.random()),"72"),d=null)}var m={PLATFORM:"atv",httpGet:r,httpPost:a,Storage:o,IO:u,getCrossPublisherId:function(){return _(),d},getAppName:function(){return l},getAppVersion:function(){return l},getVisitorId:function(){return _(),p},getVisitorIdSuffix:function(){return g},getDeviceModel:function(){return"Apple TV"},getPlatformVersion:function(){return typeof atv!=c&&typeof atv.device!=c&&i.safeGet(atv.device.softwareVersion,l)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return typeof atv!=c&&typeof atv.device!=c&&i.safeGet(atv.device.softwareVersion,l)},getDisplayResolution:function(){return typeof atv.device!=c&&typeof atv.device.screenFrame!=c&&typeof atv.device.screenFrame.height!=c&&typeof atv.device.screenFrame.width!=c?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:f},getLanguage:function(){return typeof atv!=c&&typeof atv.device!=c&&i.safeGet(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(e,t){return typeof atv!=c&&typeof atv.setTimeout!=c&&atv.setTimeout(e,t)},setInterval:function(e,t){return typeof atv!=c&&typeof atv.setInterval!=c&&atv.setInterval(e,t)},clearTimeout:function(e){return typeof atv!=c&&typeof atv.clearTimeout!=c&&atv.clearTimeout(e)},clearInterval:function(e){return typeof atv!=c&&typeof atv.clearInterval!=c&&atv.clearInterval(e)},isCompatible:function(){return typeof window==c&&typeof atv!=c},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=m},{17:17,21:21,29:29,45:45,49:49}],31:[function(e,t,n){var i=e(21),s=e(20),r=e(17),a=e(50),o=e(48).ajaxHttpPost,u=e(46),c=e(27),l="undefined",f=r.UNKNOWN_VALUE,p=r.UNKNOWN_RESOLUTION,g={PLATFORM:"chromecast",httpGet:a,httpPost:o,Storage:u,IO:c,getCrossPublisherId:function(){return null},getAppName:function(){return typeof ns_.crm===l?f:ns_.crm.getApplicationData().name},getAppVersion:function(){return f},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return"chromecast"},getPlatformVersion:function(){return cast.receiver.VERSION+"-"+i.safeGet(s.getBrowserName()+" "+s.getBrowserFullVersion(),f)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var e=typeof window!=l&&i.exists(window.screen)&&i.exists(window.screen.availWidth)?window.screen.availWidth:0,t=typeof window!=l&&i.exists(window.screen)&&i.exists(window.screen.availHeight)?window.screen.availHeight:0;return 0<e&&0<t?e+"x"+t:p},getLanguage:function(){return typeof window!=l&&i.exists(window.navigator)&&i.safeGet(window.navigator.language,"")||f},getPackageName:function(){return f},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!==l&&!i.isEmpty(window.cast)&&!i.isEmpty(cast.receiver)},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=g},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],32:[function(e,t,n){t.exports={SmartTV:0,Netcast:1,Cordova:2,Trilithium:3,AppleTV:4,Chromecast:5,Xbox:6,webOS:7,tvOS:8,nodejs:9,html5:10,JSMAF:11,Skeleton:12}},{}],33:[function(e,t,n){var i=e(21),s=e(17),r=e(50),a=e(48).ajaxHttpGet,o=e(48).ajaxHttpPost,u=e(46),c=e(27),l="undefined",f=s.UNKNOWN_VALUE,p=s.UNKNOWN_RESOLUTION,g=null,d=null,_=null;function m(){return typeof device!=l&&typeof device.available!=l&&device.available&&typeof window!=l&&typeof window.navigator!=l}function h(){if(null==g){var e=m()&&typeof device!=l&&i.exists(device.uuid)&&0<device.uuid.length?device.uuid:null;_=null!=e?(d="31",g=e):(g=+new Date+~~(1e3*Math.random()),d="72",null)}}var v={PLATFORM:"cordova",httpGet:function(){return typeof Image!=l?r.apply(this,arguments):a.apply(this,arguments)},httpPost:o,Storage:u,IO:c,getCrossPublisherId:function(){return h(),_},getAppName:function(){return f},getAppVersion:function(){return f},getVisitorId:function(){return h(),g},getVisitorIdSuffix:function(){return d},getDeviceModel:function(){return typeof device!=l&&i.exists(device.model)||f},getPlatformVersion:function(){return typeof device!=l&&i.exists(device.cordova)&&device.cordova||f},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof device!=l&&i.exists(device.platform)&&"cordova"+device.platform||"cordova"},getRuntimeVersion:function(){return typeof device!=l&&i.exists(device.version)||f},getDisplayResolution:function(){var e=typeof window!=l&&i.exists(window.screen)&&i.exists(window.screen.availWidth)&&window.screen.availWidth||0,t=typeof window!=l&&i.exists(window.screen)&&i.exists(window.screen.availHeight)&&window.screen.availHeight||0;return 0<e&&0<t?e+"x"+t:p},getLanguage:function(){return typeof window!=l&&i.exists(window.navigator)&&i.exists(window.navigator.language)&&window.navigator.language||f},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==l||!i.exists(window.navigator)||!i.exists(window.navigator.onLine)||window.navigator.onLine},isCompatible:m,isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=v},{17:17,21:21,27:27,46:46,48:48,50:50}],34:[function(e,t,n){var i=e(21),s=e(20),r=e(17),a=e(50),o=e(48).ajaxHttpGet,u=e(48).ajaxHttpPost,c=e(46),l=e(27),f="undefined",p=typeof document!=f&&document||void 0,g=r.UNKNOWN_VALUE,d=r.UNKNOWN_RESOLUTION,_={PLATFORM:"html5",httpGet:function(){return typeof Image!=f?a.apply(this,arguments):o.apply(this,arguments)},httpPost:u,Storage:c,IO:l,getCrossPublisherId:function(){return null},getAppName:function(){return p&&i.exists(p.title)&&p.title||g},getAppVersion:function(){return g},getVisitorId:function(){return this.getDeviceModel()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return typeof window!=f&&i.exists(window.navigator)&&i.safeGet(window.navigator.platform,"")||""},getPlatformVersion:function(){return i.safeGet(s.getBrowserName()+" "+s.getBrowserFullVersion(),"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var e,t;typeof window!=f&&window.screen&&window.screen.width&&(e=window.screen.width),typeof window!=f&&window.screen&&window.screen.width&&(t=window.screen.height);var n=1;return typeof window!=f&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<e&&0<t?(e*=n)+"x"+(t*=n):d},getApplicationResolution:function(){var e,t;typeof window!=f&&window.innerWidth&&(e=window.innerWidth),typeof window!=f&&window.innerHeight&&(t=window.innerHeight);var n=1;return typeof window!=f&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<e&&0<t?(e*=n)+"x"+(t*=n):d},getLanguage:function(){return typeof window!=f&&i.exists(window.navigator)&&i.safeGet(window.navigator.language,"")||g},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==f||!i.exists(window.navigator)||!i.exists(window.navigator.onLine)||window.navigator.onLine},isCompatible:function(){try{return typeof window!==f&&i.exists(window.navigator)&&i.exists(window.localStorage)&&i.exists(p)&&!!p.createElement("canvas").getContext}catch(e){return!1}},isConnectionSecure:function(){return!!p&&"s"===p.location.href.charAt(4)}};t.exports=_},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],35:[function(e,t,n){var i=e(21),s=e(17),r=e(48).ajaxHttpGet,a=e(48).ajaxHttpPost,o=e(46),u=e(27),c="undefined",l=s.UNKNOWN_VALUE,f=s.UNKNOWN_RESOLUTION,p=null,g=null,d=null;function _(){if(null==p)if(typeof jsmaf!=c&&i.exists(jsmaf.hardwareId)){var e=jsmaf.hardwareId;g="31",d=p=e}else p=+new Date+~~(1e3*Math.random()),g="72",d=null}function m(){return typeof jsmaf==c||!i.exists(jsmaf.networkStatus)||"connected"==jsmaf.networkStatus}var h={PLATFORM:"jsmaf",httpGet:r,httpPost:a,Storage:o,IO:u,getCrossPublisherId:function(){return _(),d},getAppName:function(){return l},getAppVersion:function(){return l},getVisitorId:function(){return _(),p},getVisitorIdSuffix:function(){return _(),g},getDeviceModel:function(){return typeof jsmaf!=c&&i.exists(jsmaf.platform)?jsmaf.platform:l},getPlatformName:function(){return"js"},getPlatformVersion:function(){return l},getRuntimeName:function(){return"jsmaf"},getRuntimeVersion:function(){return typeof jsmaf!=c&&i.exists(jsmaf.version)?jsmaf.version:l},getDisplayResolution:function(){return typeof jsmaf!=c&&i.exists(jsmaf.screenWidth)&&i.exists(jsmaf.screenHeight)?jsmaf.screenWidth+"x"+jsmaf.screenHeight:f},getLanguage:function(){return typeof jsmaf!=c&&i.exists(jsmaf.locale)?jsmaf.locale:l},getPackageName:function(){return null},isConnectionAvailable:m,isCompatible:function(){return typeof jsmaf!=c},setTimeout:function(e,t){return jsmaf.setTimeout(e,t)},setInterval:function(e,t){return jsmaf.setInterval(e,t)},clearTimeout:function(e){return jsmaf.clearTimeout(e)},clearInterval:function(e){return jsmaf.clearInterval(e)},getDeviceArchitecture:function(){if(typeof jsmaf==c||!i.exists(jsmaf.platform))var e=l;return"ps3"==jsmaf.platform?e="cell":"ps4"==jsmaf.platform?e="ps4":"vita"==jsmaf.platform&&(e="vita"),e},getConnectionType:function(){return m()&&typeof jsmaf!=c&&i.exists(jsmaf.connectionType)?"wired"==jsmaf.connectionType?"eth":"wireless"==jsmaf.connectionType?"wifi":"phone"==jsmaf.connectionType?"wwan":l:l},getDeviceJailBrokenFlag:function(){return l},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=h},{17:17,21:21,27:27,46:46,48:48}],36:[function(e,t,n){var i=e(50),s=e(52).voidHttpPost,r=e(46),a=e(29),o=e(17),u=o.UNKNOWN_VALUE,c=o.UNKNOWN_RESOLUTION,l={PLATFORM:"generic",httpGet:i,httpPost:s,Storage:r,IO:a,onDataFetch:function(e){e()},getCrossPublisherId:function(){return null},getAppName:function(){return u},getAppVersion:function(){return u},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return u},getPlatformVersion:function(){return u},getPlatformName:function(){return"js"},getRuntimeName:function(){return u},getRuntimeVersion:function(){return u},getDisplayResolution:function(){return c},getApplicationResolution:function(){return c},getLanguage:function(){return u},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},autoDetect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t){return setTimeout(e,t)},setInterval:function(e,t){return setInterval(e,t)},clearTimeout:function(e){return clearTimeout(e)},clearInterval:function(e){return clearInterval(e)},getDeviceArchitecture:function(){return u},getConnectionType:function(){return u},getDeviceJailBrokenFlag:function(){return u},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}};t.exports=l},{17:17,29:29,46:46,50:50,52:52}],37:[function(e,t,n){var i=e(21),s=e(17),r=e(50),a=e(48).ajaxHttpGet,o=e(52).voidHttpPost,u=e(46),c=e(29),l="undefined",f=s.UNKNOWN_VALUE,p=s.UNKNOWN_RESOLUTION,g=null,d=null,_=null;function m(){if(null==g){var e=function(){if(typeof ns_!=l&&i.exists(ns_.netcastDevice)){if(i.exists(ns_.netcastDevice.net_macAddress)&&i.isNotEmpty(ns_.netcastDevice.net_macAddress))return ns_.netcastDevice.net_macAddress;if(i.exists(ns_.netcastDevice.serialNumber)&&i.isNotEmpty(ns_.netcastDevice.serialNumber))return ns_.netcastDevice.serialNumber}return null}();_=null!=e?(d="31",g=e):(g=+new Date+~~(1e3*Math.random()),d="72",null)}}var h={PLATFORM:"netcast",httpGet:function(){return typeof Image!=l?r.apply(this,arguments):a.apply(this,arguments)},httpPost:o,Storage:u,IO:c,getCrossPublisherId:function(){return m(),_},getAppName:function(){return f},getAppVersion:function(){return f},getVisitorId:function(){return m(),g},getVisitorIdSuffix:function(){return d},getDeviceModel:function(){return typeof ns_!=l&&i.exists(ns_.netcastDevice)&&i.exists(ns_.netcastDevice.modelName)&&ns_.netcastDevice.modelName||f},getPlatformVersion:function(){return typeof ns_!=l&&i.exists(ns_.netcastDevice)&&i.safeGet(ns_.netcastDevice.version,f)||f},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof ns_!=l&&i.exists(ns_.netcastDevice)?"lg-ott"+i.safeGet(ns_.netcastDevice.platform,f):f},getRuntimeVersion:function(){if(typeof ns_!=l&&i.exists(ns_.netcastDevice)){if(i.exists(ns_.netcastDevice.version))return ns_.netcastDevice.version;if(i.exists(ns_.netcastDevice.hwVersion))return ns_.netcastDevice.hwVersion;if(i.exists(ns_.netcastDevice.swVersion))return ns_.netcastDevice.swVersion}return f},getDisplayResolution:function(){if(typeof ns_!=l&&i.exists(ns_.netcastDevice)&&i.exists(ns_.netcastDevice.osdResolution))switch(ns_.netcastDevice.osdResolution){case 0:return"640x480";case 1:return"720x576";case 2:return"1280x720";case 3:return"1920x1080";case 4:return"1366x768"}return p},getLanguage:function(){return typeof ns_!=l&&i.exists(ns_.netcastDevice)&&i.safeGet(ns_.netcastDevice.tvLanguage2,i.safeGet(window.navigator.language))||f},getPackageName:function(){return null},isConnectionAvailable:function(){return typeof ns_.netcastDevice===l||!!ns_.netcastDevice.net_isConnected},getConnectionType:function(){if(typeof ns_.netcastDevice!==l){if(0===ns_.netcastDevice.networkType)return"eth";if(1===ns_.netcastDevice.networkType)return"wifi"}return f},isCompatible:function(){return typeof ns_!=l&&typeof ns_.netcastDevice!=l&&typeof ns_.netcastDevice.version!=l&&typeof window!=l&&typeof window.navigator!=l},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=h},{17:17,21:21,29:29,46:46,48:48,50:50,52:52}],38:[function(e,i,s){(function(t){var r=e(21),a=e(17),o=e(52).voidHttpPost,u=e(46),c=e(29),l="undefined",f=a.UNKNOWN_VALUE,p=a.UNKNOWN_RESOLUTION,g=null,d=null,_=null;function m(){null==g&&(g=+new Date+~~(1e3*Math.random()),d="72",_=null)}function h(t){var n=this,i=0;n.send=function(s){e("http").get(s,(function(e){var s=e.statusCode;if((302==s||301==s)&&i<20&&e.headers&&e.headers.location)return i++,void n.send(e.headers.location);t(s)})).on("error",(function(){t()}))}}var v={PLATFORM:"nodejs",httpGet:function(e,t){new h(t).send(e)},httpPost:o,Storage:u,IO:c,getCrossPublisherId:function(){return m(),_},getVisitorId:function(){return m(),g},getVisitorIdSuffix:function(){return d},getPlatformVersion:function(){var t=e("os");return[t.type(),t.platform(),t.release()].join(";")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"nodejs"},getRuntimeVersion:function(){return typeof n===l||r.isEmpty(n.version)?f:n.version},getDisplayResolution:function(){return p},isCompatible:function(){return typeof window===l&&typeof i!==l&&typeof s!==l&&typeof t!==l&&typeof n!==l&&r.exists(n.version)},isConnectionSecure:function(){return!1}};i.exports=v}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{17:17,21:21,29:29,46:46,52:52,undefined:void 0}],39:[function(e,t,n){var i=e(24),s=e(32),r=e(36),a=e(40),o=e(37),u=e(43),c=e(33),l=e(41),f=e(30),p=e(44),g=e(31),d=e(42),_=e(35),m=e(38),h=e(34),v=!1;r.autoDetect=function(){v||(v=!0,a.isCompatible()?i.extend(r,a):o.isCompatible()?i.extend(r,o):u.isCompatible()?i.extend(r,u):c.isCompatible()?i.extend(r,c):l.isCompatible()?i.extend(r,l):f.isCompatible()?i.extend(r,f):p.isCompatible()?i.extend(r,p):g.isCompatible()?i.extend(r,g):d.isCompatible()?i.extend(r,d):_.isCompatible()?i.extend(r,_):m.isCompatible()?i.extend(r,m):h.isCompatible()&&i.extend(r,h))},r.autoSelect=r.autoDetect,r.setPlatformAPI=function(e){switch(v=!0,e){case s.SmartTV:i.extend(r,a);break;case s.Netcast:i.extend(r,o);break;case s.Cordova:i.extend(r,c);break;case s.Trilithium:i.extend(r,l);break;case s.AppleTV:i.extend(r,f);break;case s.Chromecast:i.extend(r,g);break;case s.Xbox:i.extend(r,p);break;case s.webOS:i.extend(r,u);break;case s.tvOS:i.extend(r,d);break;case s.JSMAF:i.extend(r,_);break;case s.nodejs:i.extend(r,m);break;case s.html5:i.extend(r,h);break;case s.Skeleton:break;default:v=!1}}},{24:24,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,41:41,42:42,43:43,44:44}],40:[function(e,t,n){var i=e(21),s=e(17),r=e(48).ajaxHttpGet,a=e(52).voidHttpPost,o=e(47),u=e(28),c="undefined",l=s.UNKNOWN_VALUE,f=s.UNKNOWN_RESOLUTION,p=null,g=null,d=null;function _(){if(null==p){var e=function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return null;var e=sf.core.sefplugin("NNAVI");if("function"!=typeof e.Open||"function"!=typeof e.Execute)return null;e.Open("Network","1.001","Network");var t=e.Execute("GetMAC","0");if(!i.isEmpty(t))return t;if(t=e.Execute("GetMAC","1"),!i.isEmpty(t))return t;var n=e.Execute("GetDeviceID");return i.isEmpty(n)?null:n}();d=null!=e?(g="31",p=e):(p=+new Date+~~(1e3*Math.random()),g="72",null)}}var m={PLATFORM:"smarttv",httpGet:r,httpPost:a,Storage:o,IO:u,getCrossPublisherId:function(){return _(),d},getAppName:function(){return l},getAppVersion:function(){return typeof sf!=c&&i.exists(sf.env)&&i.exists(sf.env.getAppVersion)&&sf.env.getAppVersion()||l},getVisitorId:function(){return _(),p},getVisitorIdSuffix:function(){return g},getDeviceModel:function(){return typeof sf!=c&&i.exists(sf.core)&&i.exists(sf.core.getEnvValue)&&sf.core.getEnvValue("modelid")||l},getPlatformVersion:function(){return"2.0.0"},getPlatformName:function(){return"js"},getRuntimeName:function(){if(typeof sf!==c&&i.exists(sf.env)&&i.exists(sf.env.getProductType)&&i.exists(sf.env.PRODUCTTYPE_TV)&&i.exists(sf.env.PRODUCTTYPE_MONITOR)&&i.exists(sf.env.PRODUCTTYPE_BD)){var e=[];return e[sf.env.PRODUCTTYPE_TV]="samsung-smarttv-tv",e[sf.env.PRODUCTTYPE_MONITOR]="samsung-smarttv-monitor",e[sf.env.PRODUCTTYPE_BD]="samsung-smarttv-bd",e[sf.env.getProductType()]}},getRuntimeVersion:function(){return typeof sf!=c&&i.exists(sf.env)&&i.exists(sf.env.getFirmwareVer)&&sf.env.getFirmwareVer().version},getDisplayResolution:function(){if(typeof sf===c||!i.exists(sf.env)||!i.exists(sf.env.getScreenSize))return f;var e=sf.env.getScreenSize();return e.width+"x"+e.height},getLanguage:function(){if(typeof sf!==c&&i.exists(sf.env)&&i.exists(sf.env.getLanguageCode))return sf.env.getLanguageCode()},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!=c&&typeof window.navigator!=c&&typeof sf!=c&&typeof sf.env!=c},getConnectionType:function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return l;var e=sf.core.sefplugin("NETWORK");if("function"!=typeof e.Open||"function"!=typeof e.Execute)return l;e.Open("Network","1.001","Network");var t=e.Execute("GetActiveType");return 0===t?"wired":1===t?"wireless":l},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=m},{17:17,21:21,28:28,47:47,48:48,52:52}],41:[function(e,t,n){var i=e(21),s=e(17),r=e(51),a=e(52),o=e(46),u=e(29),c="undefined",l=s.UNKNOWN_VALUE,f=s.UNKNOWN_RESOLUTION,p=null,g=null,d=null;function _(){if(null==p){var e=i.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:i.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null;d=null!=e?(g="31",p=e):(p=+new Date+~~(1e3*Math.random()),g="72",null)}}var m={PLATFORM:"trilithium",httpGet:r,httpPost:a,Storage:o,IO:u,getCrossPublisherId:function(){return _(),d},getAppName:function(){return i.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:l},getAppVersion:function(){return i.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:l},getVisitorId:function(){return _(),p},getVisitorIdSuffix:function(){return g},getDeviceModel:function(){return i.safeGet(engine.stats.device.platform,l)},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return i.safeGet(engine.stats.device.version,l)},getDisplayResolution:function(){return typeof screen!=c&&typeof screen.height!=c&&typeof screen.width!=c?screen.height+"x"+screen.width:f},getLanguage:function(){return l},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof engine!=c&&typeof engine.stats!=c},isConnectionSecure:function(){return typeof document!=c&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=m},{17:17,21:21,29:29,46:46,51:51,52:52}],42:[function(e,t,n){var i=e(21),s=e(17),r=e(48).ajaxHttpGet,a=e(48).ajaxHttpPost,o=e(46),u=e(27),c="undefined",l=s.UNKNOWN_VALUE,f=s.UNKNOWN_RESOLUTION,p=null,g=null,d=null;function _(){null==p&&(g=i.isEmpty(Device.vendorIdentifier)?(p=+new Date+~~(1e3*Math.random()),"72"):(p=Device.vendorIdentifier,"62"),d=p)}var m={PLATFORM:"tvos",httpGet:r,httpPost:a,Storage:o,IO:u,getCrossPublisherId:function(){return _(),d},getAppName:function(){return Device.appIdentifier},getAppVersion:function(){return Device.appVersion},getVisitorId:function(){return _(),p},getVisitorIdSuffix:function(){return g},getDeviceModel:function(){return Device.productType},getPlatformVersion:function(){return Device.systemVersion},getPlatformName:function(){return"js"},getRuntimeName:function(){return"tvos"},getRuntimeVersion:function(){return Device.systemVersion},getDisplayResolution:function(){return f},getLanguage:function(){return Settings.language},getPackageName:function(){return l},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window===c&&typeof Device!==c&&"Apple TV"===Device.model},isConnectionSecure:function(){return!0}};t.exports=m},{17:17,21:21,27:27,46:46,48:48}],43:[function(e,t,n){var i,s,r,a=e(21),o=e(17),u=e(50),c=e(48).ajaxHttpPost,l=e(46),f=e(27),p="undefined",g=o.UNKNOWN_VALUE,d=o.UNKNOWN_RESOLUTION,_={PLATFORM:"webos",httpGet:u,httpPost:c,Storage:l,IO:f,onDataFetch:function(e,t){var n,a,o,u=3,c=function(){0==--u&&e()};n=c,webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","firmwareVersion","UHD","sdkVersion"]},onSuccess:function(e){e.returnValue&&(i=e),n()},onFailure:function(){n()}}),a=c,webOS.service.request("luna://com.webos.settingsservice",{method:"getSystemSettings",parameters:{category:"option"},onSuccess:function(e){e.returnValue&&(s=e),a()},onFailure:function(){a()}}),o=c,webOS.service.request("luna://com.webos.service.connectionmanager",{method:"getStatus",onSuccess:function(e){e.returnValue&&(r=e),o()},onFailure:function(){o()}})},getCrossPublisherId:function(){return typeof webOS!==p&&webOS.device&&webOS.device.serialNumber&&"Unknown"!=webOS.device.serialNumber?webOS.device.serialNumber:null},getAppName:function(){return g},getAppVersion:function(){return g},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return i&&i.modelName?i.modelName:g},getPlatformVersion:function(){return i&&i.sdkVersion?i.sdkVersion:g},getPlatformName:function(){return"js"},getRuntimeName:function(){return"webOS"},getRuntimeVersion:function(){return typeof webOS!==p&&webOS.device?webOS.device.platformVersion:g},getDisplayResolution:function(){var e=0;typeof webOS!==p&&webOS.device?e=webOS.device.screenWidth:typeof window!=p&&window.screen&&(e=window.screen.availWidth);var t=0;return typeof webOS!==p&&typeof webOS.device!==p?t=webOS.device.screenHeight:typeof window!=p&&window.screen&&(t=window.screen.availHeight),0<e&&0<t?e+"x"+t:d},getLanguage:function(){return s&&s.locales&&(s.locales.UI||s.locales.TV)||g},getPackageName:function(){return g},isConnectionAvailable:function(){return!r||!r.isInternetConnectionAvailable||r.isInternetConnectionAvailable},isCompatible:function(){return typeof window!==p&&!a.isEmpty(window.webOS)&&!a.isEmpty(webOS.service)&&!a.isEmpty(webOS.service.request)},getConnectionType:function(){if(r&&(r.wired||r.wifi)){if("connected"===r.wired.state&&"yes"===r.wired.onInternet)return"eth";if("connected"===r.wifi.state&&"yes"===r.wifi.onInternet)return"wifi"}return g},isConnectionSecure:function(){return typeof document!=p&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=_},{17:17,21:21,27:27,46:46,48:48,50:50}],44:[function(e,t,n){var i=e(17),s=e(53).xboxHttpGet,r=e(53).xboxHttpPost,a=e(46),o=e(27),u="undefined",c=i.UNKNOWN_VALUE,l=i.UNKNOWN_RESOLUTION,f=null,p=null,g=null,d=!1,_=!1,m=!1;function h(){typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.addEventListener("currentuserchanged",(function(){_=!0})),v(),m=!0}function v(){var e=null;if(typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser){var t=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser;null!=t&&!t.isGuest&&t.isSignedIn&&(e=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId)}g=e}var y={PLATFORM:"xbox",httpGet:s,httpPost:r,Storage:a,IO:o,getCrossPublisherId:function(){return m||h(),_&&v(),g},getAppName:function(){var e=c;return typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(e=Windows.ApplicationModel.Package.current.id.name),e},getAppVersion:function(){var e=c;if(typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.version){var t=Windows.ApplicationModel.Package.current.id.version;e=t.major+"."+t.minor+"."+t.build+"."+t.revision}return e},getVisitorId:function(){return d||function(){f=typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.System&&Windows.Xbox.System.Console&&Windows.Xbox.System.Console.applicationSpecificDeviceId?Windows.Xbox.System.Console.applicationSpecificDeviceId:this.getDeviceModel()+ +new Date+~~(1e3*Math.random()),p="72",d=!0}(),f},getVisitorIdSuffix:function(){return p},getDeviceModel:function(){return"xbox one"},getPlatformVersion:function(){var e=c;return typeof navigator!=u&&navigator&&navigator.userAgent&&navigator.userAgent.split(";").filter((function(e){return-1!=e.indexOf("Windows NT")})).forEach((function(t){e=t.substr(t.indexOf("Windows NT")+11,t.length-1)})),e},getPlatformName:function(){return"xbox"},getRuntimeName:function(){return"winjs"},getRuntimeVersion:function(){var e=c;return typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.dependencies&&Windows.ApplicationModel.Package.current.dependencies.filter((function(e){return e&&e.id&&e.id.name&&-1!=e.id.name.indexOf("WinJS")&&e.id.version})).forEach((function(t){e=t.id.version.major+"."+t.id.version.minor+"."+t.id.version.build+"."+t.id.version.revision})),e},getDisplayResolution:function(){var e=l;if(typeof Windows!=u&&Windows&&Windows.Xbox&&Windows.Xbox.Graphics&&Windows.Xbox.Graphics.Display&&Windows.Xbox.Graphics.Display.DisplayConfiguration&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView()&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight){var t=Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode;e=t.rawWidth+"x"+t.rawHeight}return e},getApplicationResolution:function(){var e=l;return typeof window!=u&&window.innerWidth&&window.innerHeight&&(e=window.innerWidth+"x"+window.innerHeight),e},getLanguage:function(){var e=c;return typeof Windows!=u&&Windows&&Windows.System&&Windows.System.UserProfile&&Windows.System.UserProfile.GlobalizationPreferences&&Windows.System.UserProfile.GlobalizationPreferences.languages&&(e=Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0)),e},getPackageName:function(){var e=c;return typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(e=Windows.ApplicationModel.Package.current.id.name),e},isConnectionAvailable:function(){return!(typeof Windows!=u&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel())||4==Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel()},isCompatible:function(){return typeof WinJS!=u&&WinJS&&typeof Windows!=u&&Windows&&Windows.Xbox},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return m||h(),_},getDeviceArchitecture:function(){var e="unknown";if(typeof Windows!=u&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.architecture)switch(Windows.ApplicationModel.Package.current.id.architecture){case 5:e="arm";break;case 11:e="neutral";break;case 9:e="x64";break;case 0:e="x86"}return e},getConnectionType:function(){var e=c;if(typeof Windows!=u&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType)switch(Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType){case 6:e="eth";break;case 71:e="wifi"}return e},getDeviceJailBrokenFlag:function(){return c},isConnectionSecure:function(){return typeof document!=u&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=y},{17:17,27:27,46:46,53:53}],45:[function(e,t,n){var i=e(24),s="undefined",r="cs_";t.exports=function(){var e=typeof atv!=s&&typeof atv.localStorage!=s&&atv.localStorage||null;i.extend(this,{get:function(t){return e&&t&&e.getItem(r+t)||null},set:function(t,n){e&&t&&(e[r+t]=n)},has:function(t){return e&&t&&null!=e.getItem(r+t)||!1},remove:function(t){e&&t&&e.removeItem(r+t)},clear:function(){}})}},{24:24}],46:[function(e,t,n){var i=e(24),s="cs_";t.exports=function(){var e;!function(){try{e="undefined"!=typeof localStorage?localStorage:null}catch(t){e=null}}(),i.extend(this,{get:function(t){try{return e&&"function"==typeof e.getItem?e.getItem(s+t):e?e[s+t]:e}catch(t){}},set:function(t,n){try{e&&"function"==typeof e.setItem?e.setItem(s+t,n):e&&(e[s+t]=n)}catch(t){}},has:function(t){try{return e&&"function"==typeof e.getItem?e.getItem(s+t):e?e[s+t]:e}catch(t){}},remove:function(t){try{e&&"function"==typeof e.removeItem?e.removeItem(s+t):e&&delete e[s+t]}catch(t){}},clear:function(){try{for(var t=0;e&&t<e.length;++t){var n=e.key(t);n.substr(0,s.length)===s&&("function"==typeof e.removeItem?e.removeItem(n):delete e[n])}}catch(t){}}})}},{24:24}],47:[function(e,t,n){var i,s,r=e(24),a="cs_";"undefined"!=typeof sf?s=i=function(e,t){sf.core.localData(e,t)}:(s=function(e,t){$.sf.setData(e,void 0===t?null:t)},i=function(e){return $.sf.getData(e)}),t.exports=function(){r.extend(this,{get:function(e){return i(a+e)},set:function(e,t){s(a+e,t)},has:function(e){return void 0!==i(a+e)},remove:function(e){s(a+e,null)}})}},{24:24}],48:[function(e,t,n){var i="undefined";n.ajaxHttpGet=function(e,t){if(typeof XMLHttpRequest!=i){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&(t&&t(n.status),n=null)},n.send()}else"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},n.ajaxHttpPost=function(e,t,n){if(typeof XMLHttpRequest!=i){var s=new XMLHttpRequest;s.open("POST",e,!0),s.onreadystatechange=function(){4===s.readyState&&(n&&n(s.status),s=null)},s.send(t)}else"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},{}],49:[function(e,t,n){var i="undefined";n.atvHttpGet=function(e,t){if(typeof atv!=i&&typeof XMLHttpRequest!=i){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4==n.readyState&&(t&&t(n.status),n=null)},n.send()}else typeof atv!=i&&"function"==typeof atv.setTimeout?t&&atv.setTimeout(t,0):t&&t()},n.atvHttpPost=function(e,t,n){if(typeof atv!=i&&typeof XMLHttpRequest!=i){var s=new XMLHttpRequest;s.open("POST",e,!0),s.onreadystatechange=function(){4===s.readyState&&(n&&n(s.status),s=null)},s.send(t)}else typeof atv!=i&&"function"==typeof atv.setTimeout?n&&atv.setTimeout(n,0):n&&n()}},{}],50:[function(e,t,n){t.exports=function(e,t){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}else"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},{}],51:[function(e,t,n){t.exports=function(e,t){"undefined"!=typeof engine?(engine.createHttpClient().createRequest("GET",e,null).start(),t&&setTimeout(t,0)):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},{}],52:[function(e,t,n){t.exports.voidHttpGet=function(e,t){"function"==typeof setTimeout?t&&setTimeout((function(){t(200)}),0):t&&t(200)},t.exports.voidHttpPost=function(e,t,n){"function"==typeof setTimeout?n&&setTimeout((function(){n(200)}),0):n&&n(200)}},{}],53:[function(e,t,n){var i="undefined";n.xboxHttpGet=function(e,t){typeof WinJS!=i&&typeof WinJS.xhr!=i?WinJS.xhr({url:e}).then((function(e){t&&t(e.status)}),(function(){t&&t()})):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},n.xboxHttpPost=function(e,t,n){typeof WinJS!=i&&typeof WinJS.xhr!=i?WinJS.xhr({type:"post",url:e,data:t,headers:{"Content-type":"application/xml"}}).then((function(e){n&&n(e.status)}),(function(){n&&n()})):"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},{}],54:[function(e,t,n){var i=e(24),s=e(17),r=e(21),a=e(68),o=e(23);function u(){var e,t,n,u,c,l,f,p,g,d,_,m,h,v,y,S,b,P,E,A,T,I,k,C,L,w,N,D,O,R,x,B,U,M,F,G,V,K,W,j,Y,H,q,X,z,J,Z,Q,$,ee,te,ne,ie,se,re,ae,oe=this,ue=500;i.extend(oe,{getHash:function(){return e},setHash:function(t){e=t},setPlaybackIntervalMergeTolerance:function(e){ue=e},getPlaybackIntervalMergeTolerance:function(){return ue},setInternalLabel:function(e,t){u[e]=t},getInternalLabel:function(e){return u[e]},hasInternalLabel:function(e){return null!=u[e]},setLabels:function(e){e&&i.extend(c,e)},getLabels:function(){return c},setLabel:function(e,t){c[e]=t},getLabel:function(e){return c[e]},hasLabel:function(e){return e in c},getClipNumber:function(){return parseInt(oe.getInternalLabel("ns_st_cn"))},setClipNumber:function(e){oe.setInternalLabel("ns_st_cn",e+"")},getPartNumber:function(){return oe.hasLabel("ns_st_pn")?parseInt(oe.getLabel("ns_st_pn")):parseInt(oe.getInternalLabel("ns_st_pn"))},createLabels:function(e,t,s){var c=e,l=parseInt(c.ns_st_po),f=r.isEmpty(c.ns_st_ap)?T:parseInt(c.ns_st_ap);c.ns_st_dap=s&&ae<0&&0<m-l?(c.ns_st_ap=f+m-l,f+m-l-I):s&&0<ae&&0<l-m?(c.ns_st_ap=f+l-m,f+l-m-I):(c.ns_st_ap=f)-I;var p=r.isEmpty(c.ns_st_pt)?oe.getPlaybackTime():parseInt(c.ns_st_pt);c.ns_st_pt=p+(isNaN(g)?0:t-g)+"",c.ns_st_dpt=p+(isNaN(g)?0:t-g)-d+"",c.ns_st_ipt=p+(isNaN(g)?0:t-g)-_+"";var h=r.isEmpty(c.ns_st_et)?oe.getElapsedTime():parseInt(c.ns_st_et);c.ns_st_et=h+(isNaN(y)?0:t-y)+"",c.ns_st_det=h+(isNaN(y)?0:t-y)-S+"";var v=r.isEmpty(c.ns_st_bt)?oe.getBufferingTime():parseInt(c.ns_st_bt);c.ns_st_bt=v+"",c.ns_st_dbt=v+(isNaN(U)?0:t-U)-M+"";var b=k,A=C;s&&(b=a.addNewPlaybackInterval(o(k),ae<0?l:L,ae<0?L:l,ue),A=a.addNewPlaybackInterval(o(C),ae<0?l:L,ae<0?L:l,ue));for(var B,F=0,V=0,K=0;K<b.length;K++)F+=B=Math.abs(b[K].end-b[K].start),V<B&&(V=B);var W=0,Y=0;for(K=0;K<A.length;K++)W+=B=Math.abs(A[K].end-A[K].start),Y<B&&(Y=B);c.ns_st_upc=F+"",c.ns_st_dupc=F-w+"",c.ns_st_iupc=F-N+"",c.ns_st_iupc=N<F?F-N+"":"0",c.ns_st_lpc=V+"",c.ns_st_dlpc=V-D+"",c.ns_st_upa=W+"",c.ns_st_dupa=W-O+"",c.ns_st_iupa=R<W?W-R+"":"0",c.ns_st_lpa=Y+"",c.ns_st_dlpa=Y-x+"";var H=r.isEmpty(c.ns_st_pc)?oe.getPauses():parseInt(c.ns_st_pc);c.ns_st_pc=H+"",c.ns_st_dpc=H-Z+"";var q=r.isEmpty(c.ns_st_skc)?oe.getSeeks():parseInt(c.ns_st_skc);c.ns_st_skc=q+"",c.ns_st_dskc=q-$+"";var z=r.isEmpty(c.ns_st_bc)?oe.getBuffers():parseInt(c.ns_st_bc);c.ns_st_bc=z+"",c.ns_st_dbc=z-G+"";var J=r.isEmpty(c.ns_st_skt)?oe.getSeekingTime():parseInt(c.ns_st_skt);c.ns_st_skt=J+"",c.ns_st_dskt=J-j+"";var Q=r.isEmpty(c.ns_st_ska)?oe.getSeekingAmount():parseInt(c.ns_st_ska);c.ns_st_ska=Q+"",c.ns_st_dska=Q-X+"",n&&(c.ns_st_spc=ee+"",c.ns_st_apc=te+"",c.ns_st_sq=ne+"",c.ns_st_asq=ie+""),c.ns_st_sc=n||0!=se?se+"":"1",c.ns_st_rt=ae+"",c.ns_st_ldw=P,c.ns_st_ldo=E,i.extend(c,u)},updateDeltaLabels:function(e){d=parseInt(e.ns_st_pt),I=parseInt(e.ns_st_ap),S=parseInt(e.ns_st_et),M=parseInt(e.ns_st_bt),w=parseInt(e.ns_st_upc),D=parseInt(e.ns_st_lpc),O=parseInt(e.ns_st_upa),x=parseInt(e.ns_st_lpa),Z=parseInt(e.ns_st_pc),$=parseInt(e.ns_st_skc),G=parseInt(e.ns_st_bc),j=parseInt(e.ns_st_skt),X=parseInt(e.ns_st_ska),oe.setSeekingDirection(0)},updateIndependentLabels:function(e){_=parseInt(e.ns_st_pt),N=parseInt(e.ns_st_upc),R=parseInt(e.ns_st_upa)},getVideoTrack:function(){return oe.getInternalLabel("ns_st_vt")},setVideoTrack:function(e){oe.setInternalLabel("ns_st_vt",e+"")},getAudioTrack:function(){return oe.getInternalLabel("ns_st_at")},setAudioTrack:function(e){oe.setInternalLabel("ns_st_at",e+"")},getSubtitleTrack:function(){return oe.getInternalLabel("ns_st_tt")},setSubtitleTrack:function(e){oe.setInternalLabel("ns_st_tt",e+"")},getCDN:function(){return oe.getInternalLabel("ns_st_cdn")},setCDN:function(e){oe.setInternalLabel("ns_st_cdn",e+"")},getSegmentPlaybackIntervals:function(){return k},setAssetPlaybackIntervals:function(e){k=e},getAssetPlaybackIntervals:function(){return C},incrementPauses:function(){J++},incrementSeeks:function(){Q++},incrementPlayCounter:function(){ne++},getPlayCounter:function(){return ne},getBufferingTime:function(){return B},setBufferingTime:function(e){B=e},addBufferingTime:function(e){if(!isNaN(U)){var t=oe.getBufferingTime();t+=e-U,oe.setBufferingTime(t),U=NaN}},setPlaybackStartPosition:function(e){L=parseInt(e)},getPlaybackStartPosition:function(){return L},addInterval:function(e){isNaN(L)||isNaN(e)||(k=a.addNewPlaybackInterval(k,ae<0?e:L,ae<0?L:e,ue),C=a.addNewPlaybackInterval(C,ae<0?e:L,ae<0?L:e,ue),L=NaN)},getElapsedTime:function(){return v},setElapsedTime:function(e){v=e},addElapsedTime:function(e){if(!isNaN(y)){var t=oe.getElapsedTime();t+=e-y,oe.setElapsedTime(t),y=NaN}},getElapsedTimestamp:function(){return y},setElapsedTimestamp:function(e){y=e},addPlaybackTime:function(e){isNaN(g)||(p+=e-g,g=NaN)},getPlaybackTime:function(){return p},getExpectedPlaybackPosition:function(e){var t=m+A-E;return!f&&isNaN(g)||(t+=Math.floor((e-h)*ae/100)),t},getExpectedWindowOffset:function(e,t){return f?m-e+Math.floor((t-h)*ae/100)+A:0},setPlaybackTimeOffset:function(e,t){m=e,h=t},getPlaybackTimestamp:function(){return g},setPlaybackTimestamp:function(e){g=e},setPreviousPlaybackTime:function(e){d=e},getBufferingTimestamp:function(){return U},setBufferingTimestamp:function(e){U=e},getPauses:function(){return J},setPauses:function(e){J=e},getSeeks:function(){return Q},setSeeks:function(e){Q=e},setSeeking:function(e){V=e},isSeeking:function(){return V},setCollectingSeekingTime:function(e){H=e},isCollectingSeekingTime:function(){return H},setAssetStarted:function(e){t=e},isAssetStarted:function(){return t},setPlaybackStarted:function(e){n=e},isPlaybackStarted:function(){return n},setSeekingTimestamp:function(e){K=e},getSeekingTimestamp:function(){return K},addSeekingTime:function(e){if(!isNaN(K)){var t=oe.getSeekingTime();t+=e-K,oe.setSeekingTime(t),K=NaN}},getSeekingTime:function(){return W},setSeekingTime:function(e){W=e},setSeekingTimeBeforeEnd:function(e){z=e},getSeekingTimeBeforeEnd:function(){return z},setSeekStartPosition:function(e){Y=e},getSeekStartPosition:function(){return Y},setSeekingAmount:function(e){q=e},getSeekingAmount:function(){return q},addSeekingAmount:function(e){var t,n=oe.getSeekingAmount();n+=Math.abs(e-Y),oe.setSeekingAmount(n),Y==e?t=0:e<Y?t=-1:Y<e&&(t=1),oe.setSeekingDirection(t),Y=0},getSeekingDirection:function(){return parseInt(oe.getInternalLabel("ns_st_skd"))},setSeekingDirection:function(e){oe.setInternalLabel("ns_st_skd",e+"")},resetAssetLifecycleLabels:function(){C=[],$=Q=X=q=j=W=S=v=x=R=O=ne=Z=J=G=F=M=B=_=d=p=I=T=0},incrementSegmentPlaybackCounter:function(){ee++},incrementAssetLoadCounter:function(){se++},incrementAssetPlaybackCounter:function(){te++},getPreviousUniquePlaybackInterval:function(){return w},setPreviousUniquePlaybackInterval:function(e){w=e},getPreviousEventIndependentUniquePlaybackInterval:function(){return N},setPreviousEventIndependentUniquePlaybackInterval:function(e){N=e},setPreviousLongestPlaybackInterval:function(e){D=e},getPreviousLongestPlaybackInterval:function(){return D},resetAssetPlaybackIntervals:function(){C=[],x=R=O=0},setSegmentPlaybackCounter:function(e){ee=e},setAssetLoadCounter:function(e){se=e},setAssetPlaybackCounter:function(e){te=e},setLowestPartNumberPlayed:function(e){b=e},getSegmentPlaybackCounter:function(){return ee},getAssetLoadCounter:function(){return se},getAssetPlaybackCounter:function(){return te},getLowestPartNumberPlayed:function(){return b},getBuffers:function(){return F},incrementBufferCount:function(){F++},getPreviousBufferingTime:function(){return M},setPlaySequenceCounter:function(e){ie=e},incrementPlaySequenceCounter:function(){ie++},getPlaySequenceCounter:function(){return ie},isPlaybackSessionLooping:function(){return re},setPlaybackSessionLooping:function(e){re=e},enableAutoCalculatePositions:function(e){l=!!e},isAutoCalculatePositionsEnabled:function(){return l},getPlaybackRate:function(){return ae},setPlaybackRate:function(e){ae=e},addAccumulatedPlayback:function(e){ae<0&&0<m-e?T+=m-e:0<ae&&0<e-m&&(T+=e-m)},setPlaybackWindowLength:function(e){P=e},getPlaybackWindowLength:function(){return P},setPlaybackWindowOffset:function(e){E=e},getPlaybackWindowOffset:function(){return E},setPreviousPlaybackWindowOffset:function(e){A=e},asLiveStream:function(e){f=e}}),u={ns_st_cl:"0",ns_st_pn:"1",ns_st_tp:"0",ns_st_cn:"1",ns_st_skd:"0",ns_st_ci:"0",c3:"*null",c4:"*null",c6:"*null",ns_st_st:"*null",ns_st_pu:"*null",ns_st_pr:"*null",ns_st_ep:"*null",ns_st_sn:"*null",ns_st_en:"*null",ns_st_ct:"*null"},t=n=!(c={}),e=s.UNKNOWN_VALUE,f=!(l=!0),k=[],K=U=L=y=g=NaN,se=ie=ne=te=ee=$=Q=Z=J=X=q=j=W=z=Y=G=F=M=B=x=R=O=D=N=w=I=T=A=E=P=_=S=b=v=d=m=p=0,re=H=V=!(C=[]),ae=100}u.resetAsset=function(e,t,n){for(var i=e.getLabels(),s={},r=0;n&&r<n.length;++r)i.hasOwnProperty(n[r])&&(s[n[r]]=i[n[r]]);t.setLabels(s),t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},t.exports=u},{17:17,21:21,23:23,24:24,68:68}],55:[function(e,t,n){t.exports={PAGE_NAME_LABEL:"name",HASH_LABELS:["ns_st_st","ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"]}},{}],56:[function(e,t,n){var i=e(73),s=e(74),r=e(76),a=e(77),o=e(69),u=e(71),c=e(72),l=e(70),f=e(75),p=e(78),g=e(79),d=e(80),_=e(81),m=e(55),h=e(68),v=e(65),y=e(20),S=e(24),b=e(19),P=e(82),E=e(62),A=e(63),T=e(58).State,I=e(58).StreamingAnalyticsEventType,k=e(58).ImplementationType,C=e(61),L=e(60),w=e(59),N=e(18),D=e(66),O=e(17),R=e(2),x="undefined",B="6.3.0.180917";t.exports=function(e){var t,n,U,M,F,G,V,K,W,j,Y,H,q,X,z,J,Z,Q,$,ee,te,ne,ie,se,re,ae,oe,ue=this,ce={},le=500,fe=500,pe={},ge=!1,de=!0,_e=!1,me=!1;function he(e){var n=t.getStateMachine().getCurrentState();if(n==T.IDLE||n==T.PLAYBACK_NOT_STARTED||n==T.BUFFERING_BEFORE_PLAYBACK||n==T.SEEKING_BEFORE_PLAYBACK){if(e==I.PLAY)return!0}else if(n==T.PLAYING){if(e==I.END||e==I.AD_SKIP||e==I.SEEK_START||e==I.PAUSE)return!0}else if(n==T.PAUSED||n==T.BUFFERING_DURING_PAUSE||n==T.SEEKING_DURING_PLAYBACK||n==T.SEEKING_DURING_BUFFERING||n==T.SEEKING_DURING_PAUSE){if(e==I.END||e==I.AD_SKIP||e==I.PLAY)return!0}else if(n==T.BUFFERING_DURING_PLAYBACK){if(e==I.PAUSE_ON_BUFFERING||e==I.END||e==I.AD_SKIP||e==I.SEEK_START||e==I.PAUSE||e==I.PLAY)return!0}else if(n==T.BUFFERING_DURING_SEEKING){if(e==I.END||e==I.AD_SKIP||e==I.PAUSE||e==I.PLAY)return!0}else if(n==T.PAUSED_DURING_BUFFERING&&(e==I.END||e==I.AD_SKIP||e==I.BUFFER_STOP||e==I.PLAY))return!0;return!1}function ve(){_e||(_e=!0,P.onSystemClockJump(ye))}function ye(e){oe=e,me=!0}function Se(){var e={},t=h.fixEventTime(e);ue.newEvent(I.END,t,e)}S.extend(ue,{getConfiguration:function(){return e||{}},createLabels:function(e,n,i){var s=t.getPlaybackSession(),r=s.getAsset(),a=!1;if(e==I.HEARTBEAT){var o=isNaN(Q)?Z:Q;((Q=i)<o||me)&&(me=!(a=!0),i<o?(s.addInternalErrorFlag("1"),t.getLogging().infoLog("System clock jump detected","to the far past")):oe?(s.addInternalErrorFlag("3"),t.getLogging().infoLog("System clock jump detected","to the future")):(s.addInternalErrorFlag("2"),t.getLogging().infoLog("System clock jump detected","to the near past")),i=o)}var u={};if(ge&&(u.c2=re),typeof document!=x){var c=document;u.c7=c.URL,u.c8=c.title,u.c9=c.referrer}u.ns_ts=+new Date+"",u.ns_st_ev=I.toString(e),u.ns_st_mp="js_api",u.ns_st_mv=B,u.ns_st_ub="0",u.ns_st_br="0",u.ns_st_pn="1",u.ns_st_tp="0",u.ns_st_it=k.toString(k.SINGLE_CLIP),u.ns_st_sv=B,u.ns_st_smv="5.10",u.ns_type="hidden",u.ns_st_ec=t.getEventManager().getEventCounter()+"",u.ns_st_ki=t.getKeepAlive().getInterval()+"",n.ns_st_po?u.ns_st_po=n.ns_st_po+"":r.isAutoCalculatePositionsEnabled()?u.ns_st_po=r.getExpectedPlaybackPosition(i)+"":u.ns_st_po=ae+"",ae=parseInt(u.ns_st_po),s.createLabels(u,i),s.getAsset().createLabels(u,i,e==I.HEARTBEAT);var l={};return S.extend(l,pe),S.extend(l,s.getLabels()),S.extend(l,s.getAsset().getLabels()),S.extend(l,n),a&&(r.setPlaybackTimeOffset(ae,Q),s.setPlaybackTimestamp(Q-parseInt(u.ns_st_dpt)),r.setPlaybackTimestamp(Q-parseInt(u.ns_st_dpt)),r.setElapsedTimestamp(Q-parseInt(u.ns_st_det))),{eventType:e,eventLabels:u,customLabels:l}},newEvent:function(i,s,r,a){ue.stopDelayedTransitionTimer();var o=t.getStateMachine().getCurrentState(),u=t.getStateMachine().eventTypeToState(i);if(null!=u&&u!=o)if(!ue.isThrottlingEnabled()||o!=T.PLAYING&&o!=T.PAUSED||u!=T.PLAYING&&u!=T.PAUSED||a){var c,l;e.systemClockJumpDetection&&(u==T.IDLE?(P.removeSystemClockJumpListener(ye),_e=!1):o==T.IDLE&&ve()),de&&h.isIdleState(o)&&!h.isIdleState(u)?E.onPageExit(Se):de&&!h.isIdleState(o)&&h.isIdleState(u)&&E.removePageExitListener(Se);var f=t.getPlaybackSession(),p=f.getAsset(),g=isNaN(Q)?Z:Q,d=!1;((Q=s)<g||me)&&(me=!(d=!0),s<g?(f.addInternalErrorFlag("1"),t.getLogging().infoLog("System clock jump detected","to the far past")):oe?(f.addInternalErrorFlag("3"),t.getLogging().infoLog("System clock jump detected","to the future")):(f.addInternalErrorFlag("2"),t.getLogging().infoLog("System clock jump detected","to the near past")),s=g),r.ns_st_po?t.getStateMachine().getCurrentState()==T.IDLE?p.setPlaybackWindowOffset(p.getPlaybackWindowLength()-parseInt(r.ns_st_po)):p.setPlaybackWindowOffset(p.getExpectedWindowOffset(parseInt(r.ns_st_po),s)):p.isAutoCalculatePositionsEnabled()?t.getStateMachine().getCurrentState()==T.IDLE?r.ns_st_po=p.getPlaybackWindowLength()-p.getPlaybackWindowOffset()+"":r.ns_st_po=p.getExpectedPlaybackPosition(s)+"":r.ns_st_po=ae+"";var _,m,v,y,S=parseInt(r.ns_st_po);ae=S,_=i,m=s,v=r,y=t.getStateMachine().getCurrentState(),_==I.AD_SKIP&&!v.hasOwnProperty("ns_st_ui")&&he(_)?v.ns_st_ui="skip":_==I.SEEK_START&&!v.hasOwnProperty("ns_st_ui")&&he(_)&&(v.ns_st_ui="seek"),y==T.IDLE?_==I.BUFFER?n.onBuffer(m,v):_==I.SEEK_START?n.onSeekStart(m,v):_==I.PLAY&&n.onPlay(m,v):y==T.PLAYBACK_NOT_STARTED?_==I.END||_==I.AD_SKIP?M.onEndOrAdSkip(m,v):_==I.SEEK_START?M.onSeekStart(m,v):_==I.PLAY?M.onPlay(m,v):_==I.BUFFER&&M.onBuffer(m,v):y==T.PLAYING?_==I.END||_==I.AD_SKIP?F.onEndOrAdSkip(m,v):_==I.BUFFER?F.onBuffer(m,v):_==I.SEEK_START?F.onSeekStart(m,v):_==I.PAUSE&&F.onPause(m,v):y==T.PAUSED?_==I.END||_==I.AD_SKIP?U.onEndOrAdSkip(m,v):_==I.PLAY?U.onPlay(m,v):_==I.BUFFER?X.onBufferWhenSeekingOrPaused(m,v):_==I.SEEK_START&&X.onSeekStartWhenPausedOrBufferingDuringPause(m,v):y==T.BUFFERING_BEFORE_PLAYBACK?_==I.END||_==I.AD_SKIP?G.onEndOrAdSkip(m,v):_==I.BUFFER_STOP?G.onBufferStop(m,v):_==I.SEEK_START?G.onSeekStart(m,v):_==I.PAUSE?G.onPause(m,v):_==I.PLAY&&G.onPlay(m,v):y==T.BUFFERING_DURING_PLAYBACK?_==I.PAUSE_ON_BUFFERING?V.onPauseOnBuffering(m,v):_==I.BUFFER_STOP?X.onBufferStopOrOnPlayWhenBufferingDuringPlayback(m,v):_==I.END||_==I.AD_SKIP?V.onEndOrAdSkip(m,v):_==I.SEEK_START?V.onSeekStart(m,v):_==I.PAUSE?V.onPause(m,v):_==I.PLAY&&X.onBufferStopOrOnPlayWhenBufferingDuringPlayback(m,v):y==T.BUFFERING_DURING_SEEKING?_==I.END||_==I.AD_SKIP?K.onEndOrAdSkip(m,v):_==I.PAUSE?K.onPause(m,v):_==I.PLAY?K.onPlay(m,v):_==I.BUFFER_STOP&&X.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(m,v):y==T.BUFFERING_DURING_PAUSE?_==I.END||_==I.AD_SKIP?W.onEndAndSkip(m,v):_==I.PAUSE?W.onPause(m,v):_==I.PLAY?W.onPlay(m,v):_==I.SEEK_START?X.onSeekStartWhenPausedOrBufferingDuringPause(m,v):_==I.BUFFER_STOP&&X.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(m,v):y==T.SEEKING_BEFORE_PLAYBACK?_==I.END||_==I.AD_SKIP?Y.onEndOrAdSkip(m,v):_==I.PAUSE?Y.onPause(m,v):_==I.PLAY?Y.onPlay(m,v):_==I.BUFFER&&X.onBufferWhenSeekingOrPaused(m,v):y==T.SEEKING_DURING_PLAYBACK?_==I.END||_==I.AD_SKIP?q.onEndOrAdSkip(m,v):_==I.PLAY?q.onPlay(m,v):_==I.BUFFER?X.onBufferWhenSeekingOrPaused(m,v):_==I.PAUSE&&X.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(m,v):y==T.SEEKING_DURING_BUFFERING?_==I.PAUSE?H.onPause(m,v):_==I.BUFFER?X.onBufferWhenSeekingOrPaused(m,v):_==I.PLAY?X.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(m,v):_==I.END||_==I.AD_SKIP?X.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(m,v):_==I.BUFFER_STOP&&X.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(m,v):y==T.PAUSED_DURING_BUFFERING?_==I.END||_==I.AD_SKIP?j.onEndOrAdSkip(m,v):_==I.BUFFER_STOP?j.onPlayOrOnBufferStop(m,v):_==I.SEEK_START?j.onSeekStart(m,v):_==I.PAUSE?j.onPause(m,v):_==I.PLAY&&j.onPlayOrOnBufferStop(m,v):y==T.SEEKING_DURING_PAUSE&&(_==I.BUFFER?X.onBufferWhenSeekingOrPaused(m,v):_==I.PLAY?X.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(m,v):_==I.PAUSE?X.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(m,v):_==I.END||_==I.AD_SKIP?X.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(m,v):_==I.BUFFER_STOP&&X.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(m,v)),he(_)&&t.getPlaybackSession().setFirstEventSent(!0),p.setPlaybackTimeOffset(S,s),p.setPreviousPlaybackWindowOffset(p.getPlaybackWindowOffset());var b=0;isNaN(t.getStateMachine().getLastStateChangeTimestamp())||(b=s-t.getStateMachine().getLastStateChangeTimestamp()),t.getStateMachine().newEvent(i,s),d&&(p.setPlaybackTimeOffset(S,Q),u!=T.IDLE&&u!=T.PLAYBACK_NOT_STARTED&&u!=T.SEEKING_BEFORE_PLAYBACK&&u!=T.BUFFERING_BEFORE_PLAYBACK&&p.setElapsedTimestamp(Q),u!=T.BUFFERING_BEFORE_PLAYBACK&&u!=T.BUFFERING_DURING_PAUSE&&u!=T.BUFFERING_DURING_PLAYBACK&&u!=T.BUFFERING_DURING_SEEKING&&u!=T.PAUSED_DURING_BUFFERING||(f.setBufferingTimestamp(Q),p.setBufferingTimestamp(Q)),u==T.PLAYING&&(f.setPlaybackTimestamp(Q),p.setPlaybackTimestamp(Q)),u!=T.SEEKING_BEFORE_PLAYBACK&&u!=T.SEEKING_DURING_BUFFERING&&u!=T.SEEKING_DURING_PAUSE&&u!=T.SEEKING_DURING_PLAYBACK&&u!=T.BUFFERING_DURING_SEEKING||p.setSeekingTimestamp(Q)),t.getLogging().log("Transition from",h.stateToString(o),"to",h.stateToString(u),"due to event:",I.toString(i));for(var A=0,k=ie.length;A<k;A++)ie[A](o,u,r,b)}else{t.getLogging().infoLog("Throttled event:",I.toString(i),"during state",h.stateToString(o),r,ue.getThrottlingDelay(),"ms");var C=(c=i,l=r,function(){ue.newEvent(c,s,l,!0)});ne=ue.getPlatformAPI().setTimeout(C,ue.getThrottlingDelay())}else t.getLogging().infoLog("Ignored event:",I.toString(i),"during state",h.stateToString(o),r)},newPseudoEvent:function(e,n,i){var s=t.getStateMachine().getCurrentState();if(e!=I.LOAD&&e!=I.ENGAGE||s==T.IDLE){e==I.ERROR&&null==i.ns_st_er&&(i.ns_st_er=O.UNKNOWN_VALUE),e==I.TRANSFER&&null==i.ns_st_rp&&(i.ns_st_rp=O.UNKNOWN_VALUE);var r,a,o,u,c=!0,l=!1;switch(e){case I.BIT_RATE:r="ns_st_br",a="ns_st_pbr";break;case I.PLAYBACK_RATE:r="ns_st_rt",a="ns_st_prt";break;case I.VOLUME:r="ns_st_vo",a="ns_st_pvo";break;case I.WINDOW_STATE:r="ns_st_ws",a="ns_st_pws";break;case I.AUDIO:r="ns_st_at",a="ns_st_pat";break;case I.VIDEO:r="ns_st_vt",a="ns_st_pvt";break;case I.SUBS:r="ns_st_tt",a="ns_st_ptt";break;case I.CDN:r="ns_st_cdn",a="ns_st_pcdn";break;default:c=!1}var f=t.getPlaybackSession(),p=f.getAsset();if(c&&r in i)switch(u=i[r],e){case I.BIT_RATE:case I.VOLUME:case I.WINDOW_STATE:r in pe&&(o=pe[r],l=u==(i[a]=o)+""),pe[r]=i[r];break;case I.AUDIO:case I.VIDEO:case I.SUBS:case I.CDN:p.hasInternalLabel(r)&&(o=p.getInternalLabel(r),l=u==(i[a]=o)+""),p.setInternalLabel(r,i[r]);break;case I.PLAYBACK_RATE:o=p.getPlaybackRate(),i[a]=o+""}if(c&&s!=T.PLAYING&&s!=T.BUFFERING_DURING_PLAYBACK||c&&l)return e==I.PLAYBACK_RATE&&p.setPlaybackRate(parseInt(i.ns_st_rt)),void t.getLogging().infoLog("No measurement send for the pseudo-event:",I.toString(e),"during state",h.stateToString(s),i);var g=isNaN(Q)?Z:Q,d=!1;((Q=n)<g||me)&&(me=!(d=!0),n<g?(f.addInternalErrorFlag("1"),t.getLogging().infoLog("System clock jump detected","to the far past")):oe?(f.addInternalErrorFlag("3"),t.getLogging().infoLog("System clock jump detected","to the future")):(f.addInternalErrorFlag("2"),t.getLogging().infoLog("System clock jump detected","to the near past")),n=g),i.ns_st_po?p.setPlaybackWindowOffset(p.getExpectedWindowOffset(parseInt(i.ns_st_po),n)):p.isAutoCalculatePositionsEnabled()?i.ns_st_po=p.getExpectedPlaybackPosition(n)+"":i.ns_st_po=ae+"";var _=parseInt(i.ns_st_po);ae=_,t.getPlaybackSession().getAsset().setPlaybackTimeOffset(_,n),p.setPreviousPlaybackWindowOffset(p.getPlaybackWindowOffset()),s!=T.IDLE&&s!=T.PLAYBACK_NOT_STARTED&&s!=T.SEEKING_BEFORE_PLAYBACK&&s!=T.BUFFERING_BEFORE_PLAYBACK&&(p.addElapsedTime(n),p.setElapsedTimestamp(n)),s==T.PLAYING&&(f.addPlaybackTime(n),f.setPlaybackTimestamp(n),p.addPlaybackTime(n),p.setPlaybackTimestamp(n),p.addAccumulatedPlayback(_),p.addInterval(parseInt(i.ns_st_po)),p.setPlaybackStartPosition(parseInt(i.ns_st_po))),s!=T.BUFFERING_BEFORE_PLAYBACK&&s!=T.BUFFERING_DURING_PAUSE&&s!=T.BUFFERING_DURING_PLAYBACK&&s!=T.BUFFERING_DURING_SEEKING||(f.addBufferingTime(n),f.setBufferingTimestamp(n),p.addBufferingTime(n),p.setBufferingTimestamp(n));var m=ue.createLabels(e,i,n);p.updateDeltaLabels(m.eventLabels),p.updateIndependentLabels(m.eventLabels),t.getEventManager().newEvent(m),e==I.PLAYBACK_RATE&&p.setPlaybackRate(parseInt(i.ns_st_rt)),d&&(p.setPlaybackTimeOffset(_,Q),s==T.PLAYING&&(f.setPlaybackTimestamp(Q),p.setPlaybackTimestamp(Q)),s!=T.IDLE&&s!=T.PLAYBACK_NOT_STARTED&&s!=T.SEEKING_BEFORE_PLAYBACK&&s!=T.BUFFERING_BEFORE_PLAYBACK&&p.setElapsedTimestamp(Q),s!=T.BUFFERING_BEFORE_PLAYBACK&&s!=T.BUFFERING_DURING_PAUSE&&s!=T.BUFFERING_DURING_PLAYBACK&&s!=T.BUFFERING_DURING_SEEKING&&s!=T.PAUSED_DURING_BUFFERING||(f.setBufferingTimestamp(Q),p.setBufferingTimestamp(Q)),s!=T.SEEKING_BEFORE_PLAYBACK&&s!=T.SEEKING_DURING_BUFFERING&&s!=T.SEEKING_DURING_PAUSE&&s!=T.SEEKING_DURING_PLAYBACK&&s!=T.BUFFERING_DURING_SEEKING||p.setSeekingTimestamp(Q))}else t.getLogging().infoLog("Ignored pseudo-event:",I.toString(e),"during state",h.stateToString(s),i)},getState:function(){return t.getStateMachine().getCurrentState()},addListener:function(e){ie.push(e)},removeListener:function(e){ie.splice(b.indexOf(e,ie),1)},getLabel:function(e){return pe[e]},getLabels:function(){return pe},setLabel:function(e,t){null==t?delete pe[e]:pe[e]=t},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&ue.setLabel(t,e[t])},getPlatformAPI:function(){return t.getAppCore().getPlatformAPI()},getExports:function(){return ce},isProperlyInitialized:function(){var e=t.getAppCore().getAppContext(),n=t.getAppCore().getSalt(),i=t.getAppCore().getPixelURL();return e&&i&&n},setThrottlingDelay:function(e){fe=e},getThrottlingDelay:function(){return fe},isThrottlingEnabled:function(){return te},setThrottlingEnabled:function(e){te=e},isLoadingTimeSent:function(){return z},setLoadingTimeSent:function(e){z=e},getLoadTimeOffset:function(){return J},setLoadTimeOffset:function(e){J=e},getInitTimestamp:function(){return Z},setPauseOnBufferingInterval:function(e){le=e},getPauseOnBufferingInterval:function(){return le},isPauseOnBufferingEnabled:function(){return $},setPauseOnBufferingEnabled:function(e){$=e},setExitEndEventEnabled:function(e){if(de!=e){var n=t.getStateMachine().getCurrentState();e||h.isIdleState(n)?e&&!h.isIdleState(n)&&E.onPageExit(Se):E.removePageExitListener(Se)}de=e},isExitEndEventEnabled:function(){return de},startPausedOnBufferingTimer:function(e,t){ue.stopPausedOnBufferingTimer(),ee=ue.getPlatformAPI().setTimeout((function(){var e={},n=h.fixEventTime(e),i=parseInt(t.ns_st_po);e.ns_st_po=i+"",ue.newEvent(I.PAUSE_ON_BUFFERING,n,e)}),le)},stopPausedOnBufferingTimer:function(){null!=ee&&(ue.getPlatformAPI().clearTimeout(ee),ee=null)},stopDelayedTransitionTimer:function(){ne&&(ue.getPlatformAPI().clearTimeout(ne),ne=null)},setLiveEndpointURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(0<=n){if(n<e.length-1){for(var i=e.substring(n+1).split("&"),s=0,r=i.length;s<r;s++){var a=i[s].split("=");2==a.length?ue.setLabel(a[0],t(a[1])):1==a.length&&ue.setLabel(m.PAGE_NAME_LABEL,t(a[0]))}e=e.substring(0,n+1)}}else e+="?";return se=e},getLiveEndpointURL:function(){return se||(typeof ns_p!==x&&"string"==typeof ns_p.src?se=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?se=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getStaSM:function(){return t},resetPlaybackSession:function(e){var n=t.getPlaybackSession();t.setPlaybackSession(new A(t)),A.resetPlaybackSession(t,n,e)},resetHeartbeat:function(){t.getHeartbeat().pause();var e=t.getHeartbeat().getIntervals();t.setHeartbeat(new L(t)),t.getHeartbeat().setIntervals(e)},getVersion:function(){return B}}),function(){if((t=new v(ue)).setAppCore(R.getCore()),t.setKeepAlive(new C(t)),t.setHeartbeat(new L(t)),t.setEventManager(new w(t)),t.setStateMachine(new D),t.setLogging(new N("STA",e.debug)),t.setPlaybackSession(new A(t)),n=new i(t),U=new s(t),M=new r(t),F=new a(t),G=new o(t),V=new u(t),K=new c(t),W=new l(t),j=new f(t),Y=new p(t),H=new g(t),q=new d(t),X=new _(t),z=!1,J=0,Z=+new Date,te=!($=!0),ie=[],e.publisherId){ge=!0,re=e.publisherId+"";var m=(("secure"in e?e.secure:t.getAppCore()&&t.getAppCore().isProperlyInitialized()?t.getAppCore().isSecure():h.isBrowser()&&y.isWebSecure())?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2";ue.setLiveEndpointURL(m)}e.liveEndpointURL&&ue.setLiveEndpointURL(e.liveEndpointURL),e.systemClockJumpDetection&&(P.setPlatformAPI(ue.getPlatformAPI()),e.systemClockJumpDetectionInterval?P.configureInterval(parseInt(e.systemClockJumpDetectionInterval),!0):P.configureInterval(),e.systemClockJumpDetectionPrecision?P.configureError(parseInt(e.systemClockJumpDetectionPrecision),!0):P.configureError(),ve())}()}},{17:17,18:18,19:19,2:2,20:20,24:24,55:55,58:58,59:59,60:60,61:61,62:62,63:63,65:65,66:66,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82}],57:[function(e,t,n){var i,s,r=e(20),a=e(4),o="undefined";s=r.isBrowser()?(i=window,document):(i={},{location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.exports=function(e,t){for(var n,u=i.encodeURIComponent||escape,c=[],l=a.LABELS_ORDER,f=e.split("?"),p=f[0],g=f[1].split("&"),d=0,_=g.length;d<_;d++){var m=g[d].split("="),h=unescape(m[0]),v=unescape(m[1]);h&&(t[h]=v)}for(var y={},S=0,b=l.length;S<b;S++){var P=l[S];if(t.hasOwnProperty(P)){var E=t[P];typeof E!==o&&null!=E&&(y[P]=!0,c.push(u(P)+"="+u(t[P])))}}for(var A in t)if(t.hasOwnProperty(A)){if(y[A])continue;var T=t[A];typeof T!==o&&null!=T&&c.push(u(A)+"="+u(t[A]))}n=(n=p+"?"+c.join("&"))+(n.indexOf("&c8=")<0?"&c8="+u(s.title):"")+(n.indexOf("&c7=")<0?"&c7="+u(s.URL):"")+(n.indexOf("&c9=")<0?"&c9="+u(s.referrer):"");var I=r.browserAcceptsLargeURLs()?a.URL_LENGTH_LIMIT:a.RESTRICTED_URL_LENGTH_LIMIT;if(n.length>I&&0<n.indexOf("&")){var k=n.substr(0,I-8).lastIndexOf("&");n=(n.substring(0,k)+"&ns_cut="+u(n.substring(k+1))).substr(0,I)}return n}},{20:20,4:4}],58:[function(e,t,n){var i,s,r=(i=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"],{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(e){return i[e]}}),a=(s=["c","s","r"],{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(e){return s[e]}});t.exports.StreamingAnalyticsEventType=r,t.exports.State={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},t.exports.ImplementationType=a},{}],59:[function(e,t,n){var i=e(24),s=e(57),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){var t,n,a=this,o=[];i.extend(this,{newEvent:function(t){for(var u=i.extend({},t.eventLabels,t.customLabels),c=0;c<o.length;++c)o[c](u);!function(t){n=i.extend({},t);var r=e.getStaCore().getLiveEndpointURL();e.getStaCore().isProperlyInitialized()?e.getAppCore().internalHidden(t,r):r&&e.getStaCore().getPlatformAPI().httpGet(s(r,t))}(u),t.eventType!=r.HEARTBEAT&&a.incrementEventCounter()},addMeasurementListener:function(e){"function"==typeof e&&o.push(e)},removeMeasurementListener:function(e){for(var t=NaN,n=0;n<o.length;++n)if(o[n]==e){t=n;break}isNaN(t)||o.splice(t,1)},getEventCounter:function(){return t},incrementEventCounter:function(){t++},setEventCounter:function(e){t=e},getMeasurementSnapshot:function(){return n}}),t=1}},{24:24,57:57,58:58}],60:[function(e,t,n){var i=e(58).StreamingAnalyticsEventType,s=e(68),r=e(24),a=[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}];t.exports=function(e){var t,n,o,u=this,c=a;function l(){o++;var t={},r=s.fixEventTime(t);t.ns_st_hc=e.getHeartbeat().getCount()+"";var a=e.getStaCore().createLabels(i.HEARTBEAT,t,r);e.getPlaybackSession().getAsset().updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),n=0,u.resume()}function f(){null!=t&&(e.getStaCore().getPlatformAPI().clearTimeout(t),t=null)}r.extend(this,{getCount:function(){return o},setIntervals:function(e){c=e},getInterval:function(e){var t=0;if(null!=c)for(var n=0;n<c.length;n++){var i=c[n],s=i.playingtime;if(!s||e<s){t=i.interval;break}}return t},getIntervals:function(){return c},resume:function(){f();var i=u.getInterval(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()));if(0<i){var s=0<n?n:i;t=e.getStaCore().getPlatformAPI().setTimeout(l,s)}n=0},pause:function(){f();var t=u.getInterval(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()));n=t-(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()))%t}}),o=n=0}},{24:24,58:58,68:68}],61:[function(e,t,n){var i=e(58).StreamingAnalyticsEventType,s=e(24),r=e(68);t.exports=function(e){var t,n=this,a=12e5;function o(){var t={},s=r.fixEventTime(t);e.getStaCore().newPseudoEvent(i.KEEPALIVE,s,t),n.start()}function u(){null!=t&&(e.getStaCore().getPlatformAPI().clearTimeout(t),t=null)}s.extend(n,{start:function(){u(),t=e.getStaCore().getPlatformAPI().setTimeout(o,a)},stop:u,setInterval:function(e){a=e},getInterval:function(){return a}})}},{24:24,58:58,68:68}],62:[function(e,t,n){var i=e(20),s=[],r=!1;function a(){for(var e=0;e<s.length;++e)s[e]()}t.exports={onPageExit:function(e){s.push(e),r||i.isBrowser()&&(window.addEventListener?(window.addEventListener("unload",a,!1),r=!0):window.attachEvent&&(window.attachEvent("onunload",a),r=!0))},removePageExitListener:function(e){for(var t=0;t<s.length;++t)if(s[t]==e){s.splice(t,1);break}0==s.length&&i.isBrowser()&&(window.removeEventListener?(window.removeEventListener("unload",a,!1),r=!1):window.detachEvent&&(window.detachEvent("onunload",a),r=!1))}}},{20:20}],63:[function(e,t,n){var i=e(24),s=e(54),r=e(68),a=e(21),o=e(55).HASH_LABELS,u=e(58).State,c=e(58).StreamingAnalyticsEventType;function l(e){var t,n,l,f,p,g,d,_,m,h,v,y,S,b,P,E,A=this;i.extend(this,{resetAsset:function(){var e=t;t=new s,s.resetAsset(e,t)},hashExists:function(e){return null!=_[e]},storeHash:function(e){_[e]={}},removeHash:function(e){delete _[e]},storeAssetPlaybackCounters:function(){for(var e in _)if(_.hasOwnProperty(e)&&_[e].clipNumber===t.getClipNumber()){i.extend(_[e],{segmentPlaybackCounter:t.getSegmentPlaybackCounter(),assetLoadCounter:t.getAssetLoadCounter(),assetPlaybackCounter:t.getAssetPlaybackCounter(),lowestPartNumberPlayed:t.getLowestPartNumberPlayed(),seeking:t.isSeeking(),seekingTimeBeforeEnd:t.getSeekingTimeBeforeEnd(),seekingStartPosition:t.getSeekStartPosition(),segmentPlaybackIntervals:t.getSegmentPlaybackIntervals(),videoTrack:t.getVideoTrack(),audioTrack:t.getAudioTrack(),subtitleTrack:t.getSubtitleTrack(),cdn:t.getCDN(),playSequenceCounter:t.getPlaySequenceCounter(),previousUniquePlaybackInterval:t.getPreviousUniquePlaybackInterval(),previousEventIndependentUniquePlaybackInterval:t.getPreviousEventIndependentUniquePlaybackInterval(),previousLongestPlaybackInterval:t.getPreviousLongestPlaybackInterval()});break}},getStoredAssetRegisters:function(e){return _[e]},getClipNumber:function(e){return _[e].clipNumber},getMaxClipNumber:function(){return m},storeClipNumber:function(e,t){_[e].clipNumber=t,m<t&&(m=t)},setLabels:function(e){null!=e&&i.extend(g,e)},getLabels:function(){return g},setLabel:function(e,t){var n={};n[e]=t,A.setLabels(n)},getLabel:function(e){return g[e]},getAsset:function(){return t},addInternalErrorFlag:function(e){for(var t=0;t<E.length;++t)if(E[t]==e)return;E.push(e)},createLabels:function(e,n){var s=e,r=a.isEmpty(s.ns_st_pa)?A.getPlaybackTime():parseInt(s.ns_st_pa);s.ns_st_pa=r+(isNaN(f)?0:n-f)+"",s.ns_st_pp=S+"",s.ns_st_sp=b+"",s.ns_st_bp=P+"",h||(s.ns_st_pb=null!=s.ns_st_pb?s.ns_st_pb:"1"),t.isPlaybackStarted()&&(s.ns_st_ppc=v+"",s.ns_st_psq=y+""),0<E.length&&(s.ns_st_ie=(s.ns_st_ie?s.ns_st_ie+";":"")+E.join(";")),i.extend(s,p)},incrementPlayCounter:function(){b++},incrementPauses:function(){S++},addPlaybackTime:function(e){if(!isNaN(f)){var t=A.getPlaybackTime();t+=e-f,A.setPlaybackTime(t),f=NaN}},addBufferingTime:function(e){if(!isNaN(n)){var t=A.getBufferingTime();t+=e-n,A.setBufferingTime(t),n=NaN}},getBufferingTime:function(){return P},setBufferingTime:function(e){P=e},getPlaybackTime:function(){return l},setBufferingTimestamp:function(e){n=e},getBufferingTimestamp:function(){return n},setPlaybackTime:function(e){l=e},setPlaybackTimestamp:function(e){f=e},getPlaybackTimestamp:function(){return f},getPauses:function(){return S},setPauses:function(e){S=e},isPlaybackSessionStarted:function(){return d},setPlaybackSessionStarted:function(e){d=e},getPlaybackCounter:function(){return v},incrementPlaybackCounter:function(){v++},setFirstEventSent:function(e){h=e},setPlaySequenceCounter:function(e){y=e},incrementPlaySequenceCounter:function(){y++},getPlaybackSessionID:function(){return p.ns_st_id},setAsset:function(t,n){e.getLogging().apiCall("setAsset",t,n),t=r.jsonObjectToStringDictionary(t);var i=e.getStateMachine().getCurrentState();if(i!=u.IDLE){e.getLogging().infoLog("Ending the current Clip. It was in state:",r.stateToString(i));var s={};e.getStaCore().newEvent(c.END,r.fixEventTime(s),s)}var l,f="";if(null!=t.ns_st_cn)f=t.ns_st_cn;else for(var p=0;p<o.length;p++)t[o[p]]&&(f+=o[p]+":"+t[o[p]]+";");var g=A,d=g.getAsset();l=d.isAssetStarted()?(g.hashExists(d.getHash())||(g.storeHash(d.getHash()),g.storeClipNumber(d.getHash(),d.getClipNumber())),g.storeAssetPlaybackCounters(),g.hashExists(f)?g.getClipNumber(f):a.exists(t.ns_st_cn)?parseInt(t.ns_st_cn):g.getMaxClipNumber()+1):g.hashExists(f)?g.getClipNumber(f):d.getClipNumber(),g.resetAsset(),(d=g.getAsset()).setHash(f),d.setClipNumber(l),d.setLabels(t);var _=g.getStoredAssetRegisters(f);_&&(d.setAssetStarted(!0),d.setSegmentPlaybackCounter(_.segmentPlaybackCounter),d.setAssetLoadCounter(_.assetLoadCounter),d.setAssetPlaybackCounter(_.assetPlaybackCounter),d.setLowestPartNumberPlayed(_.lowestPartNumberPlayed),d.setSeeking(_.seeking),d.setSeekingTimeBeforeEnd(_.seekingTimeBeforeEnd),d.setSeekStartPosition(_.seekingStartPosition),d.setAssetPlaybackIntervals(_.segmentPlaybackIntervals),_.videoTrack&&d.setVideoTrack(_.videoTrack),_.audioTrack&&d.setAudioTrack(_.audioTrack),_.subtitleTrack&&d.setSubtitleTrack(_.subtitleTrack),_.cdn&&d.setCDN(_.cdn),d.setPlaySequenceCounter(_.playSequenceCounter),d.setPreviousUniquePlaybackInterval(_.previousUniquePlaybackInterval),d.setPreviousEventIndependentUniquePlaybackInterval(_.previousEventIndependentUniquePlaybackInterval),d.setPreviousLongestPlaybackInterval(_.previousLongestPlaybackInterval)),d.incrementAssetLoadCounter(),d.isAssetStarted()&&n&&g.incrementPlayCounter(),n&&(g.setPlaySequenceCounter(0),d.setPlaybackSessionLooping(!0)),!a.exists(t.ns_st_tp)&&a.exists(t.ns_st_ad)&&a.isNotEmpty(t.ns_st_ad)&&"0"!==t.ns_st_ad&&d.setInternalLabel("ns_st_tp","1")}}),t=new s,(p={}).ns_st_id=+new Date+"",g={},f=n=NaN,h=d=!(_={}),b=1,P=y=S=v=m=l=0,E=[]}l.resetPlaybackSession=function(e,t,n){for(var i=t.getAsset(),r=t.getLabels(),a={},o=0;n&&o<n.length;o++)r.hasOwnProperty(n[o])&&(a[n[o]]=r[n[o]]);e.getPlaybackSession().setLabels(a),s.resetAsset(i,e.getPlaybackSession().getAsset(),n)},t.exports=l},{21:21,24:24,54:54,55:55,58:58,68:68}],64:[function(e,t,n){var i={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},s={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",BrandedOnDemandPreRoll:"31",BrandedOnDemandMidRoll:"32",BrandedOnDemandPostRoll:"33",BrandedOnDemandContent:"34",BrandedOnDemandLive:"35",Other:"00"},r=e(67),a=e(58).State,o=e(58).ImplementationType,u=e(55).HASH_LABELS,c=e(21),l=e(24),f=e(18),p=function(e){var t=null,n=0,p=!1,g=null,d=0,_=1,m=2,h=d,v=new f("TTSTA",(e||{}).debug);function y(e){var t=e||{};t.ns_st_ad="1",t.ns_st_an=++n+"",g.getPlaybackSession().setAsset(t),g.notifyPlay(),p=!1}function S(e,n){h==d&&(h=n),p&&h==n&&function(e){for(var n in u)if(u.hasOwnProperty(n)&&(i=u[n],s=t,r=e,!(c.exists(i)&&c.exists(s)&&c.exists(r)&&(s.hasOwnProperty(i)&&r.hasOwnProperty(i)&&s[i]===r[i]||!s.hasOwnProperty(i)&&!r.hasOwnProperty(i)))))return!1;var i,s,r;return!0}(e)?(g.getPlaybackSession().getAsset().setLabels(e),g.getState()!=a.PLAYING&&g.notifyPlay()):function(e){g.getPlaybackSession().setAsset(e),t=e,g.notifyPlay()}(e),p=!0,h=n}l.extend(this,{playVideoAdvertisement:function(e,t){v.apiCall("playVideoAdvertisement",e,t);var n={ns_st_ct:"va"};t?n.ns_st_ct="va"+t:v.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),t!=s.LinearLive&&t!=s.BrandedOnDemandLive||(n.ns_st_li="1"),e&&l.extend(n,e),y(n)},playAudioAdvertisement:function(e,t){v.apiCall("playAudioAdvertisement",e,t);var n={ns_st_ct:"aa"};t?n.ns_st_ct="aa"+t:v.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),t!=s.LinearLive&&t!=s.BrandedOnDemandLive||(n.ns_st_li="1"),e&&l.extend(n,e),y(n)},playVideoContentPart:function(e,t){v.apiCall("playVideoContentPart",e,t);var n={ns_st_ct:"vc"};t?n.ns_st_ct="vc"+t:v.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),t!=i.Live&&t!=i.UserGeneratedLive||(n.ns_st_li="1"),e&&l.extend(n,e),S(n,m)},playAudioContentPart:function(e,t){v.apiCall("playAudioContentPart",e,t);var n={ns_st_ct:"ac"};t?n.ns_st_ct="ac"+t:v.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),t!=i.Live&&t!=i.UserGeneratedLive||(n.ns_st_li="1"),e&&l.extend(n,e),S(n,_)},stop:function(){v.apiCall("stop"),g.notifyPause()}}),(g=new r(e)).setLabel("ns_st_it",o.toString(o.REDUCED))};p.ContentType=i,p.AdType=s,t.exports=p},{18:18,21:21,24:24,55:55,58:58,67:67}],65:[function(e,t,n){var i=e(24);t.exports=function(e){var t,n,s,r,a,o,u;i.extend(this,{getAppCore:function(){return t},getStaCore:function(){return e},getEventManager:function(){return n},getStateMachine:function(){return s},getHeartbeat:function(){return r},getKeepAlive:function(){return a},getPlaybackSession:function(){return o},getLogging:function(){return u},setAppCore:function(e){t=e},setKeepAlive:function(e){a=e},setHeartbeat:function(e){r=e},setEventManager:function(e){n=e},setStateMachine:function(e){s=e},setPlaybackSession:function(e){o=e},setLogging:function(e){u=e}})}},{24:24}],66:[function(e,t,n){var i=e(58).State,s=e(24),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){var t,n,a,o=this;s.extend(o,{eventTypeToState:function(e){if(a==i.IDLE){if(e==r.PLAY)return i.PLAYING;if(e==r.SEEK_START)return i.SEEKING_BEFORE_PLAYBACK;if(e==r.BUFFER)return i.BUFFERING_BEFORE_PLAYBACK}else if(a==i.PLAYBACK_NOT_STARTED){if(e==r.PLAY)return i.PLAYING;if(e==r.SEEK_START)return i.SEEKING_BEFORE_PLAYBACK;if(e==r.BUFFER)return i.BUFFERING_BEFORE_PLAYBACK;if(e==r.END||e==r.AD_SKIP)return i.IDLE}else if(a==i.PLAYING){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.BUFFER)return i.BUFFERING_DURING_PLAYBACK;if(e==r.PAUSE)return i.PAUSED;if(e==r.SEEK_START)return i.SEEKING_DURING_PLAYBACK}else if(a==i.PAUSED){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.BUFFER)return i.BUFFERING_DURING_PAUSE;if(e==r.PLAY)return i.PLAYING;if(e==r.SEEK_START)return i.SEEKING_DURING_PAUSE}else if(a==i.BUFFERING_BEFORE_PLAYBACK){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PAUSE||e==r.BUFFER_STOP)return i.PLAYBACK_NOT_STARTED;if(e==r.PLAY)return i.PLAYING;if(e==r.SEEK_START)return i.SEEKING_BEFORE_PLAYBACK}else if(a==i.BUFFERING_DURING_PLAYBACK){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PLAY||e==r.BUFFER_STOP)return i.PLAYING;if(e==r.PAUSE_ON_BUFFERING)return i.PAUSED_DURING_BUFFERING;if(e==r.SEEK_START)return i.SEEKING_DURING_BUFFERING;if(e==r.PAUSE)return i.PAUSED}else if(a==i.BUFFERING_DURING_SEEKING){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PLAY)return i.PLAYING;if(e==r.BUFFER_STOP)return i.SEEKING_DURING_PLAYBACK;if(e==r.PAUSE)return i.PAUSED}else if(a==i.BUFFERING_DURING_PAUSE){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PLAY)return i.PLAYING;if(e==r.SEEK_START)return i.SEEKING_DURING_PAUSE;if(e==r.BUFFER_STOP||e==r.PAUSE)return i.PAUSED}else if(a==i.SEEKING_BEFORE_PLAYBACK){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PAUSE)return i.PLAYBACK_NOT_STARTED;if(e==r.PLAY)return i.PLAYING;if(e==r.BUFFER)return i.BUFFERING_BEFORE_PLAYBACK}else if(a==i.SEEKING_DURING_PLAYBACK){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PLAY)return i.PLAYING;if(e==r.PAUSE)return i.PAUSED;if(e==r.BUFFER)return i.BUFFERING_DURING_SEEKING}else if(a==i.SEEKING_DURING_BUFFERING){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PLAY)return i.PLAYING;if(e==r.PAUSE||e==r.BUFFER_STOP)return i.PAUSED;if(e==r.BUFFER)return i.BUFFERING_DURING_SEEKING}else if(a==i.SEEKING_DURING_PAUSE){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PLAY)return i.PLAYING;if(e==r.PAUSE||e==r.BUFFER_STOP)return i.PAUSED;if(e==r.BUFFER)return i.BUFFERING_DURING_PAUSE}else if(a==i.PAUSED_DURING_BUFFERING){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.SEEK_START)return i.SEEKING_DURING_BUFFERING;if(e==r.PAUSE)return i.PAUSED;if(e==r.PLAY||e==r.BUFFER_STOP)return i.PLAYING}return null},getCurrentState:function(){return a},newEvent:function(e,i){var s=o.eventTypeToState(e);a!=s&&(n=a,a=s,t=i)},getPreviousState:function(){return n},getLastStateChangeTimestamp:function(){return t}}),a=i.IDLE,n=null,t=NaN}},{24:24,58:58}],67:[function(e,t,n){var i=e(24),s=e(68),r=e(56),a=e(58).StreamingAnalyticsEventType,o=e(58).State,u=e(63),c=e(55),l={notifyPlay:a.PLAY,notifyPause:a.PAUSE,notifyEnd:a.END,notifyBufferStart:a.BUFFER,notifyBufferStop:a.BUFFER_STOP,notifyLoad:a.LOAD,notifyEngage:a.ENGAGE,notifySeekStart:a.SEEK_START,notifySkipAd:a.AD_SKIP,notifyCallToAction:a.CTA,notifyError:a.ERROR,notifyTransferPlayback:a.TRANSFER,notifyDrmFail:a.DRM_FAILED,notifyDrmApprove:a.DRM_APPROVED,notifyDrmDeny:a.DRM_DENIED,notifyCustomEvent:a.CUSTOM},f={notifyChangeBitrate:[a.BIT_RATE,"ns_st_br"],notifyChangePlaybackRate:[a.PLAYBACK_RATE,"ns_st_rt"],notifyChangeVolume:[a.VOLUME,"ns_st_vo"],notifyChangeWindowState:[a.WINDOW_STATE,"ns_st_ws"],notifyChangeAudioTrack:[a.AUDIO,"ns_st_at"],notifyChangeVideoTrack:[a.VIDEO,"ns_st_vt"],notifyChangeSubtitleTrack:[a.SUBS,"ns_st_tt"],notifyChangeCdn:[a.CDN,"ns_st_cdn"]};function p(e){var t,n=this;function c(e,n,i){if(a.toString(e)){i=s.jsonObjectToStringDictionary(i);var r=s.fixEventTime(i);i.ns_st_po||isNaN(n)||(i.ns_st_po=parseInt(n)+""),e==a.PLAY||e==a.PAUSE||e==a.BUFFER||e==a.END||e==a.SEEK_START||e==a.AD_SKIP||e==a.BUFFER_STOP?t.newEvent(e,r,i):t.newPseudoEvent(e,r,i)}}for(var p in i.extend(n,{isProperlyInitialized:function(){return t.isProperlyInitialized()},reset:function(e){c(a.END);var n=t;n.getStaSM().getKeepAlive().stop(),n.getStaSM().getHeartbeat().pause(),t=new r(n.getConfiguration()),u.resetPlaybackSession(t.getStaSM(),n.getStaSM().getPlaybackSession(),e)},setPauseOnBufferingInterval:function(e){t.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return t.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){t.getStaSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return t.getStaSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){t.getStaSM().getHeartbeat().setIntervals(e)},getLabels:function(){return t.getLabels()},getState:function(){return t.getStaSM().getStateMachine().getCurrentState()},setLabels:function(e){t.setLabels(e)},getLabel:function(e){return t.getLabel(e)},setLabel:function(e,n){t.setLabel(e,n)},getLoadTimeOffset:function(){return t.getLoadTimeOffset()},setLoadTimeOffset:function(e){t.setLoadTimeOffset(e)},setLiveEndpointURL:function(e){return t.setLiveEndpointURL(e)},getLiveEndpointURL:function(){return t.getLiveEndpointURL()},isPauseOnBufferingEnabled:function(){return t.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){t.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return t.isThrottlingEnabled()},setThrottlingEnabled:function(e){t.setThrottlingEnabled(e)},setThrottlingDelay:function(e){t.setThrottlingDelay(e)},getThrottlingDelay:function(){return t.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){t.getStaSM().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return t.getStaSM().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance()},createPlaybackSession:function(e){t.getStaSM().getLogging().apiCall("createPlaybackSession",e),e=s.jsonObjectToStringDictionary(e);var i=t.getStaSM().getStateMachine().getCurrentState();i!=o.IDLE&&(t.getStaSM().getLogging().infoLog("Ending the current Clip. It was in state:",s.stateToString(i)),n.notifyEnd()),t.getStaSM().getPlaybackSession().isPlaybackSessionStarted()&&t.resetPlaybackSession(),t.getStaSM().getPlaybackSession().setLabels(e)},getVersion:function(){return t.getVersion()},addListener:function(e){t.addListener(e)},removeListener:function(e){t.removeListener(e)},addMeasurementListener:function(e){t.getStaSM().getEventManager().addMeasurementListener(e)},removeMeasurementListener:function(e){t.getStaSM().getEventManager().removeMeasurementListener(e)},getPlaybackSession:function(){return t.getStaSM().getPlaybackSession()},setExitEndEventEnabled:function(e){t.setExitEndEventEnabled(!!e)},isExitEndEventEnabled:function(){return t.isExitEndEventEnabled()},setDvrWindowLength:function(e){t.getStaSM().getPlaybackSession().getAsset().setPlaybackWindowLength(e),t.getStaSM().getPlaybackSession().getAsset().asLiveStream(!0)},setDvrWindowOffset:function(e){t.getStaSM().getPlaybackSession().getAsset().setPlaybackWindowOffset(e),t.getStaSM().getPlaybackSession().getAsset().asLiveStream(!0)},getPlatformAPI:function(){return t.getPlatformAPI()},_getLogHistory:function(){return t.getStaSM().getLogging().getLogHistory()}}),l)!function(e,i){n[e]=function(n,s){t.getStaSM().getLogging().apiCall(e,n,s);var r={},a=NaN;"object"==typeof n?r=n:"object"==typeof s&&(r=s),"number"==typeof n?a=n:"number"==typeof s&&(a=s),c(i,a,r)}}(p,l[p]);for(var g in f)!function(e,i,s){n[e]=function(n,r,a){if(t.getStaSM().getLogging().apiCall(e,n,r,a),null!=n){var o={},u=NaN;"object"==typeof r?o=r:"object"==typeof a&&(o=a),"number"==typeof r?u=r:"number"==typeof a&&(u=a),o[s]=n+"",c(i,u,o)}}}(g,f[g][0],f[g][1]);e=i.extend({},e),(t=new r(e)).getStaSM().getLogging().log("New StreamingAnalytics instance with configuration",e)}p.PlayerEvents=a,p.InternalStates=o,p.Constants=c,t.exports=p},{24:24,55:55,56:56,58:58,63:63,68:68}],68:[function(e,t,n){var i=e(23),s=e(58).State,r="undefined";n.jsonObjectToStringDictionary=function(e){var t={};for(var n in e){var i=e[n];t[n]=null==i?i:e[n]+""}return t},n.getKeys=function(e,t){var n,i=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(i[i.length]=n);return i},n.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var t=+new Date;return e.ns_ts=t+"",t},n.isBrowser=function(){return typeof window!=r&&typeof document!=r},n.addNewPlaybackInterval=function(e,t,n,s){var r,a,o={};if(!(t<=n))return i(e);if(o.start=t,o.end=n,0==e.length)return e.push(o),i(e);for(r=0;r<e.length;r++)if(o.start>=e[r].start&&o.end<=e[r].end)return i(e);var u=!1;for(a=0;a<e.length;a++)if(a+1===e.length&&o.start>=e[a].start||o.start>=e[a].start&&o.start<e[a+1].start){e.splice(a+1,0,o),u=!0;break}u||e.splice(0,0,o);var c=[e[0]];for(r=1;r<e.length;r++)c[c.length-1].end+s<e[r].start?c.push(e[r]):c[c.length-1].end<e[r].end&&(c[c.length-1].end=e[r].end);return i(c)},n.stateToString=function(e){for(var t in s)if(s.hasOwnProperty(t)&&s[t]==e)return t},n.isIdleState=function(e){return e==s.IDLE||e==s.BUFFERING_BEFORE_PLAYBACK||e==s.SEEKING_BEFORE_PLAYBACK||e==s.PLAYBACK_NOT_STARTED}},{23:23,58:58}],69:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.addBufferingTime(t),r.addBufferingTime(t),r.isSeeking()&&r.isCollectingSeekingTime()&&r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBufferStop:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()&&s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1))},onSeekStart:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),r=parseInt(n.ns_st_po);i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()?s.isCollectingSeekingTime()||(s.setSeekingTimestamp(t),s.setCollectingSeekingTime(!0)):s.incrementSeeks(),s.isSeeking()||(s.setSeeking(!0),s.setCollectingSeekingTime(!0),s.setSeekStartPosition(r),s.setSeekingTimestamp(t))},onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()&&s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1))},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),s.setPlaybackStarted(!0),(s.isPlaybackSessionLooping()||0==i.getPlaybackCounter())&&(i.incrementPlaybackCounter(),s.setPlaybackSessionLooping(!1)),i.incrementPlaySequenceCounter(),s.setPlaybackStarted(!0),s.incrementSegmentPlaybackCounter(),s.incrementPlayCounter(),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setElapsedTimestamp(t),s.setPlaybackStartPosition(a),(0==s.getLowestPartNumberPlayed()||s.getPartNumber()<=s.getLowestPartNumberPlayed())&&(s.setLowestPartNumberPlayed(s.getPartNumber()),s.incrementAssetPlaybackCounter(),s.setPlaySequenceCounter(0),s.resetAssetPlaybackIntervals()),s.incrementPlaySequenceCounter(),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],70:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndAndSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),i.addBufferingTime(t),a.addBufferingTime(t),a.addElapsedTime(t);var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.isSeeking()&&a.isCollectingSeekingTime()&&(a.setSeekingTimeBeforeEnd(t-a.getSeekingTimestamp()),a.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.addBufferingTime(t),s.addBufferingTime(t),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),s.incrementPlaySequenceCounter(),s.incrementPlayCounter(),i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],71:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onPauseOnBuffering:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();e.getStaCore().stopPausedOnBufferingTimer(),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.addBufferingTime(t),s.addBufferingTime(t),i.incrementPauses(),s.incrementPauses();var a=e.getStaCore().createLabels(r.PAUSE,n,t);s.updateDeltaLabels(a.eventLabels),s.updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),i.setBufferingTimestamp(t),s.setBufferingTimestamp(t)},onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().stopPausedOnBufferingTimer(),e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),i.addBufferingTime(t),a.addBufferingTime(t),a.addElapsedTime(t);var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);e.getStaCore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getKeepAlive().stop(),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.addBufferingTime(t),s.addBufferingTime(t),s.incrementSeeks(),s.setSeeking(!0),s.setCollectingSeekingTime(!0),s.setSeekStartPosition(a),s.setSeekingTimestamp(t),i.incrementPauses(),s.incrementPauses();var o=e.getStaCore().createLabels(r.PAUSE,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)},onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();e.getStaCore().stopPausedOnBufferingTimer(),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.addBufferingTime(t),s.addBufferingTime(t),i.incrementPauses(),s.incrementPauses();var a=e.getStaCore().createLabels(r.PAUSE,n,t);s.updateDeltaLabels(a.eventLabels),s.updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}},{24:24,26:26,58:58}],72:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getStaCore().stopPausedOnBufferingTimer(),i.addBufferingTime(t),a.addBufferingTime(t),a.addElapsedTime(t);var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.isSeeking()&&a.isCollectingSeekingTime()&&(a.setSeekingTimeBeforeEnd(t-a.getSeekingTimestamp()),a.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.addBufferingTime(t),s.addBufferingTime(t),i.incrementPauses(),s.incrementPauses(),s.isSeeking()&&s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),s.incrementPlaySequenceCounter(),s.incrementPlayCounter(),i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],73:[function(e,t,n){var i=e(24),s=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onBuffer:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.setPlaybackSessionStarted(!0),s.setAssetStarted(!0),s.isSeeking()&&s.setSeekingTime(s.getSeekingTimeBeforeEnd()),i.setBufferingTimestamp(t),s.setBufferingTimestamp(t)},onSeekStart:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),r=parseInt(n.ns_st_po);i.setPlaybackSessionStarted(!0),s.setAssetStarted(!0),s.isSeeking()&&s.setSeekingTime(s.getSeekingTimeBeforeEnd()),s.incrementSeeks(),s.setSeeking(!0),s.setCollectingSeekingTime(!0),s.setSeekStartPosition(r),s.setSeekingTimestamp(t)},onPlay:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);i.setPlaybackSessionStarted(!0),r.setAssetStarted(!0),(r.isPlaybackSessionLooping()||0==i.getPlaybackCounter())&&(i.incrementPlaybackCounter(),r.setPlaybackSessionLooping(!1)),r.isSeeking()&&(r.setSeekingTime(r.getSeekingTimeBeforeEnd()),r.addSeekingAmount(a),r.setSeeking(!1)),i.incrementPlaySequenceCounter(),r.setPlaybackStarted(!0),r.incrementSegmentPlaybackCounter(),(0==r.getLowestPartNumberPlayed()||r.getPartNumber()<=r.getLowestPartNumberPlayed())&&(r.setLowestPartNumberPlayed(r.getPartNumber()),r.incrementAssetPlaybackCounter(),r.setPlaySequenceCounter(0),r.resetAssetPlaybackIntervals()),r.incrementPlaySequenceCounter(),r.incrementPlayCounter(),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.setElapsedTimestamp(t),r.setPlaybackStartPosition(a),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(s.PLAY,n,t);r.updateDeltaLabels(o.eventLabels),r.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,58:58}],74:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),a.addElapsedTime(t);var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.isSeeking()&&a.isCollectingSeekingTime()&&(a.setSeekingTimeBeforeEnd(t-a.getSeekingTimestamp()),a.setSeeking(!1)),i.storeAssetPlaybackCounters(),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),s.incrementPlayCounter(),s.incrementPlaySequenceCounter(),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.addElapsedTime(t),s.setElapsedTimestamp(t),s.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],75:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),i.addBufferingTime(t),a.addBufferingTime(t),a.addElapsedTime(t),a.isSeeking()&&a.isCollectingSeekingTime()&&(a.setSeekingTimeBeforeEnd(t-a.getSeekingTimestamp()),a.setCollectingSeekingTime(!1));var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),r=parseInt(n.ns_st_po);i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()?s.isCollectingSeekingTime()||(s.setSeekingTimestamp(t),s.setCollectingSeekingTime(!0)):s.incrementSeeks(),s.isSeeking()||(s.setSeeking(!0),s.setCollectingSeekingTime(!0),s.setSeekStartPosition(r),s.setSeekingTimestamp(t)),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.addBufferingTime(t),s.addBufferingTime(t),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onPlayOrOnBufferStop:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),s.incrementPlaySequenceCounter(),i.addBufferingTime(t),s.addBufferingTime(t),s.incrementPlayCounter(),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.addElapsedTime(t),s.setElapsedTimestamp(t),s.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],76:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();r.isSeeking()&&r.isCollectingSeekingTime()&&(r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var i=e.getPlaybackSession().getAsset(),s=parseInt(n.ns_st_po);i.isSeeking()?i.setSeekingTimestamp(t):i.incrementSeeks(),i.isSeeking()||(i.setSeeking(!0),i.setCollectingSeekingTime(!0),i.setSeekStartPosition(s),i.setSeekingTimestamp(t))},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);s.isSeeking()&&(s.addSeekingAmount(a),s.setSeeking(!1)),i.setPlaybackSessionStarted(!0),(s.isPlaybackSessionLooping()||0==i.getPlaybackCounter())&&(i.incrementPlaybackCounter(),s.setPlaybackSessionLooping(!1)),i.incrementPlaySequenceCounter(),s.setPlaybackStarted(!0),s.incrementSegmentPlaybackCounter(),(0==s.getLowestPartNumberPlayed()||s.getPartNumber()<=s.getLowestPartNumberPlayed())&&(s.setLowestPartNumberPlayed(s.getPartNumber()),s.incrementAssetPlaybackCounter(),s.setPlaySequenceCounter(0),s.resetAssetPlaybackIntervals()),s.incrementPlaySequenceCounter(),s.incrementPlayCounter(),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setElapsedTimestamp(t),s.setPlaybackStartPosition(a),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)},onBuffer:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.setBufferingTimestamp(t),s.setBufferingTimestamp(t)}})}},{24:24,26:26,58:58}],77:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset(),o=parseInt(n.ns_st_po);e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),i.addPlaybackTime(t),a.addPlaybackTime(t),a.addAccumulatedPlayback(o),a.addElapsedTime(t),a.addInterval(o);var u=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(u.eventLabels),a.updateIndependentLabels(u.eventLabels),e.getEventManager().newEvent(u),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBuffer:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),r=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),i.addPlaybackTime(t),s.addPlaybackTime(t),s.addAccumulatedPlayback(r),s.addInterval(r),e.getStaCore().isPauseOnBufferingEnabled()&&e.getStaCore().startPausedOnBufferingTimer(t,n),s.incrementBufferCount(),i.setBufferingTimestamp(t),s.setBufferingTimestamp(t),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onSeekStart:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),i.addPlaybackTime(t),s.addPlaybackTime(t),s.addAccumulatedPlayback(a),s.addInterval(a),s.incrementSeeks(),s.setSeeking(!0),s.setCollectingSeekingTime(!0),s.setSeekStartPosition(a),s.setSeekingTimestamp(t),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.incrementPauses(),s.incrementPauses();var o=e.getStaCore().createLabels(r.PAUSE,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)},onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),i.addPlaybackTime(t),s.addPlaybackTime(t),s.addAccumulatedPlayback(a),s.addInterval(a),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.incrementPauses(),s.incrementPauses();var o=e.getStaCore().createLabels(r.PAUSE,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],78:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();r.isSeeking()&&r.isCollectingSeekingTime()&&(r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){var i=e.getPlaybackSession().getAsset();i.isSeeking()&&i.isCollectingSeekingTime()&&(i.addSeekingTime(t),i.setCollectingSeekingTime(!1))},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),(s.isPlaybackSessionLooping()||0==i.getPlaybackCounter())&&(i.incrementPlaybackCounter(),s.setPlaybackSessionLooping(!1)),i.incrementPlaySequenceCounter(),s.incrementPlaySequenceCounter(),s.incrementPlayCounter(),s.setPlaybackStarted(!0),s.incrementSegmentPlaybackCounter(),(0==s.getLowestPartNumberPlayed()||s.getPartNumber()<=s.getLowestPartNumberPlayed())&&(s.setLowestPartNumberPlayed(s.getPartNumber()),s.incrementAssetPlaybackCounter(),s.setPlaySequenceCounter(0),s.resetAssetPlaybackIntervals()),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setElapsedTimestamp(t),s.setPlaybackStartPosition(a),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],79:[function(e,t,n){var i=e(24);t.exports=function(e){i.extend(this,{onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.incrementPauses(),s.incrementPauses(),s.isSeeking()&&s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addElapsedTime(t),s.setElapsedTimestamp(t)}})}},{24:24}],80:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),a.addElapsedTime(t);var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.isSeeking()&&a.isCollectingSeekingTime()&&(a.setSeekingTimeBeforeEnd(t-a.getSeekingTimestamp()),a.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),s.incrementPlaySequenceCounter(),s.incrementPlayCounter(),s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setPlaybackStartPosition(a),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],81:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onSeekStartWhenPausedOrBufferingDuringPause:function(t,n){var i=e.getPlaybackSession().getAsset(),s=parseInt(n.ns_st_po);i.isSeeking()?i.isCollectingSeekingTime()||(i.setSeekingTimestamp(t),i.setCollectingSeekingTime(!0)):i.incrementSeeks(),i.isSeeking()||(i.setSeeking(!0),i.setCollectingSeekingTime(!0),i.setSeekStartPosition(s),i.setSeekingTimestamp(t)),i.addElapsedTime(t),i.setElapsedTimestamp(t)},onBufferWhenSeekingOrPaused:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.setBufferingTimestamp(t),s.setBufferingTimestamp(t),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),s.incrementPlaySequenceCounter(),s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),s.incrementPlayCounter(),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.addElapsedTime(t),s.setElapsedTimestamp(t),s.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.addBufferingTime(t),s.addBufferingTime(t),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(t,n){var i=e.getPlaybackSession().getAsset();i.isSeeking()&&i.isCollectingSeekingTime()&&(i.addSeekingTime(t),i.setCollectingSeekingTime(!1)),i.addElapsedTime(t),i.setElapsedTimestamp(t)},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),a.addElapsedTime(t);var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.isSeeking()&&a.isCollectingSeekingTime()&&(a.setSeekingTimeBeforeEnd(t-a.getSeekingTimestamp()),a.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var i=e.getPlaybackSession().getAsset();i.isSeeking()&&i.isCollectingSeekingTime()&&(i.addSeekingTime(t),i.setCollectingSeekingTime(!1)),i.addElapsedTime(t),i.setElapsedTimestamp(t)},onBufferStopOrOnPlayWhenBufferingDuringPlayback:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),r=parseInt(n.ns_st_po);e.getStaCore().stopPausedOnBufferingTimer(),i.addBufferingTime(t),s.addBufferingTime(t),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setPlaybackStartPosition(r),s.addElapsedTime(t),s.setElapsedTimestamp(t),e.getHeartbeat().resume(),e.getKeepAlive().start()}})}},{24:24,26:26,58:58}],82:[function(e,t,n){var i,s,r,a=null,o=[];function u(){var e=+new Date;a=r.setInterval((function(){var t=e+i,n=+new Date,r=n-t;if(e=n,Math.abs(r)>s)for(var a=0<r,u=0;u<o.length;++u)o[u](a)}),i)}function c(){clearInterval(a),a=null}t.exports={onSystemClockJump:function(e){o.push(e),a||u()},removeSystemClockJumpListener:function(e){for(var t=0;t<o.length;++t)if(o[t]==e){o.splice(t,1);break}o.length||c()},setPlatformAPI:function(e){r=e},configureInterval:function(e,t){!t&&i||(i=e||1e3),(a&&t||!a)&&(c(),u())},configureError:function(e,t){s=e||1e3}}},{}],83:[function(e,t,n){arguments[4][20][0].apply(n,arguments)},{20:20}],84:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{21:21}],85:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{24:24}],86:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{26:26}],87:[function(e,t,n){var i=["getAsset","getLabels","setLabels","setLabel","getLabel","getPlaybackSessionID"];t.exports=function(e,t){for(var n=0;n<i.length;++n){var s=i[n];this[s]=function(t){return function(){return e[t].apply(e,Array.prototype.slice.call(arguments))}}(s)}this.setAsset=function(){t.apply(null,Array.prototype.slice.call(arguments))}}},{}],88:[function(e,t,n){var i=e(83),s=e(4),r=s.URL_LENGTH_LIMIT,a=s.RESTRICTED_URL_LENGTH_LIMIT;t.exports=function(e,t){var n,s;s=i.isBrowser()?(n=window,document):(n={},{location:{href:""},title:"",URL:"",referrer:"",cookie:""});var o=t.getLiveEndpointURL(),u="undefined",c=n.comScore||n.sitestat||function(e){var o,c,l,f,p,g="comScore=",d=s.cookie,_="",m="indexOf",h=i.browserAcceptsLargeURLs()?r:a,v="&ns_",y=n.encodeURIComponent||escape;if(d[m](g)+1)for(f=0,p=(l=d.split(";")).length;f<p;f++)(c=l[f][m](g))+1&&(_="&"+unescape(l[f].substring(c+g.length)));(e+=v+"_t="+ +new Date+v+"c="+(s.characterSet||s.defaultCharset||"")+_).length>h&&0<e.indexOf("&")&&(o=e.substr(0,h-8).lastIndexOf("&"),e=(e.substring(0,o)+v+"cut="+y(e.substring(o+1))).substr(0,h)),t.getPlatformAPI().httpGet(e),typeof n.ns_p===u&&(n.ns_p={src:e}),n.ns_p.lastMeasurement=e},l=decodeURIComponent||unescape,f={},p=o.indexOf("?");if(0<=p&&p<o.length-1){for(var g=o.substring(p+1).split("&"),d=0,_=g.length;d<_;d++){var m=g[d].split("=");2==m.length&&(f[m[0]]=l(m[1]))}o=o.substring(0,p+1)}var h=f;if(typeof e!==u){for(var v in e)e.hasOwnProperty(v)&&(h[v]=e[v]);var y=[],S=n.encodeURIComponent||escape;for(v in h)y.push(S(v)+"="+S(h[v]));/[\?\&]$/.test(o)||(o+="&"),o+=y.join("&")}return c(o)}},{4:4,83:83}],89:[function(e,t,n){var i=e(16),s=e(87),r=e(88),a=e(84),o=e(85),u=e(83),c=e(86),l=(t.exports=i).StreamingAnalytics.InternalStates,f=i.StreamingAnalytics.PlayerEvents;function p(e,t,n,r,g){var d,_,m,h,v=this,y="_all_",S=10,b=500,P=[[-1,1],[-.5,0,.5],[-.3,-.1,.1,.3],[-.2,-.1,0,.1,.2],[-.14286,-.08571,-.02857,.02857,.08571,.14286],[-.10714,-.07143,-.03571,0,.03571,.07143,.10714],[-.08333,-.05952,-.03571,-.0119,.0119,.03571,.05952,.08333],[-.06667,-.05,-.03333,-.01667,0,.01667,.03333,.05,.06667],[-.05455,-.04242,-.0303,-.01818,-.00606,.00606,.01818,.0303,.04242,.05455],[-.04545,-.03636,-.02727,-.01818,-.00909,0,.00909,.01818,.02727,.03636,.04545],[-.03846,-.03147,-.02448,-.01748,-.01049,-.0035,.0035,.01049,.01748,.02448,.03147,.03846],[-.03297,-.02747,-.02198,-.01648,-.01099,-.00549,0,.00549,.01099,.01648,.02198,.02747,.03297]],E=1.25,A=2,T=300,I=1e3,k=6,C=50,L={},w=[],N=-1,D=-1,O={},R=!1,x=!1,B=!1,U=!1,M=!1,F=!1,G=(g=g||{}).position&&g.position.call(v,null)||0,V=NaN,K=[],W=!1,j={},Y={},H={},q={},X=!1,z=!1,J=!0,Z=[];function Q(){return u.hasPageVisibilityAPISupport&&u.isTabInBackground()?I:T}function $(){ee(),V=NaN,K=[],G=g.position&&g.position.call(v)||0,J=!0,m=setInterval(te,Q()),function(){if("undefined"!=typeof document&&document.addEventListener&&u.hasPageVisibilityAPISupport()&&!ne){ne=!0;var e=u.getPageVisibilityAPI();document.addEventListener(e.visibilityChange,$,!1)}}()}function ee(){void 0!==m&&(clearInterval(m),m=void 0)}function te(){if(F)if(W)W=!1;else{var e=+new Date,t=e-V,n=Q()+C,s=V;if(V=e,!isNaN(s)&&n<t)$();else{var r=g.position&&g.position.call(v,null)||0,a=!1;if(r!=K[K.length-1]){if(K.push(Math.abs(r)),1<K.length&&K[K.length-1]<K[K.length-2]){var o=K[K.length-1];(K=[])[0]=o,x&&(a=!0)}if(!a&&K.length<A)return}K.length>k&&(K=K.slice(-Math.floor(k/2))),x&&!a&&(a=function(){if(K.length<2)return!1;if(K[K.length-1]<K[K.length-2])return!0;for(var e=Q(),t=0,n=0;n<K.length;n++)t=(parseFloat(t)+P[K.length-2][n]*K[n]).toFixed(5);return t=parseFloat(t),E<t/e}());var u=L.getState();switch(u){case l.IDLE:case l.PAUSED:case l.PLAYBACK_NOT_STARTED:case l.BUFFERING_BEFORE_PLAYBACK:case l.BUFFERING_DURING_PLAYBACK:case l.BUFFERING_DURING_SEEKING:case l.BUFFERING_DURING_PAUSE:case l.PAUSED_DURING_BUFFERING:case l.SEEKING_BEFORE_PLAYBACK:case l.SEEKING_DURING_PLAYBACK:case l.SEEKING_DURING_BUFFERING:case l.SEEKING_DURING_PAUSE:if(U&&G<r&&!a&&!ie(r)){if(g.preMeasurement&&!g.preMeasurement.call(v,u,i.StreamingAnalytics.PlayerEvents.PLAY))break;var c=K[K.length-1];J&&c<1e3?v.notifyPlay(0):v.notifyPlay(c),J=!1;break}if(x&&a&&u!=l.SEEKING_BEFORE_PLAYBACK&&u!=l.SEEKING_DURING_PLAYBACK&&u!=l.SEEKING_DURING_BUFFERING&&u!=l.SEEKING_DURING_PAUSE){v.notifySeekStart(K[0]);break}if(M&&u!=l.IDLE&&u!=l.PLAYBACK_NOT_STARTED&&u!=l.BUFFERING_BEFORE_PLAYBACK&&u!=l.SEEKING_BEFORE_PLAYBACK&&ie(r)){if(g.preMeasurement&&!g.preMeasurement.call(v,u,i.StreamingAnalytics.PlayerEvents.END))break;J=!0;var f=parseInt(j.ns_st_cl||L.getPlaybackSession().getAsset().getLabel("ns_st_cl"));!isNaN(f)&&0<f?v.notifyEnd(f):v.notifyEnd(r)}break;case l.PLAYING:if(x&&a){if(g.preMeasurement&&!g.preMeasurement.call(v,u,i.StreamingAnalytics.PlayerEvents.PAUSE))break;J=!1,v.notifySeekStart(G)}else if(M&&ie(r)){if(g.preMeasurement&&!g.preMeasurement.call(v,u,i.StreamingAnalytics.PlayerEvents.END))break;J=!0,f=parseInt(j.ns_st_cl||L.getPlaybackSession().getAsset().getLabel("ns_st_cl")),!isNaN(f)&&0<f?v.notifyEnd(f):v.notifyEnd(r)}else if(B&&Math.abs(r-G)<=S){if(g.preMeasurement&&!g.preMeasurement.call(v,u,i.StreamingAnalytics.PlayerEvents.PAUSE))break;J=!1,v.notifyPause(G)}}u!==L.getState()&&(g.postMeasurement&&g.postMeasurement.call(v,L.getState()),L.getState()!=l.PLAYING&&(K=[])),G=r}}else ee()}h={},"debug"in e&&(h.debug=e.debug),("publisherId"in e||"c2"in e)&&(h.publisherId=e.publisherId||e.c2),"secure"in e&&(h.secure=e.secure),("logurl"in e||"liveEndpointURL"in e)&&(h.liveEndpointURL=e.logurl||e.liveEndpointURL),L=new i.StreamingAnalytics(h),o.extend(v,L),o.extend(v,{notifyPlay:function(){if(!X&&!z){J=!1;var e=oe(f.PLAY,re(arguments),ae(arguments));L.notifyPlay(re(arguments),e),F&&(K=[],G=e)}},notifyPause:function(){if(!X&&!z){J=!1;var e=oe(f.PAUSE,re(arguments),ae(arguments));L.notifyPause(re(arguments),e),F&&(K=[],G=e)}},notifyEnd:se,notifyBufferStart:function(){if(!X&&!z){var e=oe(f.BUFFER,re(arguments),ae(arguments));L.notifyBufferStart(re(arguments),e),F&&(K=[],G=e)}},notifyBufferStop:function(){if(!X&&!z){var e=oe(f.BUFFER_STOP,re(arguments),ae(arguments));L.notifyBufferStop(re(arguments),e)}},notifyLoad:function(){if(!X&&!z&&e.enableLoadNotification){var t=oe(f.LOAD,re(arguments),ae(arguments));L.notifyLoad(re(arguments),t)}},notifyEngage:function(){if(!X&&!z&&e.enableEngageNotification){var t=oe(f.ENGAGE,re(arguments),ae(arguments));L.notifyEngage(re(arguments),t)}},notifySeekStart:function(){if(!X&&!z){J=!1;var e=oe(f.SEEK_START,re(arguments),ae(arguments));F&&(K=[],G=e),L.notifySeekStart(re(arguments),e)}},notifySkipAd:function(){if(!X&&!z)if(e.enableSkipAdNotification){J=!0;var t=oe(f.AD_SKIP,re(arguments),ae(arguments));F&&(K=[],G=t,W=!0),L.notifySkipAd(re(arguments),t)}else se.apply(this,Array.prototype.slice.call(arguments))},notifyCallToAction:function(){if(!X&&!z&&e.enableCallToActionNotification){var t=oe(f.CTA,re(arguments),ae(arguments));L.notifyCallToAction(re(arguments),t)}},notifyError:function(){if(!X&&!z&&e.enableErrorNotification){var t=oe(f.ERROR,re(arguments),ae(arguments));L.notifyError(re(arguments),t)}},notifyTransferPlayback:function(){if(!X&&!z&&e.enableTransferPlaybackNotification){var t=oe(f.TRANSFER,re(arguments),ae(arguments));L.notifyTransferPlayback(re(arguments),t)}},notifyDrmFail:function(){if(!X&&!z&&e.enableDrmFailNotification){var t=oe(f.DRM_FAILED,re(arguments),ae(arguments));L.notifyDrmFail(re(arguments),t)}},notifyDrmApprove:function(){if(!X&&!z&&e.drmApproveNotification){var t=oe(f.DRM_APPROVED,re(arguments),ae(arguments));L.notifyDrmApprove(re(arguments),t)}},notifyDrmDeny:function(){if(!X&&!z&&e.drmDenyNotification){var t=oe(f.DRM_DENIED,re(arguments),ae(arguments));L.notifyDrmDeny(re(arguments),t)}},notifyChangeBitrate:function(t,n,i){if(!X&&!z)if(e.enableBitrateNotification){var s=[n,i],r=oe(f.BIT_RATE,re(s),ae(s));L.notifyChangeBitrate(t,r,re(s))}else ce("ns_st_br",t,!0)},notifyChangePlaybackRate:function(e,t,n){if(!X&&!z){var i=[t,n],s=oe(f.PLAYBACK_RATE,re(i),ae(i));L.notifyChangePlaybackRate(e,s,re(i))}},notifyChangeVolume:function(t,n,i){if(!X&&!z)if(e.enableVolumeChangeNotification){var s=[n,i],r=oe(f.VOLUME,re(s),ae(s));L.notifyChangeVolume(t,r,re(s))}else ce("ns_st_vo",t,!0)},notifyChangeWindowState:function(t,n,i){if(!X&&!z)if(e["enableWindowStateChangeNotification "]){var s=[n,i],r=oe(f.WINDOW_STATE,re(s),ae(s));L.notifyChangeWindowState(t,r,re(s))}else ce("ns_st_ws",t,!0)},notifyChangeAudioTrack:function(t,n,i){if(!X&&!z)if(e.enableAudioTrackChangeNotification){var s=[n,i],r=oe(f.AUDIO,re(s),ae(s));L.notifyChangeAudioTrack(t,r,re(s))}else ce("ns_st_at",t,!0)},notifyChangeVideoTrack:function(t,n,i){if(!X&&!z)if(e.enableVideoTrackChangeNotification){var s=[n,i],r=oe(f.VIDEO,re(s),ae(s));L.notifyChangeVideoTrack(t,r,re(s))}else ce("ns_st_vt",t,!0)},notifyChangeSubtitleTrack:function(t,n,i){if(!X&&!z)if(e.enableSubtitleTrackChangeNotification){var s=[n,i],r=oe(f.SUBS,re(s),ae(s));L.notifyChangeSubtitleTrack(t,r,re(s))}else ce("ns_st_tt",t,!0)},notifyChangeCDN:function(t,n,i){if(!X&&!z)if(e.enableCdnChangeNotification){var s=[n,i],r=oe(f.CDN,re(s),ae(s));L.notifyChangeCdn(t,r,re(s))}else ce("ns_st_cdn",t,!0)},notifyCustomEvent:function(){if(!X&&!z&&e.enableCustomEventNotification){var t=oe(f.CUSTOM,re(arguments),ae(arguments));L.notifyCustomEvent(re(arguments),t)}},createPlaybackSession:function(e,t){return t&&1==t?o.extend(e,Y):(Y={},o.extend(Y,e)),z=!!(e&&e.hasOwnProperty("ns_st_skip")&&e.ns_st_skip),L.createPlaybackSession(e)},getPlaybackSession:function(){var e=L.getPlaybackSession();return new s(e,ue)},setAsset:ue,setLabel:ce,setLabels:le,getLabels:function(){return q},getLabel:function(e){return q[e]},setAssetLabel:function(e,t,n){n&&1==n?(H.hasOwnProperty(e)||q.hasOwnProperty(e)||L.getPlaybackSession().getAsset().setLabel(e,t),j[e]=t):(H[e]=t,L.getPlaybackSession().getAsset().setLabel(e,t))},setPlaybackSessionLabel:function(e,t,n){n&&1==n?Y.hasOwnProperty(e)||q.hasOwnProperty(e)||L.getPlaybackSession().setLabel(e,t):(Y[e]=t,L.getPlaybackSession().setLabel(e,t))},setThrottlingEnabled:function(e){L.setThrottlingEnabled(e)},onGetLabels:function(e){"function"==typeof e&&w.push(e)},labelMapping:O,release:function(){g.release&&g.release.call(v),ee(),L.reset(),L=null,function(){if("undefined"!=typeof document&&document.addEventListener&&u.hasPageVisibilityAPISupport()&&ne){ne=!1;var e=u.getPageVisibilityAPI();document.removeEventListener(e.visibilityChange,$,!1)}}(),w=[],d=void 0,_=y,D=N=-1},log:pe,handleSettings:fe,getGenericPluginVersion:function(){return"2.6.5.180917"},setDuration:function(e){L.getPlaybackSession().getAsset().setLabel("ns_st_cl",e&&0<=e?e:0)},setVideoSize:function(e){L.getPlaybackSession().getAsset().setLabel("ns_st_cs",e||0)},setDetectSeek:function(e){x=e||!1},setDetectPause:function(e){B=e||!1},setDetectPlay:function(e){U=e||!1},setDetectEnd:function(e){M=e||!1},setSmartStateDetection:function(e){(F=e||!1)?$():ee()},setPauseDetectionErrorMargin:function(e){e&&(S=e)},setEndDetectionErrorMargin:function(e){e&&(b=e)},setSeekDetectionMinQuotient:function(e){e&&1<e&&(E=e)},setPulseSamplingInterval:function(e){"number"==typeof e&&0<=e&&(T=e)},setPulseSamplingIntervalBackground:function(e){"number"==typeof e&&0<=e&&(I=e)},setPulseMaxDelay:function(e){"number"==typeof e&&0<=e&&(C=e)},setMaximumNumberOfEntriesInHistory:function(e){e&&e<=13&&2<=e&&(k=e)},setMinimumNumberOfTimeUpdateEventsBeforeDetectingSeek:function(e){e&&2<=e&&e<=13&&(A=e)}}),v.setLabels({ns_st_mp:t,ns_st_pv:n,ns_st_mv:r},!0),e&&fe(e),g.init&&g.init.call(v,null),F&&$(),a.isTrue(e.pageView||e.pageview)&&p.viewNotify(L.getLabels(),L);var ne=!1;function ie(e){var t=parseInt(j.ns_st_cl||L.getPlaybackSession().getAsset().getLabel("ns_st_cl"));return!isNaN(t)&&0<t&&(t<e||Math.abs(e-t)<b)}function se(){if(!X&&!z){J=!0;var e=oe(f.END,re(arguments),ae(arguments));F&&(K=[],G=e,W=!0),L.notifyEnd(re(arguments),e)}}function re(e){return"object"==typeof e[0]?e[0]:"object"==typeof e[1]?e[1]:{}}function ae(e){return"number"==typeof e[0]?e[0]:"number"==typeof e[1]?e[1]:NaN}function oe(e,t,n){for(var i=0,s=w.length;i<s;i++)w[i](e,t);var r=NaN;return"number"!=typeof n||isNaN(n)?g.position&&(r=g.position.call(v,e,t,n)):r=n,r}function ue(e,t,n,i){var s,r=n||[];for(var a in function(e,t){var n=_===y;if(0<e.length&&"undefined"!=e[0].map){var i=e[0].map;for(var s in n||o.extend(t,function(e){var t,n,i,s,r={};if(_===y)return{};if(d&&d!==y){for(t=0,n=d.length;t<n;t++){var a=d[t];for(i in s=0<=N&&N<=t,e)e.hasOwnProperty(i)&&(r[i]||(r[i]=!(s?0!==i.indexOf(a):i!=a)))}for(i in r)r.hasOwnProperty(i)&&!1===r[i]&&delete e[i];r={}}if(_)for(t=0,n=_.length;t<n;t++){var o=_[t];for(i in s=0<=D&&D<=t,e)e.hasOwnProperty(i)&&(s?0===i.indexOf(o):i==o)&&(r[i]=!0);for(i in r)r.hasOwnProperty(i)&&e.hasOwnProperty(i)&&delete e[i];r={}}return e}(i)),i)if(i.hasOwnProperty(s)){var r,a,u,c=/^([Cc][A-Da-d]_)?ns_st_.+/,l=/^[Cc][A-Da-d]?([1-9]|1[0-9]|20)$/;(r=s.match(/^data-(.+)/))?(a=null!=r[1].match(c),u=null!=r[1].match(l),(a||u)&&-1===Z.indexOf(r[1])&&(t[r[1]]=i[s])):(a=null!=s.match(c),u=null!=s.match(l),(a||u)&&-1===Z.indexOf(s)&&(t[s]=i[s]))}}}(r,e),function(e,t){var n=v.labelMapping;for(var i in n)if(n.hasOwnProperty(i))for(var s="",r=/^("([^"]+)"|'([^']+?)'$)/i,a=n[i].match(/"([^"]+?)"|[a-z0-9\[\]\._-]+|'([^']+?)'\s*/gi),o=0;o<a.length;o++){var u=a[o].replace(/(?:^\s+|\s+$)/g,"");if(r.test(u)){var l=r.exec(u);s+=l[2]||l[3]}else try{var f="",p=u.lastIndexOf(".");1<=p&&p<u.length-1&&(f=u.substring(0,p),u=u.substring(p+1,u.length));for(var g=0;g<e.length;g++){var d=e[g];if(f==d.prefix){d.map[u]&&(s+=c.toString(d.map[u]));break}}}catch(e){pe("Exception occurred while processing mapped labels")}t[i]=s}}(r,e),e)e.hasOwnProperty(a)&&(s=a.match(/^data-(.+)/))&&(e[s[1]]=e[a],delete e[a]);return i&&1==i?o.extend(e,H):(H={},o.extend(H,e)),j={},X=!!(e&&e.hasOwnProperty("ns_st_skip")&&e.ns_st_skip),L.getPlaybackSession().setAsset(e,t)}function ce(e,t,n){var i={};return i[e]=t,le(i,n)}function le(e,t){return t&&1==t?o.extend(e,q):o.extend(q,e),L.setLabels(e)}function fe(e){if(a.isTrue(e.pageView||e.pageview)){var t={};if("undefined"!=typeof document){var n=document;t.c7=n.URL,t.c8=n.title,t.c9=n.referrer}L.setLabels(t)}var i;e.renditions,R=a.isTrue(e.debug),(e.labelMapping||e.labelmapping)&&function(e){if(e){var t=e.match(/([^=, ]+)\s*=(\s*("([^"]+?)"|'([^']+?)'|[a-z0-9\[\]\._-]+)\s*\+?)+\s*/gi);for(var n in t)if(t.hasOwnProperty(n)){var i=t[n].split("=",2);if(2==i.length){var s=i[0].replace(/(^\s+|\s+$)/g,"");""!=s&&(O[s]=i[1])}}}}(e.labelMapping||e.labelmapping),(e.persistentLabels||e.persistentlabels)&&function(e){if(e){var t=e.split(",");for(var n in t)if(t.hasOwnProperty(n)){var i=t[n].split("=",2);if(2==i.length){var s=i[0].replace(/(^\s+|\s+$)/g,"");""!=s&&(L.setLabel(s,i[1]),q[s]=i[1])}}}}(e.persistentLabels||e.persistentlabels),"1"===e.throttling||!0===e.throttling?L.setThrottlingEnabled(!0):L.setThrottlingEnabled(!1),(i=e.include)&&"string"==typeof i&&(i===y?d=y:0<i.length&&(d=i.split(","))),d!==y&&(i=e.includePrefixes||e.include_prefixes)&&(i===y?d=y:(d||(d=[]),N=d.length,d.push.apply(d,i.split(","))));var s=/^([Cc][A-Da-d]_)?ns_st_.+/,r=/^[Cc][A-Da-d]?([1-9]|1[0-9]|20)$/,o=e.exclude;if("string"==typeof o)if(d||o)if(d&&!o)Z=[],_=[];else if(o==y)Z=[],_=y;else{var u=o.split(",");_=d?u:y;for(var c=0;c<u.length;c++){var l=null!=u[c].match(s),f=null!=u[c].match(r);(l||f)&&Z.push(u[c])}}else Z=[],_=y;var p=e.excludePrefixes||e.exclude_prefixes;d&&_!=y&&"string"==typeof p&&(p==y?_=y:(_||(_=[]),D=_.length,_.push.apply(_,p.split(",")))),_||(_=y)}function pe(){if(R){var e=new Date,t=e.getDate(),n=e.getMonth()+1,i=e.getHours(),s=e.getMinutes(),r=e.getSeconds(),a=["comScore",e.getFullYear()+"-"+(n<10?"0"+n:n)+"-"+(t<10?"0"+t:t)+" "+(i<10?"0"+i:i)+":"+(s<10?"0"+s:s)+":"+(r<10?"0"+r:r)+"."+e.getMilliseconds()],o=Array.prototype.slice.call(arguments);"undefined"!=typeof console&&console.log.apply(console,a.concat(o))}}}p.prototype=i.StreamingAnalytics.prototype,(i.StreamingAnalytics.Plugin=p).viewNotify=r,p.extractParams=function(e,t,n){var i,s,r,a=t.length,o={},u=e.indexOf(t);if(void 0===n&&(n="&"),0<=u)for(i=0,s=(r=e.substr(u+a).split(n)).length;i<s;i++){var c=r[i].split("=");2===c.length&&(o[c[0]]=decodeURIComponent(c[1]))}return o}},{16:16,83:83,84:84,85:85,86:86,87:87,88:88}]},{},[89])(89)}).call(this,n(2),n(3))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,i,s=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&g())}function g(){if(!l){var e=o(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function _(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||o(g)},d.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=_,s.addListener=_,s.once=_,s.off=_,s.removeListener=_,s.removeAllListeners=_,s.emit=_,s.prependListener=_,s.prependOnceListener=_,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"VERSION",(function(){return S})),n.d(t,"NAME",(function(){return b}));var i=n(0),s=n(1),r=n.n(s);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var s=g(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=i.core.MediaType,m=i.core.Utils,h=i.core.AdBreakType,v=i.core.Error,y=(i.core.FakeEvent,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e);var t=l(n);function n(e,i,s){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),d(p(r=t.call(this,e,i,s)),"_isAd",!1),d(p(r),"_isLive",!1),r._trackEventMonitorCallbackName=s.trackEventMonitor,r._init(),r}return u(n,null,[{key:"isValid",value:function(){return!0}}]),u(n,[{key:"_init",value:function(){var e=this;this._gPlugin=null,this._lastKnownPosition=NaN,this._lastKnownAdPosition=NaN,this._contentPartNumber=1,this._isAd=!1,this._isLive=!1,this._adCachedAdvertisementMetadataObject=null,this._isAdPreroll=!1,this._gPluginPromise=null,this._isPlaybackLifeCycleStarted=!1,this._adNumber=0,this._adBreakNumber=0,this._gPluginPromise=m.Object.defer(),this.player.ready().then((function(){e.logger.debug("The comScore onReady event was triggered.");var t=e._parsePluginConfig(e.config);e._trackEventMonitor("Configured publisherId",t.publisherId),e._gPlugin=new r.a.StreamingAnalytics.Plugin(t,n.PLUGIN_PLATFORM_NAME,n.PLUGIN_VERSION,e.config.playerVersion,{position:e._getCurrentPosition.bind(e)}),e._setInitialPlayerData(),e._gPluginPromise&&e._gPluginPromise.resolve()})),this._addBindings()}},{key:"_getCurrentPosition",value:function(){if(this._isAd)return this._lastKnownAdPosition;if(this._isLive)return NaN;var e=this.player.currentTime;return Math.floor(1e3*e)}},{key:"_addBindings",value:function(){var e,t=this,n=(d(e={},this.player.Event.SOURCE_SELECTED,this._onSourceSelected),d(e,this.player.Event.ERROR,this._onError),d(e,this.player.Event.SEEKING,this._onSeeking),d(e,this.player.Event.PAUSE,this._onPause),d(e,this.player.Event.ENDED,this._onEnded),d(e,this.player.Event.TIME_UPDATE,this._onTimeUpdate),d(e,this.player.Event.RATE_CHANGE,this._onRateChange),d(e,this.player.Event.PLAYER_STATE_CHANGED,this._onPlayerStateChanged),d(e,this.player.Event.VIDEO_TRACK_CHANGED,this._onVideoTrackChanged),d(e,this.player.Event.AUDIO_TRACK_CHANGED,this._onAudioTrackChanged),d(e,this.player.Event.TEXT_TRACK_CHANGED,this._onTextTrackChanged),d(e,this.player.Event.ENTER_FULLSCREEN,this._onEnterFullscreen),d(e,this.player.Event.EXIT_FULLSCREEN,this._onExitFullScreen),d(e,this.player.Event.VOLUME_CHANGE,this._onVolumeChange),d(e,this.player.Event.AD_LOADED,this._onAdLoaded),d(e,this.player.Event.AD_STARTED,this._onAdStarted),d(e,this.player.Event.AD_RESUMED,this._onAdResumed),d(e,this.player.Event.AD_PAUSED,this._onAdPaused),d(e,this.player.Event.AD_CLICKED,this._onAdClicked),d(e,this.player.Event.AD_SKIPPED,this._onAdSkipped),d(e,this.player.Event.AD_COMPLETED,this._onAdCompleted),d(e,this.player.Event.AD_ERROR,this._onAdError),d(e,this.player.Event.ALL_ADS_COMPLETED,this._onAllAdsCompleted),d(e,this.player.Event.AD_BREAK_START,this._onAdBreakStart),d(e,this.player.Event.AD_BREAK_END,this._onAdBreakEnd),d(e,this.player.Event.AD_PROGRESS,this._onAdProgress),e);Object.keys(n).forEach((function(e){var i=n[e];t.eventManager.listen(t.player,e,(function(n){t._gPluginPromise&&t._gPluginPromise.then((function(){e!==t.player.Event.TIME_UPDATE&&t._log("Event:",e,n),"function"==typeof i&&i.call(t,n)}))}))}))}},{key:"_onError",value:function(e){var t=!1;e.payload&&e.payload.severity===v.Severity.CRITICAL&&(t=!0);var n=e.payload&&e.payload.code||null;t&&this._isPlaybackLifeCycleStarted?this._sendCommand("notifyEnd",this._getCurrentPosition(),{ns_st_er:n}):this._sendCommand("notifyError",this._getCurrentPosition(),{ns_st_er:n})}},{key:"_onAdLoaded",value:function(e){this._adCachedAdvertisementMetadataObject=e.payload}},{key:"_onAdBreakStart",value:function(e){this._isAd=!0,this._adNumber=0;var t=e.payload.adBreak.type;t===h.PRE||t===h.POST?this._adBreakNumber=1:this._adBreakNumber++}},{key:"_onAdStarted",value:function(){this._adCachedAdvertisementMetadataObject&&this._isAd&&(this._isAdPreroll=this.player.ads.getAdBreak().type===h.PRE,this._adNumber++,this._gPlugin.setAsset(this._getAdvertisementMetadataLabels(this._adCachedAdvertisementMetadataObject,this.player.config),!1,this._getContentMetadataObjects()),this._sendCommand("notifyPlay",0),this._isPlaybackLifeCycleStarted=!0)}},{key:"_onAdResumed",value:function(){this._sendCommand("notifyPlay"),this._isPlaybackLifeCycleStarted=!0}},{key:"_onAdPaused",value:function(){this._sendCommand("notifyPause"),this._isPlaybackLifeCycleStarted=!0}},{key:"_onAdClicked",value:function(){}},{key:"_onAdSkipped",value:function(){this._sendCommand("notifySkipAd"),this._isPlaybackLifeCycleStarted=!0}},{key:"_onAdCompleted",value:function(){if(this._adCachedAdvertisementMetadataObject.ad&&this._adCachedAdvertisementMetadataObject.ad.duration){var e=Math.floor(1e3*this._adCachedAdvertisementMetadataObject.ad.duration);this._sendCommand("notifyEnd",e)}else this._sendCommand("notifyEnd");this._lastKnownAdPosition=NaN,this._isPlaybackLifeCycleStarted=!1}},{key:"_onAdError",value:function(){}},{key:"_onAllAdsCompleted",value:function(){this._onAdBreakEnd()}},{key:"_onAdBreakEnd",value:function(){this._isAd&&(this._isAd=!1,this._isAdPreroll||this._contentPartNumber++,this._gPlugin.setAsset(this._getContentMetadataLabels(this.player.config),!1,this._getContentMetadataObjects()))}},{key:"_onAdProgress",value:function(e){this._lastKnownAdPosition=Math.floor(e.payload.adProgress.currentTime)}},{key:"_onPlayerStateChanged",value:function(e){var t=e.payload.oldState,n=e.payload.newState;t.type===this.player.State.BUFFERING&&(this._sendCommand("notifyBufferStop"),this._isPlaybackLifeCycleStarted=!0),n.type===this.player.State.BUFFERING&&(this._sendCommand("notifyBufferStart"),this._isPlaybackLifeCycleStarted=!0),n.type===this.player.State.PLAYING&&this._onPlaying()}},{key:"_onSeeking",value:function(){if(this._isLive){this._sendCommand("notifySeekStart");var e=Math.floor(1e3*this.player.duration),t=Math.floor(e-Math.floor(1e3*this.player.currentTime));this._gPlugin.setDvrWindowOffset(t),this._gPlugin.setDvrWindowLength(e)}else this._sendCommand("notifySeekStart",this._lastKnownPosition);this._isPlaybackLifeCycleStarted=!0}},{key:"_onPlaying",value:function(){this._sendCommand("notifyPlay"),this._isPlaybackLifeCycleStarted=!0}},{key:"_onEnded",value:function(){this._sendCommand("notifyEnd"),this._isPlaybackLifeCycleStarted=!1}},{key:"_onPause",value:function(){this._isAd||(this._isLive||Math.ceil(this.player.currentTime)<this.player.duration)&&(this._sendCommand("notifyPause"),this._isPlaybackLifeCycleStarted=!0)}},{key:"_onTimeUpdate",value:function(){if(this._isLive){var e=Math.floor(1e3*this.player.duration),t=Math.max(e-Math.floor(1e3*this.player.currentTime),0);return this._gPlugin.setDvrWindowOffset(t),void this._gPlugin.setDvrWindowLength(e)}this._lastKnownPosition=this._getCurrentPosition()}},{key:"_onRateChange",value:function(){var e=100*this.player.playbackRate;this._gPlugin.notifyChangePlaybackRate(e)}},{key:"_onVideoTrackChanged",value:function(e){if(e.payload&&e.payload.selectedVideoTrack){var t=e.payload.selectedVideoTrack._bandwidth;this.logger.debug("comScore notification: notifyChangeBitrate with",t),this._trackEventMonitor("notifyChangeBitrate with",t),this._gPlugin.notifyChangeBitrate(t)}}},{key:"_onAudioTrackChanged",value:function(e){if(e.payload&&e.payload.selectedAudioTrack){var t=e.payload.selectedAudioTrack._language;this.logger.debug("comScore notification: notifyChangeAudioTrack with",t),this._trackEventMonitor("notifyChangeAudioTrack with",t),this._gPlugin.notifyChangeAudioTrack(t)}}},{key:"_onTextTrackChanged",value:function(e){if(e.payload&&e.payload.selectedTextTrack){var t=e.payload.selectedTextTrack._language;this.logger.debug("comScore notification: notifyChangeSubtitleTrack with",t),this._trackEventMonitor("notifyChangeSubtitleTrack with",t),this._gPlugin.notifyChangeSubtitleTrack(t)}}},{key:"_onEnterFullscreen",value:function(){this._updateWindowState()}},{key:"_onExitFullScreen",value:function(){this._updateWindowState()}},{key:"_onVolumeChange",value:function(){this._updatePlayerVolume()}},{key:"_onSourceSelected",value:function(){this._isLive=this.player.isLive(),this._gPlugin.createPlaybackSession(),this._gPlugin.setAsset(this._getContentMetadataLabels(this.player.config),!1,this._getContentMetadataObjects()),this._isLive&&this._gPlugin.setDvrWindowLength(Math.floor(1e3*this.player.duration))}},{key:"_updateWindowState",value:function(){var e=this.player.isFullscreen()?"full":"norm";this.logger.debug("comScore notification: notifyChangeWindowState with:",e),this._trackEventMonitor("notifyChangeWindowState with:",e),this._gPlugin.notifyChangeWindowState(e)}},{key:"_updatePlayerVolume",value:function(){var e=this.player.muted?0:Math.floor(100*this.player.volume);this.logger.debug("comScore change notification: notifyChangeVolume with",e),this._trackEventMonitor("notifyChangeVolume with",e),this._gPlugin.notifyChangeVolume(e)}},{key:"_setInitialPlayerData",value:function(){this._updatePlayerVolume(),this._updateWindowState()}},{key:"_sendCommand",value:function(e,t,n){this.logger.debug("comScore notification:",e,"with position:",t,"with event labels:",n),this._trackEventMonitor(e,"with position:",null==t?"no-position":t,"with event labels:",n);try{this._gPlugin[e](t,n)}catch(t){this.logger.error("Error occur while trying to send:"+e+" to comscore",t)}}},{key:"destroy",value:function(){this.logger.debug("comScore plugin is being destroyed"),this.eventManager.destroy(),this._gPlugin&&(this._gPlugin.release(),this._gPlugin=null)}},{key:"reset",value:function(){this.logger.debug("comScore plugin is being reset"),this._gPlugin&&(this._gPlugin.release(),this._gPlugin=null),this._init()}},{key:"_getAdvertisementMetadataLabels",value:function(e,t){for(var n={},i=this._getContentMetadataLabels(t),s=this.player.isLive(),r=this.player.config.sources.type===_.AUDIO,a=0,o=["ns_st_ci","ns_st_pl","ns_st_pr","ns_st_ep"];a<o.length;a++){var u=o[a];u in i&&(n[u]=i[u])}n.ns_st_pn="1",n.ns_st_tp="1",e.ad&&e.ad.duration&&(n.ns_st_cl=Math.floor(1e3*e.ad.duration)),n.ns_st_an=this._adNumber+"",n.ns_st_bn=this._adBreakNumber+"",n.ns_st_cs="0x0",n.ns_st_ty=r?"audio":"video",s&&(n.ns_st_li="1");var c=r?"aa":"va",l=this.player.ads.getAdBreak().type;return l===h.PRE?(n.ns_st_ad="pre-roll",n.ns_st_ct=c+(s?"21":"11")):l===h.POST?(n.ns_st_ad="post-roll",n.ns_st_ct=c+(s?"21":"13")):l===h.MID?(n.ns_st_ad="mid-roll",n.ns_st_ct=c+(s?"21":"12")):n.ns_st_ad=1,e.ad&&(e.ad.id&&(n.ns_st_ami=e.ad.id),e.ad.title&&(n.ns_st_amt=e.ad.title),e.ad.system&&(n.ns_st_amt=e.ad.system)),n}},{key:"_getContentMetadataLabels",value:function(e){var t={};return this.player.isLive()&&(t.ns_st_li="1"),this.player.config.sources.type===_.AUDIO?(t.ns_st_ct="ac00",t.ns_st_ty="audio"):(t.ns_st_ct="vc00",t.ns_st_ty="video"),t.ns_st_pl=e.sources.metadata.name,t.ns_st_pr=e.sources.metadata.name,t.ns_st_ep=e.sources.metadata.name,t.ns_st_cl=Math.floor(1e3*e.sources.duration),t.ns_st_ci=e.sources.id,t.ns_st_pn=this._contentPartNumber+"",t.ns_st_tp="0",t.ns_st_cs="0x0",this.player.src&&(t.ns_st_cu=this.player.src),t}},{key:"_getContentMetadataObjects",value:function(){var e=[];return this._isAd?e.push({prefix:"",map:this._adCachedAdvertisementMetadataObject.ad}):e.push({prefix:"",map:this.player.config.sources.metadata}),e.push({prefix:"content",map:this.player.config.sources.metadata}),e.push({prefix:"content.clip",map:this.player.config.sources}),e.push({prefix:"content.clip.session",map:this.player.config.session}),e.push({prefix:"content.clip.playback",map:this.player.config.playback}),e}},{key:"_parsePluginConfig",value:function(e){return Object.assign({},e)}},{key:"_log",value:function(){var e=Array.from(arguments);e.unshift("comScore plugin:"),this.logger.debug.apply(this.logger,e)}},{key:"_trackEventMonitor",value:function(){if("function"==typeof window[this._trackEventMonitorCallbackName]){var e=Array.from(arguments);e.unshift("comScore"),window[this._trackEventMonitorCallbackName](e)}}}]),n}(i.BasePlugin));d(y,"PLUGIN_PLATFORM_NAME","kalturav3"),d(y,"PLUGIN_VERSION","2.2.0");var S="2.2.0",b="playkit-js-comscore";t.default=y;Object(i.registerPlugin)("comscore",y)}])}));
//# sourceMappingURL=playkit-comscore.js.map