!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("playkit-js")):"function"==typeof define&&define.amd?define("comscore",["playkit-js"],t):"object"==typeof exports?exports.comscore=t(require("playkit-js")):(e.KalturaPlayer=e.KalturaPlayer||{},e.KalturaPlayer.plugins=e.KalturaPlayer.plugins||{},e.KalturaPlayer.plugins.comscore=t(e.KalturaPlayer.core))}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAME=t.VERSION=void 0;var i=n(0),s=n(2),r=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=r.default,t.VERSION="2.1.4",t.NAME="playkit-js-comscore";(0,i.registerPlugin)("comscore",r.default)},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],i=!0,s=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),l=n(3),f=function(e){return e&&e.__esModule?e:{default:e}}(l),p=function(e){function t(e,n,i){s(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return a._isAd=!1,a._isLive=!1,a._trackEventMonitorCallbackName=i.trackEventMonitor,a._init(),a}return a(t,e),u(t,null,[{key:"isValid",value:function(){return!0}}]),u(t,[{key:"_init",value:function(){var e=this;this._gPlugin=null,this._lastKnownPosition=NaN,this._lastKnownAdPosition=NaN,this._contentPartNumber=1,this._isAd=!1,this._isLive=!1,this._adCachedAdvertisementMetadataObject=null,this._isAdPreroll=!1,this._gPluginPromise=null,this._isPlaybackLifeCycleStarted=!1,this._adNumber=0,this._adBreakNumber=0,this._gPluginPromise=c.Utils.Object.defer(),this.player.ready().then(function(){e.logger.debug("The comScore onReady event was triggered.");var n=e._parsePluginConfig(e.config);e._trackEventMonitor("Configured publisherId",n.publisherId),e._gPlugin=new f.default.StreamingAnalytics.Plugin(n,t.PLUGIN_PLATFORM_NAME,t.PLUGIN_VERSION,e.config.playerVersion,{position:e._getCurrentPosition.bind(e)}),e._setInitialPlayerData(),e._gPluginPromise.resolve()}),this._addBindings()}},{key:"_getCurrentPosition",value:function(){if(this._isAd)return this._lastKnownAdPosition;if(this._isLive)return NaN;var e=this.player.currentTime;return Math.floor(1e3*e)}},{key:"_addBindings",value:function(){var e,t=this,n=(e={},i(e,this.player.Event.SOURCE_SELECTED,this._onSourceSelected),i(e,this.player.Event.ERROR,this._onError),i(e,this.player.Event.SEEKING,this._onSeeking),i(e,this.player.Event.PAUSE,this._onPause),i(e,this.player.Event.ENDED,this._onEnded),i(e,this.player.Event.TIME_UPDATE,this._onTimeUpdate),i(e,this.player.Event.RATE_CHANGE,this._onRateChange),i(e,this.player.Event.PLAYER_STATE_CHANGED,this._onPlayerStateChanged),i(e,this.player.Event.VIDEO_TRACK_CHANGED,this._onVideoTrackChanged),i(e,this.player.Event.AUDIO_TRACK_CHANGED,this._onAudioTrackChanged),i(e,this.player.Event.TEXT_TRACK_CHANGED,this._onTextTrackChanged),i(e,this.player.Event.ENTER_FULLSCREEN,this._onEnterFullscreen),i(e,this.player.Event.EXIT_FULLSCREEN,this._onExitFullScreen),i(e,this.player.Event.VOLUME_CHANGE,this._onVolumeChange),i(e,this.player.Event.AD_LOADED,this._onAdLoaded),i(e,this.player.Event.AD_STARTED,this._onAdStarted),i(e,this.player.Event.AD_RESUMED,this._onAdResumed),i(e,this.player.Event.AD_PAUSED,this._onAdPaused),i(e,this.player.Event.AD_CLICKED,this._onAdClicked),i(e,this.player.Event.AD_SKIPPED,this._onAdSkipped),i(e,this.player.Event.AD_COMPLETED,this._onAdCompleted),i(e,this.player.Event.AD_ERROR,this._onAdError),i(e,this.player.Event.ALL_ADS_COMPLETED,this._onAllAdsCompleted),i(e,this.player.Event.AD_BREAK_START,this._onAdBreakStart),i(e,this.player.Event.AD_BREAK_END,this._onAdBreakEnd),i(e,this.player.Event.AD_PROGRESS,this._onAdProgress),e),s=!0,r=!1,a=void 0;try{for(var u,c=Object.entries(n)[Symbol.iterator]();!(s=(u=c.next()).done);s=!0)!function(){var e=o(u.value,2),n=e[0],i=e[1];t.eventManager.listen(t.player,n,function(e){t._gPluginPromise.then(function(){n!==t.player.Event.TIME_UPDATE&&t._log("Event:",n,e),i.call(t,e)})})}()}catch(e){r=!0,a=e}finally{try{!s&&c.return&&c.return()}finally{if(r)throw a}}}},{key:"_onError",value:function(e){var t=!1;e.payload&&2==e.payload.severity&&(t=!0);var n=e.payload&&e.payload.code||null;t&&this._isPlaybackLifeCycleStarted?this._sendCommand("notifyEnd",this._getCurrentPosition(),{ns_st_er:n}):this._sendCommand("notifyError",this._getCurrentPosition(),{ns_st_er:n})}},{key:"_onAdLoaded",value:function(e){this._adCachedAdvertisementMetadataObject=e.payload}},{key:"_onAdBreakStart",value:function(){this._isAd=!0,this._adNumber=0,"preroll"==this._adCachedAdvertisementMetadataObject.adType||"postroll"==this._adCachedAdvertisementMetadataObject.adType?this._adBreakNumber=1:this._adBreakNumber++}},{key:"_onAdStarted",value:function(){this._adCachedAdvertisementMetadataObject&&this._isAd&&(this._isAdPreroll="preroll"==this._adCachedAdvertisementMetadataObject.adType,this._adNumber++,this._gPlugin.setAsset(this._getAdvertisementMetadataLabels(this._adCachedAdvertisementMetadataObject,this.player.config),!1,this._getContentMetadataObjects()),this._sendCommand("notifyPlay",0),this._isPlaybackLifeCycleStarted=!0)}},{key:"_onAdResumed",value:function(){this._sendCommand("notifyPlay"),this._isPlaybackLifeCycleStarted=!0}},{key:"_onAdPaused",value:function(){this._sendCommand("notifyPause"),this._isPlaybackLifeCycleStarted=!0}},{key:"_onAdClicked",value:function(){}},{key:"_onAdSkipped",value:function(){this._sendCommand("notifySkipAd"),this._isPlaybackLifeCycleStarted=!0}},{key:"_onAdCompleted",value:function(){if(this._adCachedAdvertisementMetadataObject.extraAdData&&this._adCachedAdvertisementMetadataObject.extraAdData.duration){var e=Math.floor(1e3*this._adCachedAdvertisementMetadataObject.extraAdData.duration);this._sendCommand("notifyEnd",e)}else this._sendCommand("notifyEnd");this._lastKnownAdPosition=NaN,this._isPlaybackLifeCycleStarted=!1}},{key:"_onAdError",value:function(){}},{key:"_onAllAdsCompleted",value:function(){this._onAdBreakEnd()}},{key:"_onAdBreakEnd",value:function(){this._isAd&&(this._isAd=!1,this._isAdPreroll||this._contentPartNumber++,this._gPlugin.setAsset(this._getContentMetadataLabels(this.player.config),!1,this._getContentMetadataObjects()))}},{key:"_onAdProgress",value:function(e){this._lastKnownAdPosition=Math.floor(e.payload.adProgress.currentTime)}},{key:"_onPlayerStateChanged",value:function(e){var t=e.payload.oldState,n=e.payload.newState;t.type===this.player.State.BUFFERING&&(this._sendCommand("notifyBufferStop"),this._isPlaybackLifeCycleStarted=!0),n.type===this.player.State.BUFFERING&&(this._sendCommand("notifyBufferStart"),this._isPlaybackLifeCycleStarted=!0),n.type===this.player.State.PLAYING&&this._onPlaying()}},{key:"_onSeeking",value:function(){if(this._isLive){this._sendCommand("notifySeekStart");var e=Math.floor(1e3*this.player.duration),t=Math.floor(e-Math.floor(1e3*this.player.currentTime),0);this._gPlugin.setDvrWindowOffset(t),this._gPlugin.setDvrWindowLength(e)}else this._sendCommand("notifySeekStart",this._lastKnownPosition);this._isPlaybackLifeCycleStarted=!0}},{key:"_onPlaying",value:function(){this._sendCommand("notifyPlay"),this._isPlaybackLifeCycleStarted=!0}},{key:"_onEnded",value:function(){this._sendCommand("notifyEnd"),this._isPlaybackLifeCycleStarted=!1}},{key:"_onPause",value:function(){this._isAd||(this._isLive||Math.ceil(this.player.currentTime)<this.player.duration)&&(this._sendCommand("notifyPause"),this._isPlaybackLifeCycleStarted=!0)}},{key:"_onTimeUpdate",value:function(){if(this._isLive){var e=Math.floor(1e3*this.player.duration),t=Math.max(e-Math.floor(1e3*this.player.currentTime),0);return this._gPlugin.setDvrWindowOffset(t),void this._gPlugin.setDvrWindowLength(e)}this._lastKnownPosition=this._getCurrentPosition()}},{key:"_onRateChange",value:function(){var e=100*this.player.playbackRate;this._gPlugin.notifyChangePlaybackRate(e)}},{key:"_onVideoTrackChanged",value:function(e){if(e.payload&&e.payload.selectedVideoTrack){var t=e.payload.selectedVideoTrack._bandwidth;this.logger.debug("comScore notification: notifyChangeBitrate with",t),this._trackEventMonitor("notifyChangeBitrate with",t),this._gPlugin.notifyChangeBitrate(t)}}},{key:"_onAudioTrackChanged",value:function(e){if(e.payload&&e.payload.selectedAudioTrack){var t=e.payload.selectedAudioTrack._language;this.logger.debug("comScore notification: notifyChangeAudioTrack with",t),this._trackEventMonitor("notifyChangeAudioTrack with",t),this._gPlugin.notifyChangeAudioTrack(t)}}},{key:"_onTextTrackChanged",value:function(e){if(e.payload&&e.payload.selectedTextTrack){var t=e.payload.selectedTextTrack._language;this.logger.debug("comScore notification: notifyChangeSubtitleTrack with",t),this._trackEventMonitor("notifyChangeSubtitleTrack with",t),this._gPlugin.notifyChangeSubtitleTrack(t)}}},{key:"_onEnterFullscreen",value:function(){this._updateWindowState()}},{key:"_onExitFullScreen",value:function(){this._updateWindowState()}},{key:"_onVolumeChange",value:function(){this._updatePlayerVolume()}},{key:"_onSourceSelected",value:function(){this._isLive=this.player.isLive(),this._gPlugin.createPlaybackSession(),this._gPlugin.setAsset(this._getContentMetadataLabels(this.player.config),!1,this._getContentMetadataObjects()),this._isLive&&this._gPlugin.setDvrWindowLength(Math.floor(1e3*this.player.duration))}},{key:"_updateWindowState",value:function(){var e=this.player.isFullscreen()?"full":"norm";this.logger.debug("comScore notification: notifyChangeWindowState with:",e),this._trackEventMonitor("notifyChangeWindowState with:",e),this._gPlugin.notifyChangeWindowState(e)}},{key:"_updatePlayerVolume",value:function(){var e=this.player.muted?0:Math.floor(100*this.player.volume);this.logger.debug("comScore change notification: notifyChangeVolume with",e),this._trackEventMonitor("notifyChangeVolume with",e),this._gPlugin.notifyChangeVolume(e)}},{key:"_setInitialPlayerData",value:function(){this._updatePlayerVolume(),this._updateWindowState()}},{key:"_sendCommand",value:function(e,t,n){this.logger.debug("comScore notification:",e,"with position:",t,"with event labels:",n),this._trackEventMonitor(e,"with position:",null==t?"no-position":t,"with event labels:",n);try{this._gPlugin[e](t,n)}catch(t){this.logger.error("Error occur while trying to send:"+e+" to comscore",t)}}},{key:"destroy",value:function(){this.logger.debug("comScore plugin is being destroyed"),this.eventManager.destroy(),this._gPlugin&&(this._gPlugin.release(),this._gPlugin=null)}},{key:"reset",value:function(){this.logger.debug("comScore plugin is being reset"),this._gPlugin&&(this._gPlugin.release(),this._gPlugin=null),this._init()}},{key:"_getAdvertisementMetadataLabels",value:function(e,t){var n={},i=this._getContentMetadataLabels(t),s=this.player.isLive(),r=this.player.config.sources.type==c.MediaType.AUDIO,a=["ns_st_ci","ns_st_pl","ns_st_pr","ns_st_ep"],o=!0,u=!1,l=void 0;try{for(var f,p=a[Symbol.iterator]();!(o=(f=p.next()).done);o=!0){var g=f.value;g in i&&(n[g]=i[g])}}catch(e){u=!0,l=e}finally{try{!o&&p.return&&p.return()}finally{if(u)throw l}}n.ns_st_pn="1",n.ns_st_tp="1",e.extraAdData&&e.extraAdData.duration&&(n.ns_st_cl=Math.floor(1e3*e.extraAdData.duration)),n.ns_st_an=this._adNumber+"",n.ns_st_bn=this._adBreakNumber+"",n.ns_st_cs="0x0",n.ns_st_ty=r?"audio":"video",s&&(n.ns_st_li="1");var d=r?"aa":"va";return"preroll"==e.adType?(n.ns_st_ad="pre-roll",n.ns_st_ct=d+(s?"21":"11")):"postroll"==e.adType?(n.ns_st_ad="post-roll",n.ns_st_ct=d+(s?"21":"13")):"midroll"==e.adType?(n.ns_st_ad="mid-roll",n.ns_st_ct=d+(s?"21":"12")):n.ns_st_ad=1,e.extraAdData&&e.extraAdData.adId&&(n.ns_st_ami=e.extraAdData.adId+""),e.extraAdData&&e.extraAdData.adSystem&&(n.ns_st_ams=e.extraAdData.adSystem.toLowerCase()),e.extraAdData&&e.extraAdData.adTitle&&(n.ns_st_amt=e.extraAdData.adTitle),n}},{key:"_getContentMetadataLabels",value:function(e){var t={};return this.player.isLive()&&(t.ns_st_li="1"),this.player.config.sources.type==c.MediaType.AUDIO?(t.ns_st_ct="ac00",t.ns_st_ty="audio"):(t.ns_st_ct="vc00",t.ns_st_ty="video"),t.ns_st_pl=e.sources.metadata.name,t.ns_st_pr=e.sources.metadata.name,t.ns_st_ep=e.sources.metadata.name,t.ns_st_cl=Math.floor(1e3*e.sources.duration),t.ns_st_ci=e.sources.id,t.ns_st_pn=this._contentPartNumber+"",t.ns_st_tp="0",t.ns_st_cs="0x0",this.player.src&&(t.ns_st_cu=this.player.src),t}},{key:"_getContentMetadataObjects",value:function(){var e=[];return this._isAd?e.push({prefix:"",map:this._adCachedAdvertisementMetadataObject.extraAdData}):e.push({prefix:"",map:this.player.config.sources.metadata}),e.push({prefix:"content",map:this.player.config.sources.metadata}),e.push({prefix:"content.clip",map:this.player.config.sources}),e.push({prefix:"content.clip.session",map:this.player.config.session}),e.push({prefix:"content.clip.playback",map:this.player.config.playback}),e}},{key:"_parsePluginConfig",value:function(e){return Object.assign({},e)}},{key:"_log",value:function(){var e=Array.from(arguments);e.unshift("comScore plugin:"),this.logger.debug.apply(this.logger,e)}},{key:"_trackEventMonitor",value:function(){if("function"==typeof window[this._trackEventMonitorCallbackName]){var e=Array.from(arguments);e.unshift("comScore"),window[this._trackEventMonitorCallbackName](e)}}}]),t}(c.BasePlugin);p.PLUGIN_PLATFORM_NAME="kalturav3",p.PLUGIN_VERSION="2.1.4",t.default=p},function(e,t,n){(function(t,n){var i,i;!function(t){e.exports=t()}(function(){return function e(t,n,s){function r(o,u){if(!n[o]){if(!t[o]){var c="function"==typeof i&&i;if(!u&&c)return i(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){return r(t[o][1][e]||e)},f,f.exports,e,t,n,s)}return n[o].exports}for(var a="function"==typeof i&&i,o=0;o<s.length;o++)r(s[o]);return r}({1:[function(e,t,n){var i=e(24),s=e(26),r=e(36);t.exports=function(e){function t(t){c=t,e.getStorage().set("plannedFlushTime",t+"")}function n(){e.flush(),t(-1),o.scheduleFlush()}function a(){l&&(r.clearTimeout(l),l=null)}var o=this,u=!1,c=-1,l=null;i.extend(o,{start:function(){u=!0,!l&&0<e.getCacheFlushingInterval()&&null!=e.getCustomerC2()&&(e.getStorage().has("plannedFlushTime")&&(c=s.parseLong(e.getStorage().get("plannedFlushTime"),-1)),o.scheduleFlush())},stop:function(){u=!1,a()},update:function(){0<e.getCacheFlushingInterval()&&null!=e.getCustomerC2()?!l&&u?(t(-1),o.start()):null!=l&&(t(0<e.getCacheFlushingInterval()?+new Date+1e3*e.getCacheFlushingInterval():-1),l&&(r.clearTimeout(l),o.scheduleFlush())):(t(-1),a())},scheduleFlush:function(){c<0&&t(+new Date+1e3*e.getCacheFlushingInterval()),l=r.setTimeout(n,c-+new Date)}})}},{24:24,26:26,36:36}],2:[function(e,t,n){var i=e(5),s=e(8).TransmissionMode,r=e(8).EventType,a=new i,o={TransmissionMode:s,getCore:function(){return a},setAppContext:function(e){a.setAppContext(e)},setEnabled:function(e){a.setEnabled(e)},getEnabled:function(){return a.getEnabled()},onUxActive:function(){a.onUxActive()},onUxInactive:function(){a.onUxInactive()},onEnterForeground:function(){a.onEnterForeground()},onExitForeground:function(){a.onExitForeground()},onUserInteraction:function(){a.onUserInteraction()},update:function(){a.update()},enableAutoUpdate:function(e,t){a.enableAutoUpdate(e,void 0===t||t)},disableAutoUpdate:function(){a.disableAutoUpdate()},isAutoUpdateEnabled:function(){return a.isAutoUpdateEnabled()},start:function(e){a.notify(r.START,e||{})},view:function(e){a.notify(r.VIEW,e||{})},hidden:function(e){a.notify(r.HIDDEN,e||{})},close:function(e){a.notify(r.CLOSE,e)},aggregate:function(e){a.notify(r.AGGREGATE,e)},getPixelURL:function(){return a.getPixelURL()},setPixelURL:function(e){a.setPixelURL(e)},getCustomerC2:function(){return a.getCustomerC2()},setCustomerC2:function(e){a.setCustomerC2(e)},getAppName:function(){return a.getAppName()},setAppName:function(e){a.setAppName(e)},getAppVersion:function(){return a.getAppVersion()},setAppVersion:function(e){a.setAppVersion(e)},getGenesis:function(){return a.getGenesis()},getVisitorID:function(){return a.getVisitorId()},setVisitorId:function(e,t){a.setVisitorId(e,t)},getCrossPublisherId:function(){return a.getCrossPublisherId()},getOfflineTransmissionMode:function(){return a.getOfflineTransmissionMode()},allowOfflineTransmission:function(e){a.allowOfflineTransmission(e)},getLiveTransmissionMode:function(){return a.getLiveTransmissionMode()},allowLiveTransmission:function(e){a.allowLiveTransmission(e)},getPublisherSecret:function(){return a.getSalt()},setPublisherSecret:function(e){a.setSalt(e)},flushCache:function(){a.flush()},clearOfflineCache:function(){a.getOfflineCache().clear()},setLabel:function(e,t){a.setLabel(e,t)},getLabel:function(e){return a.getLabel(e)},setLabels:function(e){a.setLabels(e)},getLabels:function(){return a.getLabels()},setAutoStartLabels:function(e){a.setAutoStartLabels(e)},getAutoStartLabel:function(e){return a.getAutoStartLabel(e)},getAutoStartLabels:function(){return a.getAutoStartLabels()},setAutoStartLabel:function(e,t){a.setAutoStartLabel(e,t)},isKeepAliveEnabled:function(){return a.getKeepAlive().isEnabled()},setKeepAliveEnabled:function(e){a.setKeepAliveEnabled(!!e)},setCacheMaxMeasurements:function(e){a.setCacheMaxMeasurements(e)},getCacheMaxMeasurements:function(){return a.getCacheMaxMeasurements()},setCacheMaxBatchFiles:function(e){a.setCacheMaxBatchFiles(e)},getCacheMaxBatchFiles:function(){return a.getCacheMaxBatchFiles()},setCacheMaxFlushesInARow:function(e){a.setCacheMaxFlushesInARow(e)},getCacheMaxFlushesInARow:function(){return a.getCacheMaxFlushesInARow()},setCacheMinutesToRetry:function(e){a.setCacheMinutesToRetry(e)},getCacheMinutesToRetry:function(){return a.getCacheMinutesToRetry()},setCacheMeasurementExpiry:function(e){a.setCacheMeasurementExpiry(e)},getCacheMeasurementExpiry:function(){return a.getCacheMeasurementExpiry()},getCacheFlushingInterval:function(){return a.getCacheFlushingInterval()},setCacheFlushingInterval:function(e){a.setCacheFlushingInterval(e)},setSecure:function(e){a.setSecure(e)},isSecure:function(){return a.isSecure()},getMeasurementLabelOrder:function(){return a.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(e){a.setMeasurementLabelOrder(e)},setAutoStartEnabled:function(e){a.setAutoStartEnabled(e)},isAutoStartEnabled:function(){return a.isAutoStartEnabled()},getVersion:function(){return a.getVersion()},getPlatformAPI:function(){return a.getPlatformAPI()},setPlatformAPI:function(e){a.setPlatformAPI(e)},setOfflineURL:function(e){a.setOfflineURL(e)},clearInternalData:function(){a.clearInternalData()},cacheHttpRedirects:function(){a.cacheHttpRedirects()}};t.exports=o},{5:5,8:8}],3:[function(e,t,n){var i=e(24),s=e(36),r=e(8).TransmissionMode;t.exports=function(e){function t(){e.flush(),g=-1,f=null}function n(){f&&(s.clearTimeout(f),f=null)}function a(e){var i=+new Date;l?(n(),(g<i||g<0||!e)&&(g=i+3e4),f=s.setTimeout(t,g-i)):g<0&&(g=i+3e4)}function o(){var t=s.isConnectionAvailable();t!=u&&((u=t)?e.getOfflineTransmissionMode()!=r.NEVER&&e.getOfflineTransmissionMode()!=r.DISABLED&&a(!1):(n(),g=-1)),l&&(p=s.setTimeout(o,c))}var u,c=1e3,l=!1,f=null,p=null,g=-1;i.extend(this,{start:function(){l=!0,u&&0<g&&a(!0),p=s.setTimeout(o,c)},stop:function(){s.clearTimeout(p),p=null,l=!1,n()}})}},{24:24,36:36,8:8}],4:[function(e,t,n){t.exports={PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,PREVIOUS_VERSION_KEY:"previousVersion",LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_bv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_ap_ie","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_atpc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_ap","ns_st_dap","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ldw","ns_st_ldo","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_ap_env","ns_ap_ais","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_tpr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_tep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_amg","ns_st_ami","ns_st_amp","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]}},{}],5:[function(e,t,n){var i=e(8).ApplicationState,s=e(8).SessionState,r=e(4),a=e(26),o=e(17),u=e(8).EventType,c=e(36),l=e(21),f=e(24),p=e(22),g=e(25),d=e(6),_=e(11),m=e(7),h=e(9),v=e(12).OfflineMeasurementsCache,y=e(1),S=e(3),b="undefined",P=o.UNKNOWN_VALUE,E="http://b.scorecardresearch.com/p2?",A="https://sb.scorecardresearch.com/p2?",T="exitCode",I="lastApplicationAccumulationTimestamp",k="lastSessionAccumulationTimestamp",C="lastApplicationSessionTimestamp",L="lastUserSessionTimestamp",w="lastActiveUserSessionTimestamp",N="foregroundTransitionsCount",D="accumulatedForegroundTime",O="accumulatedBackgroundTime",x="accumulatedInactiveTime",R="totalForegroundTime",B="totalBackgroundTime",U="totalInactiveTime",M="accumulatedApplicationSessionTime",F="accumulatedActiveUserSessionTime",G="accumulatedUserSessionTime",V="activeUserSessionCount",K="userSessionCount",W="lastUserInteractionTimestamp",j="userInteractionCount",Y="applicationSessionCountKey",H="genesis",q="previousGenesis",X="installId",z="firstInstallId",J="currentVersion",Z="runs",Q="coldStartCount",$="crossPublisherIdHashed",ee="crossPublisherId";t.exports=function(){function e(){ut.initializeStorage(),pe=new m(ut),le=new h(ut),ut.initializeOfflineCache(),ut.initializeCacheFlusher(),ut.initializeConnectivityChangeReceiver(),me=new _(ut),de=new d,function(){Ue=a.parseLong(ce.get(I),-1),ze=a.parseLong(ce.get(k),-1),je=a.parseLong(ce.get(C),-1),Ye=a.parseLong(ce.get(L),-1),He=a.parseLong(ce.get(w),-1),Ce=a.parseInteger(ce.get(N)),Oe=a.parseLong(ce.get(D)),De=a.parseLong(ce.get(O)),xe=a.parseLong(ce.get(x)),Le=a.parseLong(ce.get(R)),we=a.parseLong(ce.get(B)),Ne=a.parseLong(ce.get(U)),Me=a.parseLong(ce.get(M)),Ge=a.parseLong(ce.get(F)),Fe=a.parseLong(ce.get(G)),We=a.parseInteger(ce.get(V),-1),Ke=a.parseInteger(ce.get(K),-1),Xe=a.parseLong(ce.get(W),-1),qe=a.parseInteger(ce.get(j),0),Ve=a.parseInteger(ce.get(Y),0),it=ce.get(T)?parseInt(ce.get(T)):0,Ee=c.getAppVersion(),Be=a.parseLong(ce.get(q),0),(Re=a.parseLong(ce.get(H),-1))<0?(Re=+new Date,Be=0,je=Re,Ve++):(o()||(Me+=+new Date-ze,ce.set(M,Me+"")),je=Re),(Pe=a.parseLong(ce.get(z),-1))<0?(be=Pe=Re,Ee&&Ee!=P&&ce.set(J,Ee+""),ce.set(z,Pe+""),ce.set(X,be+"")):ut.setAppVersion(Ee),ce.set(H,Re+""),ce.set(q,Be+""),ut.setExitCode(Re);var e=+new Date;if(0<=Ue){var t=e-Ue;xe+=t,ce.set(x,xe+""),Ne+=t,ce.set(U,Ne+"")}ze=Ue=e,ce.set(I,Ue+""),ce.set(k,ze+""),ce.set(C,je+""),ce.has(Z)||ce.set(Z,"0"),ve=a.parseInteger(ce.get(Z)),Se=a.parseInteger(ce.get(Q))}()}function t(e){return ce.has(e)?ce.get(e)+"":null}function n(e){if(at)switch(e){case s.ACTIVE_USER:3e5<=(n=+new Date)-He&&We++,He=n,ut.scheduleUserInteractionTask();case s.USER:3e5<=(t=+new Date)-Ye&&Ke++,Ye=t;case s.APPLICATION:o();break;case s.INACTIVE:}var t,n}function o(){var e=+new Date,t=!1;return 18e5<e-je&&(Be=Re,Re=e,Ve++,t=!0),je=e,t}function te(e){if(at){e=typeof e===b||e;var t=+new Date,n=t-Ue;switch(pt){case i.FOREGROUND:Oe+=n,Le+=n;break;case i.BACKGROUND_UX_ACTIVE:De+=n,we+=n;break;case i.INACTIVE:xe+=n,Ne+=n}Ue=t,e&&(ce.set(I,Ue+""),ce.set(N,Ce+""),ce.set(D,Oe+""),ce.set(O,De+""),ce.set(x,xe+""),ce.set(R,Le+""),ce.set(B,we+""),ce.set(U,Ne+""))}}function ne(e){if(at){e=typeof e===b||e;var t=+new Date,n=t-ze;switch(gt){case s.ACTIVE_USER:Ge+=n,He=t;case s.USER:Fe+=n,Ye=t;case s.APPLICATION:Me+=n,je=t;break;case s.INACTIVE:}ze=t,e&&(ce.set(k,ze+""),ce.set(C,je+""),ce.set(L,Ye+""),ce.set(w,He+""),ce.set(M,Me+""),ce.set(F,Ge+""),ce.set(G,Fe+""),ce.set(V,We+""),ce.set(K,Ke+""),ce.set(W,Xe+""),ce.set(j,qe+""),ce.set(q,Be+""),ce.set(H,Re+""),ce.set(Y,Ve+""))}}function ie(){if(at){var e,t,r=+new Date;e=0<Ie?i.FOREGROUND:0<ke?i.BACKGROUND_UX_ACTIVE:i.INACTIVE,t=r-Xe<3e5?s.ACTIVE_USER:0<ke?s.USER:0<Ie?s.APPLICATION:s.INACTIVE;var a,l=pt,f=gt;if(e!=l||t!=f){var p=!1;l!=e&&(function(e){if(at)switch(e){case i.INACTIVE:pe.dispatchToCache(!1),le.checkDelayedKeepAlive(),le.restart(),ge.start(),fe.start();break;case i.BACKGROUND_UX_ACTIVE:ae();break;case i.FOREGROUND:ut.setCurrentActivityName(null),ae()}}(pt),function(e){if(at)switch(e){case i.INACTIVE:ge.stop(),le.pause(),fe.stop(),ae(),pe.dispatchToCache(!0);break;case i.BACKGROUND_UX_ACTIVE:ct||re();break;case i.FOREGROUND:re(),Ce++}}(e),te(),pt=e,p=!0),f!=t&&(function(e){if(at){var t=+new Date;switch(e){case s.ACTIVE_USER:null!=Je&&(c.clearTimeout(Je),Je=null),He=t;case s.USER:Ye=t;case s.APPLICATION:je=t;break;case s.INACTIVE:o()||(Me+=t-ze)}}}(gt),n(t),ne(),gt=t),p&&(a=pt,at&&a!=i.INACTIVE&&ut.isAutoStartEnabled()&&!lt&&ut.notify(u.START,rt))}}}function se(e,t){at&&(l.exists(e)?(t=l.exists(t)?"-cs"+t:"",Qe=e+t):null==Qe&&vt&&(Qe=p(c.getVisitorId()+ut.getSalt()),"function"==typeof c.getVisitorIdSuffix&&null!=c.getVisitorIdSuffix()&&(Qe=Qe+"-cs"+c.getVisitorIdSuffix())),ce.set("vid",Qe+""))}function re(){if(at){ae();var e=function(){ut.update(),null!=_e&&c.setTimeout(e,he)};_e=c.setTimeout(e,he)}}function ae(){at&&null!=_e&&(c.clearTimeout(he),_e=null)}function oe(){return!vt||null==tt||0===tt.length||null==Ze||0===Ze.length}var ue,ce,le,fe,pe,ge,de,_e,me,he,ve,ye,Se,be,Pe,Ee,Ae,Te,Ie,ke,Ce,Le,we,Ne,De,Oe,xe,Re,Be,Ue,Me,Fe,Ge,Ve,Ke,We,je,Ye,He,qe,Xe,ze,Je,Ze,Qe,$e,et,tt,nt,it,st,rt,at,ot,ut=this,ct=!0,lt=!1,ft=!0,pt=i.INACTIVE,gt=s.INACTIVE,dt=!1,_t=!1,mt=!1,ht=!0,vt=!1,yt=0;f.extend(ut,{isProperlyInitialized:function(){return!oe()},reset:function(){at&&(de.reset(),pt=i.INACTIVE,gt=s.INACTIVE,lt=!1,Ae=Ee=null,it=qe=Be=Fe=Ge=Me=xe=Oe=De=Ne=we=Le=ke=Ie=Se=ve=0,_t=dt=!(Pe=be=He=Ye=je=ze=Ue=Xe=Ke=We=Re=be=Pe=ye=-1),ut.disableAutoUpdate(),null!=Je&&(c.clearTimeout(Je),Je=null),null!=le&&le.cancel(),null!=fe&&fe.stop(),null!=pe&&(pe.clean(),pe=new m(ut)))},initializeStorage:function(e){ce=e||new c.Storage},initializeOfflineCache:function(e){ue=e||new v(ut)},initializeCacheFlusher:function(e){fe=e||new y(ut)},initializeConnectivityChangeReceiver:function(e){ge=new S(ut)},loadInitialSettings:function(){var e=t("AppName");null!=e&&ut.setAppName(e);var n=t("AppVersion");null!=n&&ut.setAppVersion(n)},restoreVisitorId:function(){at&&ce.has("vid")&&(Qe=ce.get("vid"))},incrementRunsCount:function(){at&&(ve++,ce.set(Z,ve+""))},handleColdStart:function(){return!lt&&(lt=!0,Se++,ce.set(Q,Se+""),ye=+new Date,!0)},scheduleUserInteractionTask:function(){at&&(null!=Je&&(c.clearTimeout(Je),Je=null),Je=c.setTimeout(function(){null!=Je&&(c.clearTimeout(Je),Je=null),ie()},3e5))},getOfflineCache:function(){return ue},getConnectivityReceiver:function(){return ge},getStorage:function(){return ce},getQueue:function(){return pe},getKeepAlive:function(){return le},getCacheFlusher:function(){return fe},getDispatchProperties:function(){return de},onUxActive:function(){at&&(oe()||(Ke<0&&(Ke=0),ke++,ie()))},onUxInactive:function(){at&&(oe()||0<ke&&(ke--,ie()))},onEnterForeground:function(){at&&(oe()||(Ie++,ie()))},onExitForeground:function(){at&&(oe()||0<Ie&&(Ie--,ie()))},onUserInteraction:function(){at&&(oe()||(Ke<0&&(Ke=0),We<0&&(We=0),Xe=+new Date,qe++,gt!=s.ACTIVE_USER?ie():ut.scheduleUserInteractionTask()))},getApplicationState:function(){return pt},getSessionState:function(){return gt},getRunsCount:function(){return ve},getInstallId:function(){return be},getFirstInstallId:function(){return Pe},getColdStartId:function(){return ye},getColdStartCount:function(){return Se},getPreviousVersion:function(){return Ae},setPreviousVersion:function(e){Ae=e},getForegroundTransitionsCountDelta:function(e){var t=Ce;return(e=typeof e===b||e)&&(Ce=0,ce.set(N,Ce+"")),t},getForegroundTotalTime:function(e){var t=Le;return(e=typeof e===b||e)&&(Le=0,ce.set(R,Le+"")),t},getForegroundTimeDelta:function(e){var t=Oe;return(e=typeof e===b||e)&&(Oe=0,ce.set(D,Oe+"")),t},getBackgroundTotalTime:function(e){var t=we;return(e=typeof e===b||e)&&(we=0,ce.set(B,we+"")),t},getBackgroundTimeDelta:function(e){var t=De;return(e=typeof e===b||e)&&(De=0,ce.set(O,De+"")),t},getInactiveTotalTime:function(e){var t=Ne;return(e=typeof e===b||e)&&(Ne=0,ce.set(U,Ne+"")),t},getInactiveTimeDelta:function(e){var t=xe;return(e=typeof e===b||e)&&(xe=0,ce.set(x,xe+"")),t},getApplicationSessionTimeDelta:function(e){var t=Me;return(e=typeof e===b||e)&&(Me=0,ce.set(M,Me+"")),t},getActiveUserSessionTimeDelta:function(e){var t=Ge;return(e=typeof e===b||e)&&(Ge=0,ce.set(F,Ge+"")),t},getUserSessionTimeDelta:function(e){var t=Fe;return(e=typeof e===b||e)&&(Fe=0,ce.set(G,Fe+"")),t},getAutoUpdateInterval:function(){return he},getApplicationSessionCountDelta:function(e){var t=Ve;return(e=typeof e===b||e)&&(Ve=0,ce.set(Y,Ve+"")),t},getActiveUserSessionCountDelta:function(e){e=typeof e===b||e;var t=-1;return 0<=We&&(t=We,e&&(We=0,ce.set(V,We+""))),t},getUserSessionCountDelta:function(e){e=typeof e===b||e;var t=-1;return 0<=Ke&&(t=Ke,e&&(Ke=0,ce.set(K,Ke+""))),t},getUserInteractionCount:function(e){var t=qe;return(e=typeof e===b||e)&&(qe=0,ce.set(j,qe+"")),t},setAppContext:function(){vt||(c.autoDetect(),e(),ut.loadInitialSettings(),ut.restoreVisitorId(),vt=!0)},setEnabled:function(e){at&&null!=e&&!e&&(at=!1,fe.stop(),ge.stop(),le.pause())},getEnabled:function(){return at},getAppContext:function(){return{}},getCurrentActivityName:function(){return Te},setCurrentActivityName:function(e){Te=e},setPixelURL:function(e){if(at){if(null==e||0===e.length)return null;dt=!0;var t=e.indexOf("?");if(0<=t){if(t<e.length-1){for(var n=e.substring(t+1).split("&"),i=0,s=n.length;i<s;i++){var a=n[i].split("=");2==a.length?ut.setLabel(a[0],a[1]):1==a.length&&ut.setLabel(r.PAGE_NAME_LABEL,a[0])}e=e.substring(0,t+1)}}else e+="?";return Ze=e}},setKeepAliveEnabled:function(e){at&&le.setEnable(e)},getPixelURL:function(){return Ze},getCrossPublisherId:function(){return $e},isCrossPublisherIdChanged:function(){return c.isCrossPublisherIdChanged()||mt},getVisitorId:function(){return null==Qe&&se(),Qe},setVisitorId:se,generateCrossPublisherId:function(){var e=(c.getCrossPublisherId()||"null").split(" "),t=e[0]&&"null"!=e[0]?e[0]:null,n="true"==e[1];if(null!=t){$e||(et=ce.get($),$e=ce.get(ee));var i=null;$e?"none"==t&&"none"==$e||!ht&&"none"==$e||"none"!=t&&(i=p(t))==et||($e=n?"none"==t?(et=null,"none"):(et=i,g(t)):(mt=!0,ht&&"none"!=t?(et=p(t),g(t)):(et=null,"none")),ce.set(ee,$e),null==et?ce.remove($):ce.set($,et)):($e="none"==t?(et=null,"none"):(et=p(t),g(t)),ce.set(ee,$e),null==et?ce.remove($):ce.set($,et)),ht=!1}else $e=et=null},setSalt:function(e){return null==e||0===e.length||(tt=e),ut},getSalt:function(){return null==tt&&(tt=""),tt},setAppName:function(e){at&&(nt=e)},getAppName:function(){return null!=nt&&0!==nt.length||ut.setAppName(c.getAppName()),nt},setAppVersion:function(e){var t;ce&&(e&&e!=P?(ce.has(r.PREVIOUS_VERSION_KEY)&&(Ae=ce.get(r.PREVIOUS_VERSION_KEY)+""),ce.has(J)&&(t=ce.get(J)+""),t&&t!==e?(Ae=t,ce.set(r.PREVIOUS_VERSION_KEY,Ae+""),be=Re,ce.set(X,be+"")):be=a.parseLong(ce.get(X),-1),ce.set(J,e+"")):be=a.parseLong(ce.get(X),-1)),Ee=e},getAppVersion:function(){return Ee},getVersion:function(){return"6.3.0.180917"},getGenesis:function(){return Re},getPreviousGenesis:function(){return Be},setExitCode:function(e){ce.set(T,e.toString(10))},getExitCode:function(){return it},getLabels:function(){return st},setLabels:function(e){if(at)for(var t in e)e.hasOwnProperty(t)&&ut.setLabel(t,e[t])},getLabel:function(e){return st[e]},setLabel:function(e,t){at&&(!e||t?st[e]=t:delete st[e])},setAutoStartLabels:function(e){at&&null!=e&&f.extend(rt,e)},getAutoStartLabel:function(e){return rt[e]},getAutoStartLabels:function(){return rt},setAutoStartLabel:function(e,t){at&&(rt[e]=t)},getCustomerC2:function(){return st.c2},setCustomerC2:function(e){if(at&&null!=e&&0!==e.length){var t=de.isSecure()?A:E;ut.setPixelURL(t),dt=!1,ut.setLabel("c2",e)}},getLiveTransmissionMode:function(){return de.getLiveTransmissionMode()},allowLiveTransmission:function(e){at&&de.getLiveTransmissionMode()!=e&&de.allowLiveTransmission(e)},getOfflineTransmissionMode:function(){return de.getOfflineTransmissionMode()},allowOfflineTransmission:function(e){at&&de.getOfflineTransmissionMode()!=e&&de.allowOfflineTransmission(e)},setSecure:function(e){at&&(this.getCustomerC2()||(_t=!0,de.isSecure()!=e&&de.setSecure(e)))},setSecureInternal:function(e){if(!_t&&(de.setSecure(!!e),null!=pe&&pe.enqueueSettingChange(d.SECURE_MODE,!!e),ut.getCustomerC2()&&!dt)){var t=de.isSecure()?A:E;ut.setPixelURL(t),dt=!1}},setAutoStartEnabled:function(e){at&&(ft=e)},isAutoStartEnabled:function(){return ft},isSecure:function(){return de.isSecure()},setCacheMaxMeasurements:function(e){null!=ue&&ue.setCacheMaxMeasurements(e)},getCacheMaxMeasurements:function(){return null!=ue?ue.getCacheMaxMeasurements():v.CACHE_MAX_SIZE},setCacheMaxBatchFiles:function(e){null!=ue&&ue.setCacheMaxBatchFiles(e)},getCacheMaxBatchFiles:function(){return null!=ue?ue.getCacheMaxBatchFiles():v.CACHE_MAX_BATCH_SIZE},setCacheMaxFlushesInARow:function(e){null!=ue&&ue.setCacheMaxPosts(e)},getCacheMaxFlushesInARow:function(){return null!=ue?ue.getCacheMaxPosts():v.CACHE_MAX_FLUSHES_INAROW},setCacheMinutesToRetry:function(e){null!=ue&&ue.setCacheWaitMinutes(e)},getCacheMinutesToRetry:function(){return null!=ue?ue.getCacheWaitMinutes():v.CACHE_WAIT_MINUTES},setCacheMeasurementExpiry:function(e){null!=ue&&ue.setCacheMeasurementExpiry(e)},getCacheMeasurementExpiry:function(){return null!=ue?ue.getCacheMeasurementExpiry():v.CACHE_EXPIRY_DAYS},getCacheFlushingInterval:function(){return yt},setCacheFlushingInterval:function(e){at&&yt!=e&&(yt=e,null!=fe&&fe.update())},getMeasurementLabelOrder:function(){return de.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(e){at&&e!=de.getMeasurementLabelOrder()&&de.setMeasurementLabelOrder(e)},flush:function(){ue.flush(de,function(){})},update:function(e){at&&(te(e=typeof e===b||e),ne(e))},enableAutoUpdate:function(e,t){at&&(e=e||60,ae(),e<60&&(e=60),ct=t,he=1e3*e,pt==i.FOREGROUND?re():pt!=i.BACKGROUND_UX_ACTIVE||ct||re())},disableAutoUpdate:function(){at&&(ae(),ct=!0,he=-1)},isAutoUpdateEnabled:function(){return 0<he},notify:function(e,t){at&&(oe()||(lt||e==u.START||me.send(u.START,{},dt?Ze:null),e==u.CLOSE?(ut.setExitCode(0),ut.update(!0)):me.send(e,t,dt?Ze:null)))},internalHidden:function(e,t){me.send(u.HIDDEN,e,t)},setOfflineURL:function(e){at&&ue.setUrl(e)},getPlatformAPI:function(){return c},setPlatformAPI:function(e){c.setPlatformAPI(e)},getMeasurementDispatcher:function(){return me},clearInternalData:function(){ce&&ce.clear()},cacheHttpRedirects:function(e){ot=e},isHttpRedirectCaching:function(){return ot}}),de=new d,st={},rt={},ot=at=!0,ut.reset()}},{1:1,11:11,12:12,17:17,21:21,22:22,24:24,25:25,26:26,3:3,36:36,4:4,6:6,7:7,8:8,9:9}],6:[function(e,t,n){function i(){var e,t,n,i;s.extend(this,{reset:function(){e=r.DEFAULT,t=r.DEFAULT,n=a.isConnectionSecure(),i=o.LABELS_ORDER},copyFrom:function(s){e=s.getLiveTransmissionMode(),t=s.getOfflineTransmissionMode(),i=s.getMeasurementLabelOrder(),n=s.isSecure()},updateSetting:function(e,t){switch(e){case 0:this.allowLiveTransmission(t);break;case 1:this.allowOfflineTransmission(t);break;case 2:this.setSecure(t);break;case 3:this.setMeasurementLabelOrder(t)}},getLiveTransmissionMode:function(){return e},allowLiveTransmission:function(t){null!=t&&(e=t)},getOfflineTransmissionMode:function(){return t},allowOfflineTransmission:function(e){null!=e&&(t=e)},isSecure:function(){return n},setSecure:function(e){n=e},getMeasurementLabelOrder:function(){return i},setMeasurementLabelOrder:function(e){null!=e&&0<e.length&&(i=e)}}),this.reset()}var s=e(24),r=e(8).TransmissionMode,a=e(36),o=e(4);i.LIVE_TRANSMISSION_MODE=0,i.OFFLINE_TRANSMISSION_MODE=1,i.SECURE_MODE=2,i.MEASUREMENT_LABEL_ORDER=3,t.exports=i},{24:24,36:36,4:4,8:8}],7:[function(e,t,n){var i=e(24),s=e(13),r="q_dcf",a="q_dcc";t.exports=function(e){function t(e){return e-l<1e3&&20<=c}function n(e){return e-p<864e5&&6e3<=f}function o(t){864e5<t-p&&(f=0,p=t),1e3<t-l&&(c=0,l=t),f++,c++;var n=e.getStorage();n.set(a,f+""),n.set(r,p+"")}function u(){var i,r=+new Date;if(m)for(;_.length;){var a=_.shift();c=a,e.getOfflineCache().saveEvent(c)}else{for(var c,f,d;_.length&&!t(d=r)&&!n(d);)o(r),a=_.shift(),f=a,new s(e,e.getDispatchProperties(),f).send();i=r,_.length&&(g||(t(i)?g=e.getPlatformAPI().setTimeout(function(){g=null,u()},l+1e3-i):n(i)&&(g=e.getPlatformAPI().setTimeout(function(){g=null,u()},p+864e5-i))))}}var c,l,f,p,g,d,_=[],m=!1;i.extend(this,{offer:function(t){e.getEnabled()&&(_.push(t),u())},clean:function(){e.getPlatformAPI().clearTimeout(g),_.length=0},dispatchToCache:function(t){m=t,e.getPlatformAPI().clearTimeout(g),u()}}),d=e.getStorage(),p=d.has(a)&&d.has(r)?(f=parseInt(d.get(a)),parseInt(d.get(r))):(f=0,+new Date),c=0,l=+new Date}},{13:13,24:24}],8:[function(e,t,n){var i={DEFAULT:0,NEVER:1,WIFIONLY:2,PIGGYBACK:3,DISABLED:4,valueOf:function(e){return null==e||"DEFAULT"==e?i.DEFAULT:"NEVER"==e?i.NEVER:"WIFIONLY"==e?i.WIFIONLY:"PIGGYBACK"==e?i.PIGGYBACK:"DISABLED"==e?i.DISABLED:void 0}};n.TransmissionMode=i,n.SessionState={INACTIVE:0,APPLICATION:1,USER:2,ACTIVE_USER:3},n.ApplicationState={INACTIVE:0,BACKGROUND_UX_ACTIVE:1,FOREGROUND:2},n.EventType={START:"start",VIEW:"view",CLOSE:"close",AGGREGATE:"aggregate",HIDDEN:"hidden",KEEPALIVE:"keep-alive"}},{}],9:[function(e,t,n){var i=e(36),s=e(8).EventType,r=e(24);t.exports=function(e){function t(){u=+new Date+l,n()}function n(){e.getMeasurementDispatcher().send(s.KEEPALIVE)}var a=this,o=null,u=NaN,c=!0,l=864e5;r.extend(a,{setEnable:function(e){(c=e)?(a.checkDelayedKeepAlive(),a.restart()):a.cancel()},isEnabled:function(){return c},restart:function(){c&&(a.cancel(),u=+new Date+l,o=i.setInterval(t,l))},checkDelayedKeepAlive:function(){if(c){var e=+new Date;u&&u<=e&&n()}},pause:function(){a.cancel()},cancel:function(){o&&(i.clearInterval(o),o=null)}})}},{24:24,36:36,8:8}],10:[function(e,t,n){function i(e){var t,n={};a.extend(this,{removeLabel:function(e){delete n[e]},addLabels:function(e){if(null!=e)for(var t in e)e.hasOwnProperty(t)&&this.setLabel(t,e[t])},setLabel:function(e,t){n[e]=t},getLabel:function(e){return n[e]},getLabels:function(){return n},hasLabel:function(e){return n.hasOwnProperty(e)},retrieveLabelsAsString:function(e){for(var t=[],i=a.extend({},n),s=0,r=e.length;s<r;s++){var o=e[s],u=i[o];null!=u&&""!==u&&(t.push("&",d(o),"=",d(u)),delete i[o])}for(var c in i)if(i.hasOwnProperty(c)){var l=i[c];null!=l&&""!==l&&t.push("&",d(c),"=",d(i[c]))}return 0<(t=t.join("")).length&&"&"==t.charAt(0)?t.substring(1):t},setPixelURL:function(e){t=e},getPixelURL:function(){return t}}),e&&this.setPixelURL(e.getPixelURL())}function s(e,t,n,s){if(i.call(this,e),e){null!=n&&this.setPixelURL(n),this.setLabel("c1","19"),this.setLabel("ns_ap_an",_(e.getAppName())),this.setLabel("ns_ap_pn",_(l.getPlatformName())),this.setLabel("ns_ap_pv",_(l.getRuntimeVersion())),this.setLabel("c12",e.getVisitorId()),e.generateCrossPublisherId();var r=e.getCrossPublisherId();r&&(this.setLabel("ns_ak",r),e.isCrossPublisherIdChanged()&&this.setLabel("ns_ap_ni","1")),this.setLabel("ns_ap_device",_(l.getDeviceModel())),this.setLabel("ns_ap_ar",_(l.getDeviceArchitecture())),this.setLabel("ns_radio",_(l.getConnectionType())),this.setLabel("ns_type",m(t)),this.setLabel("ns_nc","1"),this.setLabel("ns_ap_pfv",_(l.getPlatformVersion())),this.setLabel("ns_ap_pfm",_(l.getRuntimeName())),this.setLabel("ns_ap_ev",t),this.setLabel("ns_ap_ver",_(e.getAppVersion())),this.setLabel("ns_ap_sd",l.getDisplayResolution()),this.setLabel("ns_ap_res",l.getApplicationResolution()),this.setLabel("ns_ap_lang",l.getLanguage()),this.setLabel("ns_ap_sv",e.getVersion()),t==u.KEEPALIVE&&this.setLabel("ns_ap_oc",e.getOfflineCache().getEventCount()+"");var a=e.getColdStartId(),o=e.getColdStartCount();this.setLabel("ns_ap_id",a+""),this.setLabel("ns_ap_cs",o+""),this.setLabel("ns_ap_bi",l.getPackageName()),this.setLabel("ns_ap_jb",_(l.getDeviceJailBrokenFlag()))}}function r(e,t,n,i){s.call(this,e,t,n,i),this.setLabel("ns_ap_gs",e.getFirstInstallId()+""),this.setLabel("ns_ap_install",e.getInstallId()+""),this.setLabel("ns_ap_runs",e.getRunsCount()+""),i&&this.setLabel("ns_ap_csf","1"),this.setLabel("ns_ap_lastrun",e.getPreviousGenesis()+"");var r=e.getExitCode();0<r&&this.setLabel("ns_ap_miss",r.toString());var a=e.getPreviousVersion();a&&(this.setLabel("ns_ap_updated",a+""),e.getStorage().remove(f.PREVIOUS_VERSION_KEY),e.setPreviousVersion(null)),this.setLabel("ns_ap_jb",_(l.getDeviceJailBrokenFlag()))}var a=e(24),o=e(21),u=e(8).EventType,c=e(17),l=e(36),f=e(4),p="undefined",g=c.UNKNOWN_VALUE,d=typeof encodeURIComponent!=p?encodeURIComponent:escape,_=function(e){return o.isNotEmpty(e)?e:g},m=function(e){return e==u.START||e==u.CLOSE||e==u.VIEW?u.VIEW:u.HIDDEN};s.processTimingLabels=function(e,t){var n=t.coldBoot,i=t.resetTimings,s=t.includeTimings;if(i=typeof i===p||i,s=typeof s===p||s,e.update(s),s){var r=e.getForegroundTransitionsCountDelta(),a=e.getForegroundTotalTime(n),o=e.getForegroundTimeDelta(i),u=e.getBackgroundTotalTime(n),c=e.getBackgroundTimeDelta(i),l=e.getInactiveTotalTime(n),f=e.getInactiveTimeDelta(i),g=e.getApplicationSessionTimeDelta(i),d=e.getActiveUserSessionTimeDelta(i),_=e.getUserSessionTimeDelta(i),m=e.getAutoUpdateInterval(),h=e.getApplicationSessionCountDelta(i),v=e.getActiveUserSessionCountDelta(i),y=e.getUserSessionCountDelta(i),S=e.getUserInteractionCount(i);t.labels.ns_ap_fg=r+"",t.labels.ns_ap_ft=a+"",t.labels.ns_ap_dft=o+"",t.labels.ns_ap_bt=u+"",t.labels.ns_ap_dbt=c+"",t.labels.ns_ap_it=l+"",t.labels.ns_ap_dit=f+"",t.labels.ns_ap_ut=m+"",t.labels.ns_ap_as=h+"",t.labels.ns_ap_das=g+"",0<=v&&(t.labels.ns_ap_aus=v+"",t.labels.ns_ap_daus=d+"",t.labels.ns_ap_uc=S+""),0<=y&&(t.labels.ns_ap_us=y+"",t.labels.ns_ap_dus=_+""),t.labels.ns_ap_usage=t.created-e.getGenesis()+""}t.labels.ns_ts=t.created+""},s.prototype=new i,s.newApplicationMeasurement=function(e,t,n,i){var s=e.getMeasurementDispatcher(),r=s.initMeasurementData(t,n,i);return s.finishMeasurement(r)},r.prototype=new s,t.exports.Measurement=i,t.exports.ApplicationMeasurement=s,t.exports.AppStartMeasurement=r},{17:17,21:21,24:24,36:36,4:4,8:8}],11:[function(e,t,n){var i=e(10).ApplicationMeasurement,s=e(10).AppStartMeasurement,r=e(36),a=e(8).EventType,o=e(8).ApplicationState,u=e(4),c=e(14).aggregateLabels;t.exports=function(e){var t=this,n=0,l=[],f=!1,p=0,g={};t.createInitializationWindow=function(){n++;var e=!1;return function(i){e||(e=!0,n--,i&&t.checkDispatch())}},t.preDispatch=function(){if(!f){var e=t.createInitializationWindow();f=!0,r.onDataFetch(function(){e(!(f=!1))},function(){e(f=!1)})}},t.checkDispatch=function(){if(!(0<n)){for(var e=0;e<l.length;++e){var i=l[e],s=t.finishMeasurement(i);t.dispatch(i,s)}l.length=0}},t.queue=function(e){l.push(e),t.preDispatch()},t.dispatch=function(t,n){e.getQueue().offer(n),e.getKeepAlive().restart()},t.send=function(e,n,i){if(e!=a.AGGREGATE){var s=t.initMeasurementData(e,n,i);t.queue(s)}else t.addAggregateLabels(n)},t.initMeasurementData=function(t,n,s){var r={created:+new Date,eventType:t,pixelURL:s,coldBoot:!1,resetTimings:void 0,includeTimings:void 0,labels:{}};return p++,r.labels.ns_ap_ec=p+"",t==a.START?(e.incrementRunsCount(),r.coldBoot=e.handleColdStart()):(r.resetTimings=!(null!=n&&n.hasOwnProperty("ns_st_ev")&&"hb"==n.ns_st_ev),r.includeTimings=!(null!=n&&n.hasOwnProperty("ns_st_ev"))),r.persistentLabels=e.getLabels(),r.eventLabels=n,null!=e.getCurrentActivityName()?r.pageNameLabel=e.getCurrentActivityName():t==a.START?r.pageNameLabel="start":e.getApplicationState()==o.FOREGROUND?r.pageNameLabel="foreground":r.pageNameLabel="background",i.processTimingLabels(e,r),r},t.finishMeasurement=function(t){var n=null,o=t.eventType,c=t.pixelURL,l=t.coldBoot;return(n=o===a.START?new s(e,o,c,l):new i(e,o,c,l)).addLabels(t.labels),n.addLabels(t.persistentLabels),n.addLabels(t.eventLabels),n.hasLabel(u.PAGE_NAME_LABEL)||n.setLabel(u.PAGE_NAME_LABEL,t.pageNameLabel),r.processMeasurementLabels(n),n.addLabels(g),g={},n},t.addAggregateLabels=function(e){c(g,e)}}},{10:10,14:14,36:36,4:4,8:8}],12:[function(e,t,n){function i(e,t){function n(){if(e.getEnabled()&&s.isConnectionAvailable()&&!D.isEmpty()&&null!=e.getCustomerC2()){if(!(A<=L))return!0;if(1e3*T*60-(+new Date-w)<=0)return!(w=L=0)}return!1}function i(){O=0,null!=C&&(C=null)}function g(){for(var e,n=_(),i=!1,s=n.length;0<s;s--){var r=(e=n[s-1],Number(e.substring(t.length)));i?h(n[s-1],!0):i=S(r)}}function d(t){if(e.getEnabled()){var n=e.getStorage();n.has(p)&&(t+=Number(n.get(p))),n.set(p,t+"")}}function _(){return null==k&&(k=f.getFileList()),k}function m(n){var s=t+l.getLabelFromEvent(n,"ns_ts");f.writeEvent(e,s,n),null==k&&(k=[]),k.push(s),i()}function h(t,n){if(null!=t){n&&(s=t,(r=e.getStorage()).has(s)&&d(Number(r.get(s)))),f.deleteFile(e,t);var i=o.indexOf(t,k);0<=i&&k.splice(i,1)}var s,r}function v(){return null!=k&&0<k.length?k[k.length-1]:null}function y(t){var n=e.getStorage(),i=0;return null!=t&&(i=n.has(t)?Number(n.get(t)):f.readCachedEvents(e,t).length),i}function S(e){var t=+new Date;return 24*I*60*60*1e3-(t-e)<=0}function b(t,r){var o=e.getStorage();if(n()){var c=null,g=null;if(null==C&&null!=(c=function(t){for(var n=0,i=f.readCachedEvents(e,t),s=!1;n<i.length&&!(s=!S(Number(l.getLabelFromEvent(i[n],"ns_ts"))));n++);return i=s?(d(n),i.slice(n,i.length)):(h(t,!0),null)}(g=v()))&&0<c.length){var _=o.has(p)?o.get(p):"0";C=l.generateXMLRequestString(c,_)}if(null!=C&&0<C.length)return void s.httpPost(function(t){var n,i=!0;-1==(n=a.exists(N)&&a.isNotEmpty(N)?N:t.isSecure()?"https://udm.scorecardresearch.com/offline":"http://udm.scorecardresearch.com/offline").indexOf("?")&&(n+="?",i=!1);var s=e.getCustomerC2();a.isNotEmpty(s)&&(i&&(n+="&"),n+="c2="+s,i=!0);var r="JetportGotAMaskOfThe"+e.getSalt()+"S.D_K-";return r=u(r),a.isNotEmpty(r)&&(i&&(n+="&"),n+="s="+r),n.toLowerCase()}(t),C,function(e){if(200==e)return L++,h(g,!1),i(),w=+new Date,o.remove(p),void s.setTimeout(function(){b(t,r)},0);r()})}r()}var P,E,A,T,I,k,C,L,w,N,D=this,O=0;t=t||"cs_cache_",r.extend(this,{flush:function(t,n){e.getEnabled()&&(g(),1e3*T*60-(+new Date-O)<=0?(O=0,b(t,n)):n())},setCacheMaxMeasurements:function(e){P=e},getCacheMaxMeasurements:function(){return P},setCacheMaxBatchFiles:function(e){e<=0||(E=e)},getCacheMaxBatchFiles:function(){return E},setCacheMaxPosts:function(e){A=e},getCacheMaxPosts:function(){return A},setCacheWaitMinutes:function(e){T=e},getCacheWaitMinutes:function(){return T},setCacheMeasurementExpiry:function(e){I=e},getCacheMeasurementExpiry:function(){return I},saveEvent:function(t){if(e.getEnabled()){var n=e.getDispatchProperties();if("string"!=typeof t&&(t=t.retrieveLabelsAsString(n.getMeasurementLabelOrder())),n.getOfflineTransmissionMode()!=c.DISABLED&&null!=e.getCustomerC2()&&a.isNotEmpty(l.getLabelFromEvent(t,"ns_ts"))){var s=v();null!=s?y(s)<this.getCacheMaxBatchFiles()?(t="\n"+t,f.writeEvent(e,s,t),i()):(_().length>=this.getCacheMaxMeasurements()/this.getCacheMaxBatchFiles()&&h(null!=k&&0<k.length?k[0]:null,!0),m(t)):m(t)}}},getEventCount:function(){var e=y(v());return 0<_().length&&(e+=(_().length-1)*this.getCacheMaxBatchFiles()),e},isEmpty:function(){return 0==this.getEventCount()},clear:function(){for(var t=_(),n=t.length;0<n;n--)h(t[n-1],!0);e.getStorage().remove(p)},setUrl:function(e){N=e}}),this.setCacheMaxMeasurements(2e3),this.setCacheMaxBatchFiles(100),this.setCacheMaxPosts(10),this.setCacheWaitMinutes(30),this.setCacheMeasurementExpiry(31),g()}var s=e(36),r=e(24),a=e(21),o=e(19),u=e(22),c=e(8).TransmissionMode,l=e(15),f=e(14).FileUtils,p="CACHE_DROPPED_MEASUREMENTS";i.CACHE_MAX_SIZE=2e3,i.CACHE_MAX_BATCH_SIZE=100,i.CACHE_MAX_FLUSHES_INAROW=10,i.CACHE_WAIT_MINUTES=30,i.CACHE_EXPIRY_DAYS=31,n.OfflineMeasurementsCache=i},{14:14,15:15,19:19,21:21,22:22,24:24,36:36,8:8}],13:[function(e,t,n){var i=e(24),s=e(20),r=e(36),a=e(4),o=e(8).TransmissionMode;t.exports=function(e,t,n,u){function c(t){200!=t&&(302!=t&&301!=t||e.isHttpRedirectCaching())&&e.getOfflineCache().saveEvent(g.retrieveLabelsAsString(p.getMeasurementLabelOrder()),p),u&&u()}function l(){var e=f.process(g.getPixelURL());r.httpGet(e,c)}var f=this,p=t,g=n;i.extend(f,{process:function(e){e+=g.retrieveLabelsAsString(p.getMeasurementLabelOrder());var t=s.browserAcceptsLargeURLs()?a.URL_LENGTH_LIMIT:a.RESTRICTED_URL_LENGTH_LIMIT;if(e.length>t&&0<e.indexOf("&")){var n=e.substring(0,t-8).lastIndexOf("&"),i=encodeURIComponent(e.substring(n+1));e=e.substring(0,n)+"&ns_cut="+i}return e.length>t&&(e=e.substring(0,t)),e},send:function(){var t=p.getLiveTransmissionMode();return t==o.NEVER||t==o.DISABLED?(e.getOfflineCache().saveEvent(g.retrieveLabelsAsString(p.getMeasurementLabelOrder()),p),u&&u()):p.getOfflineTransmissionMode()!=o.NEVER&&0<e.getOfflineCache().getEventCount()?e.getOfflineCache().flush(p,l):l(),!0}})}},{20:20,24:24,36:36,4:4,8:8}],14:[function(e,t,n){function i(){c||"function"==typeof o.IO&&(c=new o.IO)}function s(e){return!((e+="").indexOf(",")<0)&&e.indexOf(" ")<0}function r(e){return!isNaN(parseInt(e))&&isFinite(e)}function a(e,t){for(var n=t,i=e.split(","),s=0,r=i.length;s<r;s++){var a=i[s];if(0<a.length)if(n.indexOf(a)<0)0==n.length?n+=a+":1":n+=";"+a+":1";else for(var o=n.split(";"),u=0,c=o.length;u<c;u++)if(0<=o[u].indexOf(a)){var l=o[u].split(":"),f=Number(l[1]);f++;var p=l[0]+":"+f,g=n.indexOf(o[u]);n=n.substring(0,g)+p+n.substring(g+o[u].length)}}return n}var o=e(36),u="cache_dir",c=null,l={getFileList:function(){return i(),c.dir(u)||[]},writeEvent:function(e,t,n){i();var s=e.getStorage(),r=Number(s.get(t))||0;c.append(u,t,n),r++,s.set(t,r+"")},deleteFile:function(e,t){i(),c.deleteFile(u,t),e.getStorage().remove(t)},readCachedEvents:function(e,t){i();var n=c.read(u,t);return n?n.split("\n"):[]}};n.aggregateLabels=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=e[n],o=t[n];null==i?s(o)?e[n]=a(o,""):e[n]=o:r(i)&&r(o)?e[n]=parseInt(i)+parseInt(o)+"":s(o)?e[n]=a(o,i):(u=o,0<=i.indexOf(u)||(e[n]=i+","+o))}var u},n.FileUtils=l},{36:36}],15:[function(e,t,n){function i(e,t){u=c=-1;var n=0;do{if(0<=(n=e.indexOf(t,n))){var i=n+t.length;if((0==n||"&"==e.charAt(n-1))&&i<e.length&&"="==e.charAt(i))return u=i+1,void(-1==(c=e.indexOf("&",u))&&(c=e.length));n=i+1}}while(0<=n&&n<e.length)}function s(e,t){var n=0;if(i(e,"ns_ts"),-1!=u&&u<c){t.push('<event t="',e.substring(u,c),'">');for(var s,r,l=0,g=0;l<e.length;){if(-1==(s=e.indexOf("&",l))&&(s=e.length),l<s&&l<(r=e.indexOf("=",l))){var d=!0;if(n!=p)for(var _=0,m=f.length;_<m;_++){var h=1<<_;if(0==(n&h)&&f[_].length==r-l&&a.regionMatches(f[_],0,e,l,f[_].length)){d=!1,n|=h;break}}d&&(0<g&&(o.push("&"),t.push("&")),o.push(e.substring(l,s)),t.push(e.substring(l,s)),g++)}l=s+1}t.push("</event>")}}var r=e(22),a=e(21),o=[],u=-1,c=-1,l=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ak"],f=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ts","ns_ak"],p=(1<<f.length)-1,g=-1,d={generateXMLRequestString:function(e,t){var n,f,p=['<?xml version="1.0" encoding="UTF-8" ?>'];return function(e,t,n){var s,r,a,o=+new Date+"";e.push('<events t="',o,'" ');for(var f=0,p=l.length;f<p;f++)s=e,i(r=t,a=l[f]),-1!=u&&u<c&&s.push(a,'="',r.substring(u,c),'" ');e.push('dropped="',n,'" md5="','">'),g=e.length-1}(p,e[0],t),function(e,t){o=[];for(var n=0,i=e.length;n<i;n++)a.isNotEmpty(e[n])&&s(e[n],t)}(e,p),n=p,f=r(o.join("")).toLowerCase(),n.splice(g,0,f),p.push("</events>"),p.join("")},getLabelFromEvent:function(e,t){return i(e,t),-1!=u&&u<c?e.substring(u,c):null}};t.exports=d},{21:21,22:22}],16:[function(e,n,i){(function(t){var i=e(24),s=n.exports=t.ns_||{};"undefined"!=typeof window&&(window.ns_=s),s.comScore=e(2),s.loadModule=s.loadModule||function(e){for(var t in e)"ns_"!==t&&i.extend(s,e);return e.ns_=s},s.PlatformAPIs=e(32),e(39),s.StreamingAnalytics=e(67),s.ReducedRequirementsStreamingAnalytics=e(64)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,24:24,32:32,39:39,64:64,67:67}],17:[function(e,t,n){t.exports={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0",RSA_PUBLIC_KEY:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\nQnVeWzvfAPQyTJR5wQIDAQAB\n-----END PUBLIC KEY-----"}},{}],18:[function(e,t,n){var i="undefined",s="function";t.exports=function(e,t){function n(t){t=t||[];var n=["comScore",+new Date];return e&&n.push(e),t=Array.prototype.slice.call(t),n=n.concat(t)}function r(e){var n,i,s;if("boolean"==typeof t||!t)return!!t;if(s=e.join(" "),t instanceof Array&&0<t.length){for(n=0;n<t.length;++n)if((i=t[n])instanceof RegExp&&i.test(s))return!0;return!1}if("object"!=typeof t)return!0;var r=!1;if(t.hide instanceof Array)for(n=0;n<t.hide.length;++n)if((i=t.hide[n])instanceof RegExp&&i.test(s)){r=!0;break}if(t.show instanceof Array)for(n=0;n<t.show.length;++n)if((i=t.show[n])instanceof RegExp&&i.test(s))return!0;return!r&&!t.show}function a(e){var n=u.length;if(1e4<n||"object"==typeof t&&t.max&&n>t.max){var i="object"==typeof t&&t.max||1e4;u.splice(0,u.length-i+1)}u.push(e)}var o=this,u=[];o.log=function(){var e=n(arguments);a(e),typeof console!=i&&typeof console.log==s&&r(e)&&console.log.apply(console,e)},o.warn=function(){var e=n(arguments);a(e),typeof console!=i&&typeof console.warn==s&&r(e)&&console.warn.apply(console,e)},o.error=function(){var e=n(arguments);a(e),typeof console!=i&&typeof console.error==s&&r(e)&&console.error.apply(console,e)},o.apiCall=function(e){for(var t=["API call to:",e],n=1;n<arguments.length;++n)t.push("arg"+n+":",arguments[n]);this.log.apply(this,t)},o.infoLog=function(){var e=["Trace log:"];e.push.apply(e,Array.prototype.slice.call(arguments)),this.log.apply(this,e)},o.deprecation=function(e,t){var n=["Deprecated API:",e,"is deprecated and will be eventually removed."];t&&n.push("Use",t,"instead."),this.warn.apply(this,n)},o.getLogHistory=function(){return u}}},{}],19:[function(e,t,n){var i={},s="undefined";i.indexOf=function(e,t){var n=-1;return i.forEach(t,function(t,i){t==e&&(n=i)}),n},i.forEach=function(e,t,n){try{if("function"==typeof t)if(n=typeof n!=s?n:null,"number"!=typeof e.length||typeof e[0]==s){var i=typeof e.__proto__!=s;for(var r in e)e.hasOwnProperty(r)&&(!i||i&&typeof e.__proto__[r]==s)&&"function"!=typeof e[r]&&t.call(n,e[r],r)}else for(var a=0,o=e.length;a<o;a++)t.call(n,e[a],a)}catch(e){}},n.indexOf=i.indexOf,n.forEach=i.forEach},{}],20:[function(e,t,n){var i={},s="undefined",r=typeof document!=s&&document||void 0;i.hasPageVisibilityAPISupport=function(){if(!r)return!1;var e=!1;return typeof r.hidden!==s?e=!0:typeof r.mozHidden!==s?e=!0:typeof r.msHidden!==s?e=!0:typeof r.webkitHidden!==s&&(e=!0),function(){return e}}(),i.getPageVisibilityAPI=function(){if(!r)return null;var e,t,n;typeof r.hidden!==s?(e="hidden",t="visibilitychange",n="visibilityState"):typeof r.mozHidden!==s?(e="mozHidden",t="mozvisibilitychange",n="mozVisibilityState"):typeof r.msHidden!==s?(e="msHidden",t="msvisibilitychange",n="msVisibilityState"):typeof r.webkitHidden!==s&&(e="webkitHidden",t="webkitvisibilitychange",n="webkitVisibilityState");var i={hidden:e,visibilityChange:t,state:n};return function(){return i}}(),i.isTabInBackground=function(){if(!r)return null;var e=i.getPageVisibilityAPI();return function(){return r[e.hidden]}}(),i.getBrowserName=function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",i=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?i="Opera":-1!=(t=n.indexOf("Android"))?i="Android":-1!=(t=n.indexOf("Chrome"))?i="Chrome":-1!=(t=n.indexOf("Safari"))?i="Safari":-1!=(t=n.indexOf("Firefox"))?i="Firefox":-1!=(t=n.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(i=n.substring(e,t)).toLowerCase()==i.toUpperCase()&&(i=navigator.appName):i="unknown",i},i.getBrowserFullVersion=function(){if(!navigator)return"";var e,t,n,i=navigator.userAgent||"",s=navigator.appName||"",r=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=i.indexOf("Opera"))?(r=i.substring(t+6),-1!=(t=i.indexOf("Version"))&&(r=i.substring(t+8))):-1!=(t=i.indexOf("OPR/"))?r=i.substring(t+4):-1!=(t=i.indexOf("Android"))?r=i.substring(t+11):-1!=(t=i.indexOf("Chrome"))?r=i.substring(t+7):-1!=(t=i.indexOf("Safari"))?(r=i.substring(t+7),-1!=(t=i.indexOf("Version"))&&(r=i.substring(t+8))):-1!=(t=i.indexOf("Firefox"))?r=i.substring(t+8):"Microsoft Internet Explorer"==s?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):"Netscape"==s?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):r=i.lastIndexOf(" ")+1<(t=i.lastIndexOf("/"))?i.substring(t+1):"unknown",-1!=(n=(r=r.toString()).indexOf(";"))&&(r=r.substring(0,n)),-1!=(n=r.indexOf(" "))&&(r=r.substring(0,n)),-1!=(n=r.indexOf(")"))&&(r=r.substring(0,n)),e=parseInt(""+r,10),isNaN(e)&&(r=""+parseFloat(navigator.appVersion)),r},i.browserAcceptsLargeURLs=function(){return typeof window!=s&&window.ActiveXObject,!0},i.isBrowser=function(){return typeof window!=s&&r},i.isWebSecure=function(){return!!r&&"s"===r.location.href.charAt(4)},t.exports.hasPageVisibilityAPISupport=i.hasPageVisibilityAPISupport,t.exports.getPageVisibilityAPI=i.getPageVisibilityAPI,t.exports.isTabInBackground=i.isTabInBackground,t.exports.getBrowserName=i.getBrowserName,t.exports.getBrowserFullVersion=i.getBrowserFullVersion,t.exports.browserAcceptsLargeURLs=i.browserAcceptsLargeURLs,t.exports.isBrowser=i.isBrowser,t.exports.isWebSecure=i.isWebSecure},{}],21:[function(e,t,n){var i,s=s||{},r="undefined";s.uid=(i=1,function(){return+new Date+"_"+i++}),s.isEmpty=function(e){return null==e||""===e||e instanceof Array&&0===e.length},s.isNotEmpty=function(e){return!this.isEmpty(e)},s.safeGet=function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},s.isTrue=function(e){return typeof e!=r&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},s.regionMatches=function(e,t,n,i,s){if(t<0||i<0||t+s>e.length||i+s>n.length)return!1;for(;0<=--s;)if(e.charAt(t++)!=n.charAt(i++))return!1;return!0},s.exists=function(e){return typeof e!=r&&null!=e},t.exports.exists=s.exists,t.exports.regionMatches=s.regionMatches,t.exports.isTrue=s.isTrue,t.exports.safeGet=s.safeGet,t.exports.isNotEmpty=s.isNotEmpty,t.exports.isEmpty=s.isEmpty,t.exports.uid=s.uid},{}],22:[function(e,t,n){var i={};i.md5=function(){function e(e,t){var a=e[0],o=e[1],u=e[2],l=e[3];o=r(o=r(o=r(o=r(o=s(o=s(o=s(o=s(o=i(o=i(o=i(o=i(o=n(o=n(o=n(o=n(o,u=n(u,l=n(l,a=n(a,o,u,l,t[0],7,-680876936),o,u,t[1],12,-389564586),a,o,t[2],17,606105819),l,a,t[3],22,-1044525330),u=n(u,l=n(l,a=n(a,o,u,l,t[4],7,-176418897),o,u,t[5],12,1200080426),a,o,t[6],17,-1473231341),l,a,t[7],22,-45705983),u=n(u,l=n(l,a=n(a,o,u,l,t[8],7,1770035416),o,u,t[9],12,-1958414417),a,o,t[10],17,-42063),l,a,t[11],22,-1990404162),u=n(u,l=n(l,a=n(a,o,u,l,t[12],7,1804603682),o,u,t[13],12,-40341101),a,o,t[14],17,-1502002290),l,a,t[15],22,1236535329),u=i(u,l=i(l,a=i(a,o,u,l,t[1],5,-165796510),o,u,t[6],9,-1069501632),a,o,t[11],14,643717713),l,a,t[0],20,-373897302),u=i(u,l=i(l,a=i(a,o,u,l,t[5],5,-701558691),o,u,t[10],9,38016083),a,o,t[15],14,-660478335),l,a,t[4],20,-405537848),u=i(u,l=i(l,a=i(a,o,u,l,t[9],5,568446438),o,u,t[14],9,-1019803690),a,o,t[3],14,-187363961),l,a,t[8],20,1163531501),u=i(u,l=i(l,a=i(a,o,u,l,t[13],5,-1444681467),o,u,t[2],9,-51403784),a,o,t[7],14,1735328473),l,a,t[12],20,-1926607734),u=s(u,l=s(l,a=s(a,o,u,l,t[5],4,-378558),o,u,t[8],11,-2022574463),a,o,t[11],16,1839030562),l,a,t[14],23,-35309556),u=s(u,l=s(l,a=s(a,o,u,l,t[1],4,-1530992060),o,u,t[4],11,1272893353),a,o,t[7],16,-155497632),l,a,t[10],23,-1094730640),u=s(u,l=s(l,a=s(a,o,u,l,t[13],4,681279174),o,u,t[0],11,-358537222),a,o,t[3],16,-722521979),l,a,t[6],23,76029189),u=s(u,l=s(l,a=s(a,o,u,l,t[9],4,-640364487),o,u,t[12],11,-421815835),a,o,t[15],16,530742520),l,a,t[2],23,-995338651),u=r(u,l=r(l,a=r(a,o,u,l,t[0],6,-198630844),o,u,t[7],10,1126891415),a,o,t[14],15,-1416354905),l,a,t[5],21,-57434055),u=r(u,l=r(l,a=r(a,o,u,l,t[12],6,1700485571),o,u,t[3],10,-1894986606),a,o,t[10],15,-1051523),l,a,t[1],21,-2054922799),u=r(u,l=r(l,a=r(a,o,u,l,t[8],6,1873313359),o,u,t[15],10,-30611744),a,o,t[6],15,-1560198380),l,a,t[13],21,1309151649),u=r(u,l=r(l,a=r(a,o,u,l,t[4],6,-145523070),o,u,t[11],10,-1120210379),a,o,t[2],15,718787259),l,a,t[9],21,-343485551),e[0]=c(a,e[0]),e[1]=c(o,e[1]),e[2]=c(u,e[2]),e[3]=c(l,e[3])}function t(e,t,n,i,s,r){return t=c(c(t,e),c(i,r)),c(t<<s|t>>>32-s,n)}function n(e,n,i,s,r,a,o){return t(n&i|~n&s,e,n,r,a,o)}function i(e,n,i,s,r,a,o){return t(n&s|i&~s,e,n,r,a,o)}function s(e,n,i,s,r,a,o){return t(n^i^s,e,n,r,a,o)}function r(e,n,i,s,r,a,o){return t(i^(n|~s),e,n,r,a,o)}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function o(e){for(var t="",n=0;n<4;n++)t+=l[e>>8*n+4&15]+l[e>>8*n&15];return t}function u(t){return function(e){for(var t=0;t<e.length;t++)e[t]=o(e[t]);return e.join("")}(function(t){var n,i=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)e(s,a(t.substring(n-64,n)));t=t.substring(n-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)r[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(r[n>>2]|=128<<(n%4<<3),55<n)for(e(s,r),n=0;n<16;n++)r[n]=0;return r[14]=8*i,e(s,r),s}(t))}function c(e,t){return e+t&4294967295}function c(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}var l="0123456789abcdef".split("");return u("hello"),u}(),t.exports=i.md5},{}],23:[function(e,t,n){var i=function(e){if("object"!=typeof e)return e;var t;if(e instanceof Array){t=[];for(var n=0,s=e.length;n<s;n++)t[n]=i(e[n]);return t}for(var r in t={},e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t};t.exports=i},{}],24:[function(e,t,n){var i=i||{};i.filter=function(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&e(t[i])&&(n[i]=t[i]);return n},i.extend=function(e){var t,n=arguments.length;e=e||{};for(var i=1;i<n;i++)if(t=arguments[i])for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return e},t.exports.filter=i.filter,t.exports.extend=i.extend},{}],25:[function(e,t,n){var i=e(17),s={};s.encrypt=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function t(){return new e(null)}function n(e){return N.charAt(e)}function s(e,t){var n=D[e.charCodeAt(t)];return null==n?-1:n}function r(e){var n=t();return n.fromInt(e),n}function a(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function o(e){this.m=e}function u(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function c(e,t){return e&t}function l(e,t){return e|t}function f(e,t){return e^t}function p(e,t){return e&~t}function g(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function d(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function _(){}function m(e){return e}function h(n){this.r2=t(),this.q3=t(),e.ONE.dlShiftTo(2*n.t,this.r2),this.mu=this.r2.divide(n),this.m=n}function v(){this.i=0,this.j=0,this.S=[]}function y(){var e;e=(new Date).getTime(),B[U++]^=255&e,B[U++]^=e>>8&255,B[U++]^=e>>16&255,B[U++]^=e>>24&255,M<=U&&(U-=M)}function S(){if(null==R){for(y(),(R=new v).init(B),U=0;U<B.length;++U)B[U]=0;U=0}return R.next()}function b(){}function P(t,n){return new e(t,n)}function E(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function A(e){var t,n,i="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),i+=G.charAt(n>>6)+G.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+=G.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+=G.charAt(n>>2)+G.charAt((3&n)<<4));0<(3&i.length);)i+=V;return i}function T(e){var t,i,s="",r=0;for(t=0;t<e.length&&e.charAt(t)!=V;++t){var a=G.indexOf(e.charAt(t));a<0||(r=0==r?(s+=n(a>>2),i=3&a,1):1==r?(s+=n(i<<2|a>>4),i=15&a,2):2==r?(s+=n(i),s+=n(a>>2),i=3&a,3):(s+=n(i<<2|a>>4),s+=n(15&a),0))}return 1==r&&(s+=n(i<<2)),s}var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=function(e,t){var n=I.indexOf(e.charAt(t));if(-1===n)throw new Error;return n},C=function(e){var t,n,i,s=(e=""+e).length;if(0===s)return e;if(s%4!=0)throw new Error;t=0,"="===e.charAt(s-1)&&(t=1,"="===e.charAt(s-2)&&(t=2),s-=4);var r=[];for(n=0;n<s;n+=4)i=k(e,n)<<18|k(e,n+1)<<12|k(e,n+2)<<6|k(e,n+3),r.push(String.fromCharCode(i>>16,i>>8&255,255&i));switch(t){case 1:i=k(e,n)<<18|k(e,n+1)<<12|k(e,n+2)<<6,r.push(String.fromCharCode(i>>16,i>>8&255));break;case 2:i=k(e,n)<<18|k(e,n+1)<<12,r.push(String.fromCharCode(i>>16))}return r.join("")};e.prototype.am=function(e,t,n,i,s,r){for(var a=16383&t,o=t>>14;0<=--r;){var u=16383&this[e],c=this[e++]>>14,l=o*u+c*a;s=((u=a*u+((16383&l)<<14)+n[i]+s)>>28)+(l>>14)+o*c,n[i++]=268435455&u}return s},e.prototype.DB=28,e.prototype.DM=268435455,e.prototype.DV=1<<28,e.prototype.FV=Math.pow(2,52),e.prototype.F1=24,e.prototype.F2=4;var L,w,N="0123456789abcdefghijklmnopqrstuvwxyz",D=[];for(L="0".charCodeAt(0),w=0;w<=9;++w)D[L++]=w;for(L="a".charCodeAt(0),w=10;w<36;++w)D[L++]=w;for(L="A".charCodeAt(0),w=10;w<36;++w)D[L++]=w;o.prototype.convert=function(e){return e.s<0||0<=e.compareTo(this.m)?e.mod(this.m):e},o.prototype.revert=function(e){return e},o.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},o.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},o.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},u.prototype.convert=function(n){var i=t();return n.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),n.s<0&&0<i.compareTo(e.ZERO)&&this.m.subTo(i,i),i},u.prototype.revert=function(e){var n=t();return e.copyTo(n),this.reduce(n),n},u.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},u.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},u.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e.prototype.copyTo=function(e){for(var t=this.t-1;0<=t;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,0<e?this[0]=e:e<-1?this[0]=e+DV:this.t=0},e.prototype.fromString=function(t,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(t,n);i=2}this.t=0,this.s=0;for(var r=t.length,a=!1,o=0;0<=--r;){var u=8==i?255&t[r]:s(t,r);u<0?"-"==t.charAt(r)&&(a=!0):(a=!1,0==o?this[this.t++]=u:o+i>this.DB?(this[this.t-1]|=(u&(1<<this.DB-o)-1)<<o,this[this.t++]=u>>this.DB-o):this[this.t-1]|=u<<o,(o+=i)>=this.DB&&(o-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,0<o&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),a&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){for(var e=this.s&this.DM;0<this.t&&this[this.t-1]==e;)--this.t},e.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;0<=n;--n)t[n+e]=this[n];for(n=e-1;0<=n;--n)t[n]=0;t.t=this.t+e,t.s=this.s},e.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.lShiftTo=function(e,t){var n,i=e%this.DB,s=this.DB-i,r=(1<<s)-1,a=Math.floor(e/this.DB),o=this.s<<i&this.DM;for(n=this.t-1;0<=n;--n)t[n+a+1]=this[n]>>s|o,o=(this[n]&r)<<i;for(n=a-1;0<=n;--n)t[n]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},e.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var i=e%this.DB,s=this.DB-i,r=(1<<i)-1;t[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&r)<<s,t[a-n]=this[a]>>i;0<i&&(t[this.t-n-1]|=(this.s&r)<<s),t.t=this.t-n,t.clamp()}},e.prototype.subTo=function(e,t){for(var n=0,i=0,s=Math.min(e.t,this.t);n<s;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:0<i&&(t[n++]=i),t.t=n,t.clamp()},e.prototype.multiplyTo=function(t,n){var i=this.abs(),s=t.abs(),r=i.t;for(n.t=r+s.t;0<=--r;)n[r]=0;for(r=0;r<s.t;++r)n[r+i.t]=i.am(0,s[r],n,r,0,i.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)},e.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;0<=--n;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}0<e.t&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},e.prototype.divRemTo=function(n,i,s){var r=n.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return null!=i&&i.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=t());var u=t(),c=this.s,l=n.s,f=this.DB-a(r[r.t-1]);0<f?(r.lShiftTo(f,u),o.lShiftTo(f,s)):(r.copyTo(u),o.copyTo(s));var p=u.t,g=u[p-1];if(0!=g){var d=g*(1<<this.F1)+(1<p?u[p-2]>>this.F2:0),_=this.FV/d,m=(1<<this.F1)/d,h=1<<this.F2,v=s.t,y=v-p,S=null==i?t():i;for(u.dlShiftTo(y,S),0<=s.compareTo(S)&&(s[s.t++]=1,s.subTo(S,s)),e.ONE.dlShiftTo(p,S),S.subTo(u,u);u.t<p;)u[u.t++]=0;for(;0<=--y;){var b=s[--v]==g?this.DM:Math.floor(s[v]*_+(s[v-1]+h)*m);if((s[v]+=u.am(0,b,s,y,0,p))<b)for(u.dlShiftTo(y,S),s.subTo(S,s);s[v]<--b;)s.subTo(S,s)}null!=i&&(s.drShiftTo(p,i),c!=l&&e.ZERO.subTo(i,i)),s.t=p,s.clamp(),0<f&&s.rShiftTo(f,s),c<0&&e.ZERO.subTo(s,s)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t},e.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},e.prototype.exp=function(n,i){if(4294967295<n||n<1)return e.ONE;var s=t(),r=t(),o=i.convert(this),u=a(n)-1;for(o.copyTo(s);0<=--u;)if(i.sqrTo(s,r),0<(n&1<<u))i.mulTo(r,o,s);else{var c=s;s=r,r=c}return i.revert(s)},e.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var i,s=(1<<t)-1,r=!1,a="",o=this.t,u=this.DB-o*this.DB%t;if(0<o--)for(u<this.DB&&0<(i=this[o]>>u)&&(r=!0,a=n(i));0<=o;)u<t?(i=(this[o]&(1<<u)-1)<<t-u,i|=this[--o]>>(u+=this.DB-t)):(i=this[o]>>(u-=t)&s,u<=0&&(u+=this.DB,--o)),0<i&&(r=!0),r&&(a+=n(i));return r?a:"0"},e.prototype.negate=function(){var n=t();return e.ZERO.subTo(this,n),n},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;0<=--n;)if(0!=(t=this[n]-e[n]))return t;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+a(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(n){var i=t();return this.abs().divRemTo(n,null,i),this.s<0&&0<i.compareTo(e.ZERO)&&n.subTo(i,i),i},e.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new o(t):new u(t),this.exp(e,n)},e.ZERO=r(0),e.ONE=r(1),_.prototype.convert=m,_.prototype.revert=m,_.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},_.prototype.sqrTo=function(e,t){e.squareTo(t)},h.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var n=t();return e.copyTo(n),this.reduce(n),n},h.prototype.revert=function(e){return e},h.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);0<=e.compareTo(this.m);)e.subTo(this.m,e)},h.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},h.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var O=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],x=(1<<26)/O[O.length-1];e.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},e.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||36<e)return"0";var n=this.chunkSize(e),i=Math.pow(e,n),s=r(i),a=t(),o=t(),u="";for(this.divRemTo(s,a,o);0<a.signum();)u=(i+o.intValue()).toString(e).substr(1)+u,a.divRemTo(s,a,o);return o.intValue().toString(e)+u},e.prototype.fromRadix=function(t,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),r=Math.pow(n,i),a=!1,o=0,u=0,c=0;c<t.length;++c){var l=s(t,c);l<0?"-"==t.charAt(c)&&0==this.signum()&&(a=!0):(u=n*u+l,++o>=i&&(this.dMultiply(r),this.dAddOffset(u,0),u=o=0))}0<o&&(this.dMultiply(Math.pow(n,o)),this.dAddOffset(u,0)),a&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,n,i){if("number"==typeof n)if(t<2)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),l,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var s=[],r=7&t;s.length=1+(t>>3),n.nextBytes(s),0<r?s[0]&=(1<<r)-1:s[0]=0,this.fromString(s,256)}},e.prototype.bitwiseTo=function(e,t,n){var i,s,r=Math.min(e.t,this.t);for(i=0;i<r;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(s=e.s&this.DM,i=r;i<this.t;++i)n[i]=t(this[i],s);n.t=this.t}else{for(s=this.s&this.DM,i=r;i<e.t;++i)n[i]=t(s,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},e.prototype.changeBit=function(t,n){var i=e.ONE.shiftLeft(t);return this.bitwiseTo(i,n,i),i},e.prototype.addTo=function(e,t){for(var n=0,i=0,s=Math.min(e.t,this.t);n<s;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,0<i?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()},e.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},e.prototype.multiplyLowerTo=function(e,t,n){var i,s=Math.min(this.t+e.t,t);for(n.s=0,n.t=s;0<s;)n[--s]=0;for(i=n.t-this.t;s<i;++s)n[s+this.t]=this.am(0,e[s],n,s,0,this.t);for(i=Math.min(e.t,t);s<i;++s)this.am(0,e[s],n,s,0,t-s);n.clamp()},e.prototype.multiplyUpperTo=function(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;0<=--i;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)},e.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(0<this.t)if(0==t)n=this[0]%e;else for(var i=this.t-1;0<=i;--i)n=(t*n+this[i])%e;return n},e.prototype.millerRabin=function(n){var i=this.subtract(e.ONE),s=i.getLowestSetBit();if(s<=0)return!1;var r=i.shiftRight(s);O.length<(n=n+1>>1)&&(n=O.length);for(var a=t(),o=0;o<n;++o){a.fromInt(O[Math.floor(Math.random()*O.length)]);var u=a.modPow(r,this);if(0!=u.compareTo(e.ONE)&&0!=u.compareTo(i)){for(var c=1;c++<s&&0!=u.compareTo(i);)if(0==(u=u.modPowInt(2,this)).compareTo(e.ONE))return!1;if(0!=u.compareTo(i))return!1}}return!0},e.prototype.clone=function(){var e=t();return this.copyTo(e),e},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var n,i=this.DB-e*this.DB%8,s=0;if(0<e--)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[s++]=n|this.s<<this.DB-i);0<=e;)i<8?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==s&&(128&this.s)!=(128&n)&&++s,(0<s||n!=this.s)&&(t[s++]=n);return t},e.prototype.equals=function(e){return 0==this.compareTo(e)},e.prototype.min=function(e){return this.compareTo(e)<0?this:e},e.prototype.max=function(e){return 0<this.compareTo(e)?this:e},e.prototype.and=function(e){var n=t();return this.bitwiseTo(e,c,n),n},e.prototype.or=function(e){var n=t();return this.bitwiseTo(e,l,n),n},e.prototype.xor=function(e){var n=t();return this.bitwiseTo(e,f,n),n},e.prototype.andNot=function(e){var n=t();return this.bitwiseTo(e,p,n),n},e.prototype.not=function(){for(var e=t(),n=0;n<this.t;++n)e[n]=this.DM&~this[n];return e.t=this.t,e.s=~this.s,e},e.prototype.shiftLeft=function(e){var n=t();return e<0?this.rShiftTo(-e,n):this.lShiftTo(e,n),n},e.prototype.shiftRight=function(e){var n=t();return e<0?this.lShiftTo(-e,n):this.rShiftTo(e,n),n},e.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+g(this[e]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=d(this[n]^t);return e},e.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},e.prototype.setBit=function(e){return this.changeBit(e,l)},e.prototype.clearBit=function(e){return this.changeBit(e,p)},e.prototype.flipBit=function(e){return this.changeBit(e,f)},e.prototype.add=function(e){var n=t();return this.addTo(e,n),n},e.prototype.subtract=function(e){var n=t();return this.subTo(e,n),n},e.prototype.multiply=function(e){var n=t();return this.multiplyTo(e,n),n},e.prototype.divide=function(e){var n=t();return this.divRemTo(e,n,null),n},e.prototype.remainder=function(e){var n=t();return this.divRemTo(e,null,n),n},e.prototype.divideAndRemainder=function(e){var n=t(),i=t();return this.divRemTo(e,n,i),[n,i]},e.prototype.modPow=function(e,n){var i,s,c=e.bitLength(),l=r(1);if(c<=0)return l;i=c<18?1:c<48?3:c<144?4:c<768?5:6,s=c<8?new o(n):n.isEven()?new h(n):new u(n);var f=[],p=3,g=i-1,d=(1<<i)-1;if(f[1]=s.convert(this),1<i){var _=t();for(s.sqrTo(f[1],_);p<=d;)f[p]=t(),s.mulTo(_,f[p-2],f[p]),p+=2}var m,v,y=e.t-1,S=!0,b=t();for(c=a(e[y])-1;0<=y;){for(g<=c?m=e[y]>>c-g&d:(m=(e[y]&(1<<c+1)-1)<<g-c,0<y&&(m|=e[y-1]>>this.DB+c-g)),p=i;0==(1&m);)m>>=1,--p;if((c-=p)<0&&(c+=this.DB,--y),S)f[m].copyTo(l),S=!1;else{for(;1<p;)s.sqrTo(l,b),s.sqrTo(b,l),p-=2;0<p?s.sqrTo(l,b):(v=l,l=b,b=v),s.mulTo(b,f[m],l)}for(;0<=y&&0==(e[y]&1<<c);)s.sqrTo(l,b),v=l,l=b,b=v,--c<0&&(c=this.DB-1,--y)}return s.revert(l)},e.prototype.modInverse=function(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var i=t.clone(),s=this.clone(),a=r(1),o=r(0),u=r(0),c=r(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(a.isEven()&&o.isEven()||(a.addTo(this,a),o.subTo(t,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;s.isEven();)s.rShiftTo(1,s),n?(u.isEven()&&c.isEven()||(u.addTo(this,u),c.subTo(t,c)),u.rShiftTo(1,u)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);0<=i.compareTo(s)?(i.subTo(s,i),n&&a.subTo(u,a),o.subTo(c,o)):(s.subTo(i,s),n&&u.subTo(a,u),c.subTo(o,c))}return 0!=s.compareTo(e.ONE)?e.ZERO:0<=c.compareTo(t)?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c},e.prototype.pow=function(e){return this.exp(e,new _)},e.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var i=t;t=n,n=i}var s=t.getLowestSetBit(),r=n.getLowestSetBit();if(r<0)return t;for(s<r&&(r=s),0<r&&(t.rShiftTo(r,t),n.rShiftTo(r,n));0<t.signum();)0<(s=t.getLowestSetBit())&&t.rShiftTo(s,t),0<(s=n.getLowestSetBit())&&n.rShiftTo(s,n),0<=t.compareTo(n)?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return 0<r&&n.lShiftTo(r,n),n},e.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=O[O.length-1]){for(t=0;t<O.length;++t)if(n[0]==O[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<O.length;){for(var i=O[t],s=t+1;s<O.length&&i<x;)i*=O[s++];for(i=n.modInt(i);t<s;)if(i%O[t++]==0)return!1}return n.millerRabin(e)},e.prototype.square=function(){var e=t();return this.squareTo(e),e},v.prototype.init=function(e){var t,n,i;for(t=0;t<256;++t)this.S[t]=t;for(t=n=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,i=this.S[t],this.S[t]=this.S[n],this.S[n]=i;this.i=0,this.j=0},v.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var R,B,U,M=256;if(null==B){var F;for(B=[],U=0;U<M;)F=Math.floor(65536*Math.random()),B[U++]=F>>>8,B[U++]=255&F;U=0,y()}b.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=S()},E.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},E.prototype.setPublic=function(e,t){null!=e&&null!=t&&0<e.length&&0<t.length?(this.n=P(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")},E.prototype.encrypt=function(t){var n=function(t,n){if(n<t.length+11)return alert("Message too long for RSA"),null;for(var i=[],s=t.length-1;0<=s&&0<n;){var r=t.charCodeAt(s--);i[--n]=r<128?r:127<r&&r<2048?(i[--n]=63&r|128,r>>6|192):(i[--n]=63&r|128,i[--n]=r>>6&63|128,r>>12|224)}i[--n]=0;for(var a=new b,o=[];2<n;){for(o[0]=0;0==o[0];)a.nextBytes(o);i[--n]=o[0]}return i[--n]=2,i[--n]=0,new e(i)}(t,this.n.bitLength()+7>>3);if(null==n)return null;var i=this.doPublic(n);if(null==i)return null;var s=i.toString(16);return 0==(1&s.length)?s:"0"+s},E.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},E.prototype.setPrivate=function(e,t,n){null!=e&&null!=t&&0<e.length&&0<t.length?(this.n=P(e,16),this.e=parseInt(t,16),this.d=P(n,16)):alert("Invalid RSA private key")},E.prototype.setPrivateEx=function(e,t,n,i,s,r,a,o){null!=e&&null!=t&&0<e.length&&0<t.length?(this.n=P(e,16),this.e=parseInt(t,16),this.d=P(n,16),this.p=P(i,16),this.q=P(s,16),this.dmp1=P(r,16),this.dmq1=P(a,16),this.coeff=P(o,16)):alert("Invalid RSA private key")},E.prototype.generate=function(t,n){var i=new b,s=t>>1;this.e=parseInt(n,16);for(var r=new e(n,16);;){for(;this.p=new e(t-s,1,i),0!=this.p.subtract(e.ONE).gcd(r).compareTo(e.ONE)||!this.p.isProbablePrime(10););for(;this.q=new e(s,1,i),0!=this.q.subtract(e.ONE).gcd(r).compareTo(e.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var o=this.p.subtract(e.ONE),u=this.q.subtract(e.ONE),c=o.multiply(u);if(0==c.gcd(r).compareTo(e.ONE)){this.n=this.p.multiply(this.q),this.d=r.modInverse(c),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(u),this.coeff=this.q.modInverse(this.p);break}}},E.prototype.decrypt=function(e){var t=P(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){for(var n=e.toByteArray(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=t-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var s="";++i<n.length;){var r=255&n[i];r<128?s+=String.fromCharCode(r):191<r&&r<224?(s+=String.fromCharCode((31&r)<<6|63&n[i+1]),++i):(s+=String.fromCharCode((15&r)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return s}(n,this.n.bitLength()+7>>3)};var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V="=";E.prototype.parseKey=function(e){e=this.prepareKey(e);var t=this.structure(),n=0,i=null,s=null,r=0;for(var a in t)t.hasOwnProperty(a)&&((i=t[a]).hasOwnProperty("offset")&&(n+=2*i.offset),r="string"==typeof i.length?this[i.length]:i.length,r*=2,s=e.substr(n,r),i.hasOwnProperty("type")&&("int"==i.type?s=parseInt(s,16):"bigint"==i.type&&(s=P(s,16))),n+=r,this[a]=s)},E.prototype.char64ToHex=function(e){var t="";e=C(e);for(var n=0;n<e.length;++n){var i=e.charCodeAt(n).toString(16);1===i.length&&(i="0"+i),t+=i}return t},E.prototype.prepareKey=function(e){var t=(e=e.replace(/^\s+|\s+$/g,"")).split(/\r?\n/);return"-----BEGIN"==t[0].substring(0,10)&&(t=t.slice(1,t.length-1)),e=t.join(""),this.char64ToHex(e)},E.prototype.getBaseKey=function(){var e="",t=this.structure(),n=null,i=null,s=0;for(var r in t)t.hasOwnProperty(r)&&(n=t[r]).variable&&((i=this[r].toString(16)).length%2&&(i="0"+i),n.hasOwnProperty("padded")&&n.padded&&(i="00"+i),(s=(s=i.length/2).toString(16)).length%2&&(s="0"+s),n.hasOwnProperty("extraspace")&&(e+=s),e+=s,e+=i,e+="02");return e.slice(0,-2)},E.prototype.wordwrap=function(e,t){if(!e)return e;var n="(.{1,"+(t=t||64)+"})( +|$\n?)|(.{1,"+t+"})";return e.match(new RegExp(n,"g")).join("\n")},E.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n",t="3082025e02010002";return t+=this.getBaseKey(),e+=this.wordwrap(A(t))+"\n",e+="-----END RSA PRIVATE KEY-----"},E.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n",t="30819f300d06092a864886f70d010101050003818d0030818902";return t+=this.getBaseKey(),e+=this.wordwrap(A(t))+"\n",e+="-----END PUBLIC KEY-----"};var K=function(e){E.call(this),e&&this.parseKey(e)};((K.prototype=new E).constructor=K).prototype.structure=function(){return{header:{length:4},versionlength:{length:1,offset:1,type:"int"},version:{length:"versionlength",type:"int"},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",variable:!0},d_length:{length:1,offset:2,type:"int"},d:{length:"d_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},p_length:{length:1,offset:1,type:"int"},p:{length:"p_length",type:"bigint",variable:!0,padded:!0},q_length:{length:1,offset:1,type:"int"},q:{length:"q_length",type:"bigint",variable:!0,padded:!0},dmp1_length:{length:1,offset:1,type:"int"},dmp1:{length:"dmp1_length",type:"bigint",variable:!0},dmq1_length:{length:1,offset:1,type:"int"},dmq1:{length:"dmq1_length",type:"bigint",variable:!0,padded:!0},coeff_length:{length:1,offset:1,type:"int"},coeff:{length:"coeff_length",type:"bigint",variable:!0,padded:!0}}};var W=function(e){E.call(this),e&&("string"==typeof e?this.parseKey(e):e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&(this.n=e.n,this.e=e.e))};((W.prototype=new E).constructor=W).prototype.structure=function(){return{header:{length:25},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",variable:!0}}};var j=function(){this.privkey=null,this.pubkey=null};return j.prototype.setPrivateKey=function(e){this.privkey=new K(e),this.pubkey=new W(this.privkey)},j.prototype.setPublicKey=function(e){this.pubkey=new W(e)},j.prototype.decrypt=function(e){return!!this.privkey&&this.privkey.decrypt(T(e))},j.prototype.encrypt=function(e){var t=this.pubkey||this.privkey;return!!t&&A(t.encrypt(e))},j.prototype.getPrivateKey=function(){return this.privkey||(this.privkey=new K,this.privkey.generate(1024,"010001"),this.pubkey=new W(this.privkey)),this.privkey.getPrivateKey()},j.prototype.getPublicKey=function(){return this.pubkey||(this.pubkey=new W,this.pubkey.generate(1024,"010001")),this.pubkey.getPublicKey()},function(e){var t=new j;return t.setPublicKey(i.RSA_PUBLIC_KEY),t.encrypt(e)}}(),t.exports=s.encrypt},{17:17}],26:[function(e,t,n){var i=i||{},s="undefined";i.parseBoolean=function(e,t){return t=t||!1,e?"0"!=e:t},i.parseInteger=function(e,t){return null==e||isNaN(e)?t||0:parseInt(e)},i.parseLong=function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},i.toString=function(e){if(typeof e==s)return s;if("string"==typeof e)return e;if(e instanceof Array)return e.join(",");var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t||e.toString()},t.exports.parseBoolean=i.parseBoolean,t.exports.parseInteger=i.parseInteger,t.exports.parseLong=i.parseLong,t.exports.toString=i.toString},{}],27:[function(e,t,n){var i=e(19),s="undefined",r=e(24);t.exports=function(){var e=this,t=typeof encodeURIComponent!==s?encodeURIComponent:escape,n=typeof decodeURIComponent!==s?decodeURIComponent:unescape,a="cs_dir_",o="cs_file_",u=typeof localStorage!==s?localStorage:null,c={},l="|",f=u&&t&&n;r.extend(e,{dir:function(e){if(!f)return null;var t=a+e,i=c[t];if(i)return i.slice();var s=u.getItem(t);if(s){i=[];for(var r=0,o=(s=s.split(l)).length;r<o;r++)0<s[r].length&&i.push(n(s[r]));return(c[t]=i).slice()}return null},append:function(t,n,i){if(f){var s=e.read(t,n);s?s+=i:s=i,e.write(t,n,s)}},write:function(n,s,r){if(f){var p,g=e.dir(n);g||(p=a+n,"function"==typeof u.setItem?u.setItem(p,""):u[p]="",c[p]=[],g=[]),-1==i.indexOf(s,g)&&function(e,n){var i=a+e;try{"function"==typeof u.setItem?u.setItem(i,u.getItem(i)+l+t(n)):u[i]=u.getItem(i)+l+t(n)}catch(e){}c[i].push(n)}(n,s),function(e,t,n){try{"function"==typeof u.setItem?u.setItem(o+e+t,n):u[o+e+t]=n}catch(e){}}(n,s,r)}},deleteFile:function(n,s){if(!f)return!1;var r=e.dir(n);return!!r&&-1!=i.indexOf(s,r)&&(function(e,n){var s=a+e,r=c[s];r.splice(i.indexOf(n,r),1);for(var f=[],p=0,g=r.length;p<g;p++)f.push(t(r[p]));try{"function"==typeof u.setItem?u.setItem(s,f.join(l)):u[s]=f.join(l),"function"==typeof u.removeItem?u.removeItem(o+e+n):delete u[o+e+n]}catch(e){}}(n,s),!0)},read:function(t,n){if(!f)return null;var s=e.dir(t);return s?-1==i.indexOf(n,s)?null:function(e,t){try{return"function"==typeof u.getItem?u.getItem(o+e+t):u[o+e+t]}catch(e){}}(t,n):null}})}},{19:19,24:24}],28:[function(e,t,n){function i(){p=typeof FileSystem!=l?new FileSystem:null,g=typeof curWidget!=l?curWidget.id:null,typeof sf!==l&&(u=o=function(e,t){sf.core.localData(e,t)}),null==p||typeof p.isValidCommonPath==l||p.isValidCommonPath(g)||p.createCommonDir(g),h=!0}function s(e){return e.replace(/^\s+|\s+$/g,"")}function r(e,t){var n=m[e];n?n.push(t):n=m[e]=[t],u(d+e,n.join(_))}function a(e,t){var n=m[e],i=c.indexOf(t,n);0<=i&&(n.splice(i,1),u(d+e,0===n.length?null:n.join(_)))}var o,u,c=e(19),l="undefined",f=e(24),p=null,g=null,d="cs_dir_",_="|",m={},h=!1;t.exports=function(){f.extend(this,{dir:function(e){if(h||i(),p.isValidCommonPath(g+"/"+e)){var t=m[e];if(!t){if(!(t=o(d+e)))return null;t=m[e]=t.split(_)}for(var n=t.slice(),s=0,r=n.length;s<r;s++){var u=t[s];p.isValidCommonPath(g+"/"+e+"/"+u)||a(e,u)}return n}return null},append:function(e,t,n){h||i();var a=g+"/"+e;p.isValidCommonPath(a)||p.createCommonDir(a),p.isValidCommonPath(a+"/"+t)||r(e,t);var o=p.openCommonFile(a+"/"+t,"a");o.writeLine(s(n)),p.closeCommonFile(o)},write:function(e,t,n){h||i();var a=g+"/"+e;p.isValidCommonPath(a)||p.createCommonDir(a),p.isValidCommonPath(a+"/"+t)||r(e,t);var o=p.openCommonFile(a+"/"+t,"w");o.writeLine(s(n)),p.closeCommonFile(o)},deleteFile:function(e,t){h||i();var n=g+"/"+e;return!!p.isValidCommonPath(n)&&(a(e,t),p.deleteCommonFile(n+"/"+t))},read:function(e,t){h||i();var n=g+"/"+e;if(!p.isValidCommonPath(n))return null;var s=p.openCommonFile(n+"/"+t,"r");if(s){for(var r,o=[];r=s.readLine();)o.push(r);return p.closeCommonFile(s),o.join("\n")}return a(e,t),""}})}},{19:19,24:24}],29:[function(e,t,n){var i=e(24);t.exports=function(){i.extend(this,{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}})}},{24:24}],30:[function(e,t,n){function i(){null==g&&(d=typeof atv!=l&&typeof atv.device!=l&&atv.device.idForVendor?(g=s.safeGet(atv.device.idForVendor,""),"62"):(g=+new Date+~~(1e3*Math.random()),"72"),_=null)}var s=e(21),r=e(17),a=e(49).atvHttpGet,o=e(49).atvHttpPost(),u=e(45),c=e(29),l="undefined",f=r.UNKNOWN_VALUE,p=r.UNKNOWN_RESOLUTION,g=null,d=null,_=null,m={PLATFORM:"atv",httpGet:a,httpPost:o,Storage:u,IO:c,getCrossPublisherId:function(){return i(),_},getAppName:function(){return f},getAppVersion:function(){return f},getVisitorId:function(){return i(),g},getVisitorIdSuffix:function(){return d},getDeviceModel:function(){return"Apple TV"},getPlatformVersion:function(){return typeof atv!=l&&typeof atv.device!=l&&s.safeGet(atv.device.softwareVersion,f)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return typeof atv!=l&&typeof atv.device!=l&&s.safeGet(atv.device.softwareVersion,f)},getDisplayResolution:function(){return typeof atv.device!=l&&typeof atv.device.screenFrame!=l&&typeof atv.device.screenFrame.height!=l&&typeof atv.device.screenFrame.width!=l?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:p},getLanguage:function(){return typeof atv!=l&&typeof atv.device!=l&&s.safeGet(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(e,t){return typeof atv!=l&&typeof atv.setTimeout!=l&&atv.setTimeout(e,t)},setInterval:function(e,t){return typeof atv!=l&&typeof atv.setInterval!=l&&atv.setInterval(e,t)},clearTimeout:function(e){return typeof atv!=l&&typeof atv.clearTimeout!=l&&atv.clearTimeout(e)},clearInterval:function(e){return typeof atv!=l&&typeof atv.clearInterval!=l&&atv.clearInterval(e)},isCompatible:function(){return typeof window==l&&typeof atv!=l},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=m},{17:17,21:21,29:29,45:45,49:49}],31:[function(e,t,n){var i=e(21),s=e(20),r=e(17),a=e(50),o=e(48).ajaxHttpPost,u=e(46),c=e(27),l="undefined",f=r.UNKNOWN_VALUE,p=r.UNKNOWN_RESOLUTION,g={PLATFORM:"chromecast",httpGet:a,httpPost:o,Storage:u,IO:c,getCrossPublisherId:function(){return null},getAppName:function(){return typeof ns_.crm===l?f:ns_.crm.getApplicationData().name},getAppVersion:function(){return f},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return"chromecast"},getPlatformVersion:function(){return cast.receiver.VERSION+"-"+i.safeGet(s.getBrowserName()+" "+s.getBrowserFullVersion(),f)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var e=typeof window!=l&&i.exists(window.screen)&&i.exists(window.screen.availWidth)?window.screen.availWidth:0,t=typeof window!=l&&i.exists(window.screen)&&i.exists(window.screen.availHeight)?window.screen.availHeight:0;return 0<e&&0<t?e+"x"+t:p},getLanguage:function(){return typeof window!=l&&i.exists(window.navigator)&&i.safeGet(window.navigator.language,"")||f},getPackageName:function(){return f},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!==l&&!i.isEmpty(window.cast)&&!i.isEmpty(cast.receiver)},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=g},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],32:[function(e,t,n){t.exports={SmartTV:0,Netcast:1,Cordova:2,Trilithium:3,AppleTV:4,Chromecast:5,Xbox:6,webOS:7,tvOS:8,nodejs:9,html5:10,JSMAF:11,Skeleton:12}},{}],33:[function(e,t,n){function i(){return typeof device!=p&&typeof device.available!=p&&device.available&&typeof window!=p&&typeof window.navigator!=p}function s(){if(null==_){var e=i()&&typeof device!=p&&r.exists(device.uuid)&&0<device.uuid.length?device.uuid:null;h=null!=e?(m="31",_=e):(_=+new Date+~~(1e3*Math.random()),m="72",null)}}var r=e(21),a=e(17),o=e(50),u=e(48).ajaxHttpGet,c=e(48).ajaxHttpPost,l=e(46),f=e(27),p="undefined",g=a.UNKNOWN_VALUE,d=a.UNKNOWN_RESOLUTION,_=null,m=null,h=null,v={PLATFORM:"cordova",httpGet:function(){return typeof Image!=p?o.apply(this,arguments):u.apply(this,arguments)},httpPost:c,Storage:l,IO:f,getCrossPublisherId:function(){return s(),h},getAppName:function(){return g},getAppVersion:function(){return g},getVisitorId:function(){return s(),_},getVisitorIdSuffix:function(){return m},getDeviceModel:function(){return typeof device!=p&&r.exists(device.model)||g},getPlatformVersion:function(){return typeof device!=p&&r.exists(device.cordova)&&device.cordova||g},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof device!=p&&r.exists(device.platform)&&"cordova"+device.platform||"cordova"},getRuntimeVersion:function(){return typeof device!=p&&r.exists(device.version)||g},getDisplayResolution:function(){var e=typeof window!=p&&r.exists(window.screen)&&r.exists(window.screen.availWidth)&&window.screen.availWidth||0,t=typeof window!=p&&r.exists(window.screen)&&r.exists(window.screen.availHeight)&&window.screen.availHeight||0;return 0<e&&0<t?e+"x"+t:d},getLanguage:function(){return typeof window!=p&&r.exists(window.navigator)&&r.exists(window.navigator.language)&&window.navigator.language||g},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==p||!r.exists(window.navigator)||!r.exists(window.navigator.onLine)||window.navigator.onLine},isCompatible:i,isConnectionSecure:function(){return typeof document!=p&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=v},{17:17,21:21,27:27,46:46,48:48,50:50}],34:[function(e,t,n){var i=e(21),s=e(20),r=e(17),a=e(50),o=e(48).ajaxHttpGet,u=e(48).ajaxHttpPost,c=e(46),l=e(27),f="undefined",p=typeof document!=f&&document||void 0,g=r.UNKNOWN_VALUE,d=r.UNKNOWN_RESOLUTION,_={PLATFORM:"html5",httpGet:function(){return typeof Image!=f?a.apply(this,arguments):o.apply(this,arguments)},httpPost:u,Storage:c,IO:l,getCrossPublisherId:function(){return null},getAppName:function(){return p&&i.exists(p.title)&&p.title||g},getAppVersion:function(){return g},getVisitorId:function(){return this.getDeviceModel()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return typeof window!=f&&i.exists(window.navigator)&&i.safeGet(window.navigator.platform,"")||""},getPlatformVersion:function(){return i.safeGet(s.getBrowserName()+" "+s.getBrowserFullVersion(),"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var e,t;typeof window!=f&&window.screen&&window.screen.width&&(e=window.screen.width),typeof window!=f&&window.screen&&window.screen.width&&(t=window.screen.height);var n=1;return typeof window!=f&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<e&&0<t?(e*=n)+"x"+(t*=n):d},getApplicationResolution:function(){var e,t;typeof window!=f&&window.innerWidth&&(e=window.innerWidth),typeof window!=f&&window.innerHeight&&(t=window.innerHeight);var n=1;return typeof window!=f&&window.devicePixelRatio&&(n=window.devicePixelRatio),0<e&&0<t?(e*=n)+"x"+(t*=n):d},getLanguage:function(){return typeof window!=f&&i.exists(window.navigator)&&i.safeGet(window.navigator.language,"")||g},getPackageName:function(){return""},isConnectionAvailable:function(){return typeof window==f||!i.exists(window.navigator)||!i.exists(window.navigator.onLine)||window.navigator.onLine},isCompatible:function(){try{return typeof window!==f&&i.exists(window.navigator)&&i.exists(window.localStorage)&&i.exists(p)&&!!p.createElement("canvas").getContext}catch(e){return!1}},isConnectionSecure:function(){return!!p&&"s"===p.location.href.charAt(4)}};t.exports=_},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],35:[function(e,t,n){function i(){if(null==d)if(typeof jsmaf!=f&&r.exists(jsmaf.hardwareId)){var e=jsmaf.hardwareId;_="31",m=d=e}else d=+new Date+~~(1e3*Math.random()),_="72",m=null}function s(){return typeof jsmaf==f||!r.exists(jsmaf.networkStatus)||"connected"==jsmaf.networkStatus}var r=e(21),a=e(17),o=e(48).ajaxHttpGet,u=e(48).ajaxHttpPost,c=e(46),l=e(27),f="undefined",p=a.UNKNOWN_VALUE,g=a.UNKNOWN_RESOLUTION,d=null,_=null,m=null,h={PLATFORM:"jsmaf",httpGet:o,httpPost:u,Storage:c,IO:l,getCrossPublisherId:function(){return i(),m},getAppName:function(){return p},getAppVersion:function(){return p},getVisitorId:function(){return i(),d},getVisitorIdSuffix:function(){return i(),_},getDeviceModel:function(){return typeof jsmaf!=f&&r.exists(jsmaf.platform)?jsmaf.platform:p},getPlatformName:function(){return"js"},getPlatformVersion:function(){return p},getRuntimeName:function(){return"jsmaf"},getRuntimeVersion:function(){return typeof jsmaf!=f&&r.exists(jsmaf.version)?jsmaf.version:p},getDisplayResolution:function(){return typeof jsmaf!=f&&r.exists(jsmaf.screenWidth)&&r.exists(jsmaf.screenHeight)?jsmaf.screenWidth+"x"+jsmaf.screenHeight:g},getLanguage:function(){return typeof jsmaf!=f&&r.exists(jsmaf.locale)?jsmaf.locale:p},getPackageName:function(){return null},isConnectionAvailable:s,isCompatible:function(){return typeof jsmaf!=f},setTimeout:function(e,t){return jsmaf.setTimeout(e,t)},setInterval:function(e,t){return jsmaf.setInterval(e,t)},clearTimeout:function(e){return jsmaf.clearTimeout(e)},clearInterval:function(e){return jsmaf.clearInterval(e)},getDeviceArchitecture:function(){if(typeof jsmaf==f||!r.exists(jsmaf.platform))var e=p;return"ps3"==jsmaf.platform?e="cell":"ps4"==jsmaf.platform?e="ps4":"vita"==jsmaf.platform&&(e="vita"),e},getConnectionType:function(){return s()&&typeof jsmaf!=f&&r.exists(jsmaf.connectionType)?"wired"==jsmaf.connectionType?"eth":"wireless"==jsmaf.connectionType?"wifi":"phone"==jsmaf.connectionType?"wwan":p:p},getDeviceJailBrokenFlag:function(){return p},isConnectionSecure:function(){return typeof document!=f&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=h},{17:17,21:21,27:27,46:46,48:48}],36:[function(e,t,n){var i=e(50),s=e(52).voidHttpPost,r=e(46),a=e(29),o=e(17),u=o.UNKNOWN_VALUE,c=o.UNKNOWN_RESOLUTION,l={PLATFORM:"generic",httpGet:i,httpPost:s,Storage:r,IO:a,onDataFetch:function(e){e()},getCrossPublisherId:function(){return null},getAppName:function(){return u},getAppVersion:function(){return u},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return u},getPlatformVersion:function(){return u},getPlatformName:function(){return"js"},getRuntimeName:function(){return u},getRuntimeVersion:function(){return u},getDisplayResolution:function(){return c},getApplicationResolution:function(){return c},getLanguage:function(){return u},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},autoDetect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t){return setTimeout(e,t)},setInterval:function(e,t){return setInterval(e,t)},clearTimeout:function(e){return clearTimeout(e)},clearInterval:function(e){return clearInterval(e)},getDeviceArchitecture:function(){return u},getConnectionType:function(){return u},getDeviceJailBrokenFlag:function(){return u},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}};t.exports=l},{17:17,29:29,46:46,50:50,52:52}],37:[function(e,t,n){function i(){if(null==d){var e=function(){if(typeof ns_!=f&&s.exists(ns_.netcastDevice)){if(s.exists(ns_.netcastDevice.net_macAddress)&&s.isNotEmpty(ns_.netcastDevice.net_macAddress))return ns_.netcastDevice.net_macAddress;if(s.exists(ns_.netcastDevice.serialNumber)&&s.isNotEmpty(ns_.netcastDevice.serialNumber))return ns_.netcastDevice.serialNumber}return null}();m=null!=e?(_="31",d=e):(d=+new Date+~~(1e3*Math.random()),_="72",null)}}var s=e(21),r=e(17),a=e(50),o=e(48).ajaxHttpGet,u=e(52).voidHttpPost,c=e(46),l=e(29),f="undefined",p=r.UNKNOWN_VALUE,g=r.UNKNOWN_RESOLUTION,d=null,_=null,m=null,h={PLATFORM:"netcast",httpGet:function(){return typeof Image!=f?a.apply(this,arguments):o.apply(this,arguments)},httpPost:u,Storage:c,IO:l,getCrossPublisherId:function(){return i(),m},getAppName:function(){return p},getAppVersion:function(){return p},getVisitorId:function(){return i(),d},getVisitorIdSuffix:function(){return _},getDeviceModel:function(){return typeof ns_!=f&&s.exists(ns_.netcastDevice)&&s.exists(ns_.netcastDevice.modelName)&&ns_.netcastDevice.modelName||p},getPlatformVersion:function(){return typeof ns_!=f&&s.exists(ns_.netcastDevice)&&s.safeGet(ns_.netcastDevice.version,p)||p},getPlatformName:function(){return"js"},getRuntimeName:function(){return typeof ns_!=f&&s.exists(ns_.netcastDevice)?"lg-ott"+s.safeGet(ns_.netcastDevice.platform,p):p},getRuntimeVersion:function(){if(typeof ns_!=f&&s.exists(ns_.netcastDevice)){if(s.exists(ns_.netcastDevice.version))return ns_.netcastDevice.version;if(s.exists(ns_.netcastDevice.hwVersion))return ns_.netcastDevice.hwVersion;if(s.exists(ns_.netcastDevice.swVersion))return ns_.netcastDevice.swVersion}return p},getDisplayResolution:function(){if(typeof ns_!=f&&s.exists(ns_.netcastDevice)&&s.exists(ns_.netcastDevice.osdResolution))switch(ns_.netcastDevice.osdResolution){case 0:return"640x480";case 1:return"720x576";case 2:return"1280x720";case 3:return"1920x1080";case 4:return"1366x768"}return g},getLanguage:function(){return typeof ns_!=f&&s.exists(ns_.netcastDevice)&&s.safeGet(ns_.netcastDevice.tvLanguage2,s.safeGet(window.navigator.language))||p},getPackageName:function(){return null},isConnectionAvailable:function(){return typeof ns_.netcastDevice===f||!!ns_.netcastDevice.net_isConnected},getConnectionType:function(){if(typeof ns_.netcastDevice!==f){if(0===ns_.netcastDevice.networkType)return"eth";if(1===ns_.netcastDevice.networkType)return"wifi"}return p},isCompatible:function(){return typeof ns_!=f&&typeof ns_.netcastDevice!=f&&typeof ns_.netcastDevice.version!=f&&typeof window!=f&&typeof window.navigator!=f},isConnectionSecure:function(){return typeof document!=f&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=h},{17:17,21:21,29:29,46:46,48:48,50:50,52:52}],38:[function(e,i,s){(function(t){function r(){null==_&&(_=+new Date+~~(1e3*Math.random()),m="72",h=null)}function a(t){var n=this,i=0;n.send=function(s){e("http").get(s,function(e){var s=e.statusCode;if((302==s||301==s)&&i<20&&e.headers&&e.headers.location)return i++,void n.send(e.headers.location);t(s)}).on("error",function(){t()})}}var o=e(21),u=e(17),c=e(52).voidHttpPost,l=e(46),f=e(29),p="undefined",g=u.UNKNOWN_VALUE,d=u.UNKNOWN_RESOLUTION,_=null,m=null,h=null,v={PLATFORM:"nodejs",httpGet:function(e,t){new a(t).send(e)},httpPost:c,Storage:l,IO:f,getCrossPublisherId:function(){return r(),h},getVisitorId:function(){return r(),_},getVisitorIdSuffix:function(){return m},getPlatformVersion:function(){var t=e("os");return[t.type(),t.platform(),t.release()].join(";")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"nodejs"},getRuntimeVersion:function(){return typeof n===p||o.isEmpty(n.version)?g:n.version},getDisplayResolution:function(){return d},isCompatible:function(){return typeof window===p&&typeof i!==p&&typeof s!==p&&typeof t!==p&&typeof n!==p&&o.exists(n.version)},isConnectionSecure:function(){return!1}};i.exports=v}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{17:17,21:21,29:29,46:46,52:52,undefined:void 0}],39:[function(e,t,n){var i=e(24),s=e(32),r=e(36),a=e(40),o=e(37),u=e(43),c=e(33),l=e(41),f=e(30),p=e(44),g=e(31),d=e(42),_=e(35),m=e(38),h=e(34),v=!1;r.autoDetect=function(){v||(v=!0,a.isCompatible()?i.extend(r,a):o.isCompatible()?i.extend(r,o):u.isCompatible()?i.extend(r,u):c.isCompatible()?i.extend(r,c):l.isCompatible()?i.extend(r,l):f.isCompatible()?i.extend(r,f):p.isCompatible()?i.extend(r,p):g.isCompatible()?i.extend(r,g):d.isCompatible()?i.extend(r,d):_.isCompatible()?i.extend(r,_):m.isCompatible()?i.extend(r,m):h.isCompatible()&&i.extend(r,h))},r.autoSelect=r.autoDetect,r.setPlatformAPI=function(e){switch(v=!0,e){case s.SmartTV:i.extend(r,a);break;case s.Netcast:i.extend(r,o);break;case s.Cordova:i.extend(r,c);break;case s.Trilithium:i.extend(r,l);break;case s.AppleTV:i.extend(r,f);break;case s.Chromecast:i.extend(r,g);break;case s.Xbox:i.extend(r,p);break;case s.webOS:i.extend(r,u);break;case s.tvOS:i.extend(r,d);break;case s.JSMAF:i.extend(r,_);break;case s.nodejs:i.extend(r,m);break;case s.html5:i.extend(r,h);break;case s.Skeleton:break;default:v=!1}}},{24:24,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,41:41,42:42,43:43,44:44}],40:[function(e,t,n){function i(){if(null==g){var e=function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return null;var e=sf.core.sefplugin("NNAVI");if("function"!=typeof e.Open||"function"!=typeof e.Execute)return null;e.Open("Network","1.001","Network");var t=e.Execute("GetMAC","0");if(!s.isEmpty(t))return t;if(t=e.Execute("GetMAC","1"),!s.isEmpty(t))return t;var n=e.Execute("GetDeviceID");return s.isEmpty(n)?null:n}();_=null!=e?(d="31",g=e):(g=+new Date+~~(1e3*Math.random()),d="72",null)}}var s=e(21),r=e(17),a=e(48).ajaxHttpGet,o=e(52).voidHttpPost,u=e(47),c=e(28),l="undefined",f=r.UNKNOWN_VALUE,p=r.UNKNOWN_RESOLUTION,g=null,d=null,_=null,m={PLATFORM:"smarttv",httpGet:a,httpPost:o,Storage:u,IO:c,getCrossPublisherId:function(){return i(),_},getAppName:function(){return f},getAppVersion:function(){return typeof sf!=l&&s.exists(sf.env)&&s.exists(sf.env.getAppVersion)&&sf.env.getAppVersion()||f},getVisitorId:function(){return i(),g},getVisitorIdSuffix:function(){return d},getDeviceModel:function(){return typeof sf!=l&&s.exists(sf.core)&&s.exists(sf.core.getEnvValue)&&sf.core.getEnvValue("modelid")||f},getPlatformVersion:function(){return"2.0.0"},getPlatformName:function(){return"js"},getRuntimeName:function(){if(typeof sf!==l&&s.exists(sf.env)&&s.exists(sf.env.getProductType)&&s.exists(sf.env.PRODUCTTYPE_TV)&&s.exists(sf.env.PRODUCTTYPE_MONITOR)&&s.exists(sf.env.PRODUCTTYPE_BD)){var e=[];return e[sf.env.PRODUCTTYPE_TV]="samsung-smarttv-tv",e[sf.env.PRODUCTTYPE_MONITOR]="samsung-smarttv-monitor",e[sf.env.PRODUCTTYPE_BD]="samsung-smarttv-bd",e[sf.env.getProductType()]}},getRuntimeVersion:function(){return typeof sf!=l&&s.exists(sf.env)&&s.exists(sf.env.getFirmwareVer)&&sf.env.getFirmwareVer().version},getDisplayResolution:function(){if(typeof sf===l||!s.exists(sf.env)||!s.exists(sf.env.getScreenSize))return p;var e=sf.env.getScreenSize();return e.width+"x"+e.height},getLanguage:function(){if(typeof sf!==l&&s.exists(sf.env)&&s.exists(sf.env.getLanguageCode))return sf.env.getLanguageCode()},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window!=l&&typeof window.navigator!=l&&typeof sf!=l&&typeof sf.env!=l},getConnectionType:function(){if("object"!=typeof sf||"object"!=typeof sf.core||"function"!=typeof sf.core.sefplugin)return f;var e=sf.core.sefplugin("NETWORK");if("function"!=typeof e.Open||"function"!=typeof e.Execute)return f;e.Open("Network","1.001","Network");var t=e.Execute("GetActiveType");return 0===t?"wired":1===t?"wireless":f},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=m},{17:17,21:21,28:28,47:47,48:48,52:52}],41:[function(e,t,n){function i(){if(null==g){var e=s.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:s.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null;_=null!=e?(d="31",g=e):(g=+new Date+~~(1e3*Math.random()),d="72",null)}}var s=e(21),r=e(17),a=e(51),o=e(52),u=e(46),c=e(29),l="undefined",f=r.UNKNOWN_VALUE,p=r.UNKNOWN_RESOLUTION,g=null,d=null,_=null,m={PLATFORM:"trilithium",httpGet:a,httpPost:o,Storage:u,IO:c,getCrossPublisherId:function(){return i(),_},getAppName:function(){return s.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:f},getAppVersion:function(){return s.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:f},getVisitorId:function(){return i(),g},getVisitorIdSuffix:function(){return d},getDeviceModel:function(){return s.safeGet(engine.stats.device.platform,f)},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return s.safeGet(engine.stats.device.version,f)},getDisplayResolution:function(){return typeof screen!=l&&typeof screen.height!=l&&typeof screen.width!=l?screen.height+"x"+screen.width:p},getLanguage:function(){return f},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof engine!=l&&typeof engine.stats!=l},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=m},{17:17,21:21,29:29,46:46,51:51,52:52}],42:[function(e,t,n){function i(){null==g&&(d=s.isEmpty(Device.vendorIdentifier)?(g=+new Date+~~(1e3*Math.random()),"72"):(g=Device.vendorIdentifier,"62"),_=g)}var s=e(21),r=e(17),a=e(48).ajaxHttpGet,o=e(48).ajaxHttpPost,u=e(46),c=e(27),l="undefined",f=r.UNKNOWN_VALUE,p=r.UNKNOWN_RESOLUTION,g=null,d=null,_=null,m={PLATFORM:"tvos",httpGet:a,httpPost:o,Storage:u,IO:c,getCrossPublisherId:function(){return i(),_},getAppName:function(){return Device.appIdentifier},getAppVersion:function(){return Device.appVersion},getVisitorId:function(){return i(),g},getVisitorIdSuffix:function(){return d},getDeviceModel:function(){return Device.productType},getPlatformVersion:function(){return Device.systemVersion},getPlatformName:function(){return"js"},getRuntimeName:function(){return"tvos"},getRuntimeVersion:function(){return Device.systemVersion},getDisplayResolution:function(){return p},getLanguage:function(){return Settings.language},getPackageName:function(){return f},isConnectionAvailable:function(){return!0},isCompatible:function(){return typeof window===l&&typeof Device!==l&&"Apple TV"===Device.model},isConnectionSecure:function(){return!0}};t.exports=m},{17:17,21:21,27:27,46:46,48:48}],43:[function(e,t,n){var i,s,r,a=e(21),o=e(17),u=e(50),c=e(48).ajaxHttpPost,l=e(46),f=e(27),p="undefined",g=o.UNKNOWN_VALUE,d=o.UNKNOWN_RESOLUTION,_={PLATFORM:"webos",httpGet:u,httpPost:c,Storage:l,IO:f,onDataFetch:function(e,t){var n,a,o,u=3,c=function(){0==--u&&e()};n=c,webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","firmwareVersion","UHD","sdkVersion"]},onSuccess:function(e){e.returnValue&&(i=e),n()},onFailure:function(){n()}}),a=c,webOS.service.request("luna://com.webos.settingsservice",{method:"getSystemSettings",parameters:{category:"option"},onSuccess:function(e){e.returnValue&&(s=e),a()},onFailure:function(){a()}}),o=c,webOS.service.request("luna://com.webos.service.connectionmanager",{method:"getStatus",onSuccess:function(e){e.returnValue&&(r=e),o()},onFailure:function(){o()}})},getCrossPublisherId:function(){return typeof webOS!==p&&webOS.device&&webOS.device.serialNumber&&"Unknown"!=webOS.device.serialNumber?webOS.device.serialNumber:null},getAppName:function(){return g},getAppVersion:function(){return g},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return i&&i.modelName?i.modelName:g},getPlatformVersion:function(){return i&&i.sdkVersion?i.sdkVersion:g},getPlatformName:function(){return"js"},getRuntimeName:function(){return"webOS"},getRuntimeVersion:function(){return typeof webOS!==p&&webOS.device?webOS.device.platformVersion:g},getDisplayResolution:function(){var e=0;typeof webOS!==p&&webOS.device?e=webOS.device.screenWidth:typeof window!=p&&window.screen&&(e=window.screen.availWidth);var t=0;return typeof webOS!==p&&typeof webOS.device!==p?t=webOS.device.screenHeight:typeof window!=p&&window.screen&&(t=window.screen.availHeight),0<e&&0<t?e+"x"+t:d},getLanguage:function(){return s&&s.locales&&(s.locales.UI||s.locales.TV)||g},getPackageName:function(){return g},isConnectionAvailable:function(){return!r||!r.isInternetConnectionAvailable||r.isInternetConnectionAvailable},isCompatible:function(){return typeof window!==p&&!a.isEmpty(window.webOS)&&!a.isEmpty(webOS.service)&&!a.isEmpty(webOS.service.request)},getConnectionType:function(){if(r&&(r.wired||r.wifi)){if("connected"===r.wired.state&&"yes"===r.wired.onInternet)return"eth";if("connected"===r.wifi.state&&"yes"===r.wifi.onInternet)return"wifi"}return g},isConnectionSecure:function(){return typeof document!=p&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=_},{17:17,21:21,27:27,46:46,48:48,50:50}],44:[function(e,t,n){function i(){typeof Windows!=l&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.addEventListener("currentuserchanged",function(){h=!0}),s(),v=!0}function s(){var e=null;if(typeof Windows!=l&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser){var t=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser;null!=t&&!t.isGuest&&t.isSignedIn&&(e=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId)}_=e}var r=e(17),a=e(53).xboxHttpGet,o=e(53).xboxHttpPost,u=e(46),c=e(27),l="undefined",f=r.UNKNOWN_VALUE,p=r.UNKNOWN_RESOLUTION,g=null,d=null,_=null,m=!1,h=!1,v=!1,y={PLATFORM:"xbox",httpGet:a,httpPost:o,Storage:u,IO:c,getCrossPublisherId:function(){return v||i(),h&&s(),_},getAppName:function(){var e=f;return typeof Windows!=l&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(e=Windows.ApplicationModel.Package.current.id.name),e},getAppVersion:function(){var e=f;if(typeof Windows!=l&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.version){var t=Windows.ApplicationModel.Package.current.id.version;e=t.major+"."+t.minor+"."+t.build+"."+t.revision}return e},getVisitorId:function(){return m||function(){g=typeof Windows!=l&&Windows&&Windows.Xbox&&Windows.Xbox.System&&Windows.Xbox.System.Console&&Windows.Xbox.System.Console.applicationSpecificDeviceId?Windows.Xbox.System.Console.applicationSpecificDeviceId:this.getDeviceModel()+ +new Date+~~(1e3*Math.random()),d="72",m=!0}(),g},getVisitorIdSuffix:function(){return d},getDeviceModel:function(){return"xbox one"},getPlatformVersion:function(){var e=f;return typeof navigator!=l&&navigator&&navigator.userAgent&&navigator.userAgent.split(";").filter(function(e){return-1!=e.indexOf("Windows NT")}).forEach(function(t){e=t.substr(t.indexOf("Windows NT")+11,t.length-1)}),e},getPlatformName:function(){return"xbox"},getRuntimeName:function(){return"winjs"},getRuntimeVersion:function(){var e=f;return typeof Windows!=l&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.dependencies&&Windows.ApplicationModel.Package.current.dependencies.filter(function(e){return e&&e.id&&e.id.name&&-1!=e.id.name.indexOf("WinJS")&&e.id.version}).forEach(function(t){e=t.id.version.major+"."+t.id.version.minor+"."+t.id.version.build+"."+t.id.version.revision}),e},getDisplayResolution:function(){var e=p;if(typeof Windows!=l&&Windows&&Windows.Xbox&&Windows.Xbox.Graphics&&Windows.Xbox.Graphics.Display&&Windows.Xbox.Graphics.Display.DisplayConfiguration&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView()&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight){var t=Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode;e=t.rawWidth+"x"+t.rawHeight}return e},getApplicationResolution:function(){var e=p;return typeof window!=l&&window.innerWidth&&window.innerHeight&&(e=window.innerWidth+"x"+window.innerHeight),e},getLanguage:function(){var e=f;return typeof Windows!=l&&Windows&&Windows.System&&Windows.System.UserProfile&&Windows.System.UserProfile.GlobalizationPreferences&&Windows.System.UserProfile.GlobalizationPreferences.languages&&(e=Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0)),e},getPackageName:function(){var e=f;return typeof Windows!=l&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(e=Windows.ApplicationModel.Package.current.id.name),e},isConnectionAvailable:function(){return!(typeof Windows!=l&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel())||4==Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel()},isCompatible:function(){return typeof WinJS!=l&&WinJS&&typeof Windows!=l&&Windows&&Windows.Xbox},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return v||i(),h},getDeviceArchitecture:function(){var e="unknown";if(typeof Windows!=l&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.architecture)switch(Windows.ApplicationModel.Package.current.id.architecture){case 5:e="arm";break;case 11:e="neutral";break;case 9:e="x64";break;case 0:e="x86"}return e},getConnectionType:function(){var e=f;if(typeof Windows!=l&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType)switch(Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType){case 6:e="eth";break;case 71:e="wifi"}return e},getDeviceJailBrokenFlag:function(){return f},isConnectionSecure:function(){return typeof document!=l&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=y},{17:17,27:27,46:46,53:53}],45:[function(e,t,n){var i=e(24),s="undefined",r="cs_";t.exports=function(){var e=typeof atv!=s&&typeof atv.localStorage!=s&&atv.localStorage||null;i.extend(this,{get:function(t){return e&&t&&e.getItem(r+t)||null},set:function(t,n){e&&t&&(e[r+t]=n)},has:function(t){return e&&t&&null!=e.getItem(r+t)||!1},remove:function(t){e&&t&&e.removeItem(r+t)},clear:function(){}})}},{24:24}],46:[function(e,t,n){var i=e(24),s="cs_";t.exports=function(){var e;!function(){try{e="undefined"!=typeof localStorage?localStorage:null}catch(t){e=null}}(),i.extend(this,{get:function(t){try{return e&&"function"==typeof e.getItem?e.getItem(s+t):e?e[s+t]:e}catch(t){}},set:function(t,n){try{e&&"function"==typeof e.setItem?e.setItem(s+t,n):e&&(e[s+t]=n)}catch(t){}},has:function(t){try{return e&&"function"==typeof e.getItem?e.getItem(s+t):e?e[s+t]:e}catch(t){}},remove:function(t){try{e&&"function"==typeof e.removeItem?e.removeItem(s+t):e&&delete e[s+t]}catch(t){}},clear:function(){try{for(var t=0;e&&t<e.length;++t){var n=e.key(t);n.substr(0,s.length)===s&&("function"==typeof e.removeItem?e.removeItem(n):delete e[n])}}catch(t){}}})}},{24:24}],47:[function(e,t,n){var i,s,r=e(24),a="cs_";"undefined"!=typeof sf?s=i=function(e,t){sf.core.localData(e,t)}:(s=function(e,t){$.sf.setData(e,void 0===t?null:t)},i=function(e){return $.sf.getData(e)}),t.exports=function(){r.extend(this,{get:function(e){return i(a+e)},set:function(e,t){s(a+e,t)},has:function(e){return void 0!==i(a+e)},remove:function(e){s(a+e,null)}})}},{24:24}],48:[function(e,t,n){var i="undefined";n.ajaxHttpGet=function(e,t){if(typeof XMLHttpRequest!=i){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&(t&&t(n.status),n=null)},n.send()}else"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},n.ajaxHttpPost=function(e,t,n){if(typeof XMLHttpRequest!=i){var s=new XMLHttpRequest;s.open("POST",e,!0),s.onreadystatechange=function(){4===s.readyState&&(n&&n(s.status),s=null)},s.send(t)}else"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},{}],49:[function(e,t,n){var i="undefined";n.atvHttpGet=function(e,t){if(typeof atv!=i&&typeof XMLHttpRequest!=i){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4==n.readyState&&(t&&t(n.status),n=null)},n.send()}else typeof atv!=i&&"function"==typeof atv.setTimeout?t&&atv.setTimeout(t,0):t&&t()},n.atvHttpPost=function(e,t,n){if(typeof atv!=i&&typeof XMLHttpRequest!=i){var s=new XMLHttpRequest;s.open("POST",e,!0),s.onreadystatechange=function(){4===s.readyState&&(n&&n(s.status),s=null)},s.send(t)}else typeof atv!=i&&"function"==typeof atv.setTimeout?n&&atv.setTimeout(n,0):n&&n()}},{}],50:[function(e,t,n){t.exports=function(e,t){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}else"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},{}],51:[function(e,t,n){t.exports=function(e,t){"undefined"!=typeof engine?(engine.createHttpClient().createRequest("GET",e,null).start(),t&&setTimeout(t,0)):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()}},{}],52:[function(e,t,n){t.exports.voidHttpGet=function(e,t){"function"==typeof setTimeout?t&&setTimeout(function(){t(200)},0):t&&t(200)},t.exports.voidHttpPost=function(e,t,n){"function"==typeof setTimeout?n&&setTimeout(function(){n(200)},0):n&&n(200)}},{}],53:[function(e,t,n){var i="undefined";n.xboxHttpGet=function(e,t){typeof WinJS!=i&&typeof WinJS.xhr!=i?WinJS.xhr({url:e}).then(function(e){t&&t(e.status)},function(){t&&t()}):"function"==typeof setTimeout?t&&setTimeout(t,0):t&&t()},n.xboxHttpPost=function(e,t,n){typeof WinJS!=i&&typeof WinJS.xhr!=i?WinJS.xhr({type:"post",url:e,data:t,headers:{"Content-type":"application/xml"}}).then(function(e){n&&n(e.status)},function(){n&&n()}):"function"==typeof setTimeout?n&&setTimeout(n,0):n&&n()}},{}],54:[function(e,t,n){function i(){var e,t,n,i,c,l,f,p,g,d,_,m,h,v,y,S,b,P,E,A,T,I,k,C,L,w,N,D,O,x,R,B,U,M,F,G,V,K,W,j,Y,H,q,X,z,J,Z,Q,$,ee,te,ne,ie,se,re,ae,oe=this,ue=500;s.extend(oe,{getHash:function(){return e},setHash:function(t){e=t},setPlaybackIntervalMergeTolerance:function(e){ue=e},getPlaybackIntervalMergeTolerance:function(){return ue},setInternalLabel:function(e,t){i[e]=t},getInternalLabel:function(e){return i[e]},hasInternalLabel:function(e){return null!=i[e]},setLabels:function(e){e&&s.extend(c,e)},getLabels:function(){return c},setLabel:function(e,t){c[e]=t},getLabel:function(e){return c[e]},hasLabel:function(e){return e in c},getClipNumber:function(){return parseInt(oe.getInternalLabel("ns_st_cn"))},setClipNumber:function(e){oe.setInternalLabel("ns_st_cn",e+"")},getPartNumber:function(){return oe.hasLabel("ns_st_pn")?parseInt(oe.getLabel("ns_st_pn")):parseInt(oe.getInternalLabel("ns_st_pn"))},createLabels:function(e,t,r){var c=e,l=parseInt(c.ns_st_po),f=a.isEmpty(c.ns_st_ap)?T:parseInt(c.ns_st_ap);c.ns_st_dap=r&&ae<0&&0<m-l?(c.ns_st_ap=f+m-l,f+m-l-I):r&&0<ae&&0<l-m?(c.ns_st_ap=f+l-m,f+l-m-I):(c.ns_st_ap=f)-I;var p=a.isEmpty(c.ns_st_pt)?oe.getPlaybackTime():parseInt(c.ns_st_pt);c.ns_st_pt=p+(isNaN(g)?0:t-g)+"",c.ns_st_dpt=p+(isNaN(g)?0:t-g)-d+"",c.ns_st_ipt=p+(isNaN(g)?0:t-g)-_+"";var h=a.isEmpty(c.ns_st_et)?oe.getElapsedTime():parseInt(c.ns_st_et);c.ns_st_et=h+(isNaN(y)?0:t-y)+"",c.ns_st_det=h+(isNaN(y)?0:t-y)-S+"";var v=a.isEmpty(c.ns_st_bt)?oe.getBufferingTime():parseInt(c.ns_st_bt);c.ns_st_bt=v+"",c.ns_st_dbt=v+(isNaN(U)?0:t-U)-M+"";var b=k,A=C;r&&(b=o.addNewPlaybackInterval(u(k),ae<0?l:L,ae<0?L:l,ue),A=o.addNewPlaybackInterval(u(C),ae<0?l:L,ae<0?L:l,ue));for(var B,F=0,V=0,K=0;K<b.length;K++)F+=B=Math.abs(b[K].end-b[K].start),V<B&&(V=B);var W=0,Y=0;for(K=0;K<A.length;K++)W+=B=Math.abs(A[K].end-A[K].start),Y<B&&(Y=B);c.ns_st_upc=F+"",c.ns_st_dupc=F-w+"",c.ns_st_iupc=F-N+"",c.ns_st_iupc=N<F?F-N+"":"0",c.ns_st_lpc=V+"",c.ns_st_dlpc=V-D+"",c.ns_st_upa=W+"",c.ns_st_dupa=W-O+"",c.ns_st_iupa=x<W?W-x+"":"0",c.ns_st_lpa=Y+"",c.ns_st_dlpa=Y-R+"";var H=a.isEmpty(c.ns_st_pc)?oe.getPauses():parseInt(c.ns_st_pc);c.ns_st_pc=H+"",c.ns_st_dpc=H-Z+"";var q=a.isEmpty(c.ns_st_skc)?oe.getSeeks():parseInt(c.ns_st_skc);c.ns_st_skc=q+"",c.ns_st_dskc=q-$+"";var z=a.isEmpty(c.ns_st_bc)?oe.getBuffers():parseInt(c.ns_st_bc);c.ns_st_bc=z+"",c.ns_st_dbc=z-G+"";var J=a.isEmpty(c.ns_st_skt)?oe.getSeekingTime():parseInt(c.ns_st_skt);c.ns_st_skt=J+"",c.ns_st_dskt=J-j+"";var Q=a.isEmpty(c.ns_st_ska)?oe.getSeekingAmount():parseInt(c.ns_st_ska);c.ns_st_ska=Q+"",c.ns_st_dska=Q-X+"",n&&(c.ns_st_spc=ee+"",c.ns_st_apc=te+"",c.ns_st_sq=ne+"",c.ns_st_asq=ie+""),c.ns_st_sc=n||0!=se?se+"":"1",c.ns_st_rt=ae+"",c.ns_st_ldw=P,c.ns_st_ldo=E,s.extend(c,i)},updateDeltaLabels:function(e){d=parseInt(e.ns_st_pt),I=parseInt(e.ns_st_ap),S=parseInt(e.ns_st_et),M=parseInt(e.ns_st_bt),w=parseInt(e.ns_st_upc),D=parseInt(e.ns_st_lpc),O=parseInt(e.ns_st_upa),R=parseInt(e.ns_st_lpa),Z=parseInt(e.ns_st_pc),$=parseInt(e.ns_st_skc),G=parseInt(e.ns_st_bc),j=parseInt(e.ns_st_skt),X=parseInt(e.ns_st_ska),oe.setSeekingDirection(0)},updateIndependentLabels:function(e){_=parseInt(e.ns_st_pt),N=parseInt(e.ns_st_upc),x=parseInt(e.ns_st_upa)},getVideoTrack:function(){return oe.getInternalLabel("ns_st_vt")},setVideoTrack:function(e){oe.setInternalLabel("ns_st_vt",e+"")},getAudioTrack:function(){return oe.getInternalLabel("ns_st_at")},setAudioTrack:function(e){oe.setInternalLabel("ns_st_at",e+"")},getSubtitleTrack:function(){return oe.getInternalLabel("ns_st_tt")},setSubtitleTrack:function(e){oe.setInternalLabel("ns_st_tt",e+"")},getCDN:function(){return oe.getInternalLabel("ns_st_cdn")},setCDN:function(e){oe.setInternalLabel("ns_st_cdn",e+"")},getSegmentPlaybackIntervals:function(){return k},setAssetPlaybackIntervals:function(e){k=e},getAssetPlaybackIntervals:function(){return C},incrementPauses:function(){J++},incrementSeeks:function(){Q++},incrementPlayCounter:function(){ne++},getPlayCounter:function(){return ne},getBufferingTime:function(){return B},setBufferingTime:function(e){B=e},addBufferingTime:function(e){if(!isNaN(U)){var t=oe.getBufferingTime();t+=e-U,oe.setBufferingTime(t),U=NaN}},setPlaybackStartPosition:function(e){L=parseInt(e)},getPlaybackStartPosition:function(){return L},addInterval:function(e){isNaN(L)||isNaN(e)||(k=o.addNewPlaybackInterval(k,ae<0?e:L,ae<0?L:e,ue),C=o.addNewPlaybackInterval(C,ae<0?e:L,ae<0?L:e,ue),L=NaN)},getElapsedTime:function(){return v},setElapsedTime:function(e){v=e},addElapsedTime:function(e){if(!isNaN(y)){var t=oe.getElapsedTime();t+=e-y,oe.setElapsedTime(t),y=NaN}},getElapsedTimestamp:function(){return y},setElapsedTimestamp:function(e){y=e},addPlaybackTime:function(e){isNaN(g)||(p+=e-g,g=NaN)},getPlaybackTime:function(){return p},getExpectedPlaybackPosition:function(e){var t=m+A-E;return!f&&isNaN(g)||(t+=Math.floor((e-h)*ae/100)),t},getExpectedWindowOffset:function(e,t){return f?m-e+Math.floor((t-h)*ae/100)+A:0},setPlaybackTimeOffset:function(e,t){m=e,h=t},getPlaybackTimestamp:function(){return g},setPlaybackTimestamp:function(e){g=e},setPreviousPlaybackTime:function(e){d=e},getBufferingTimestamp:function(){return U},setBufferingTimestamp:function(e){U=e},getPauses:function(){return J},setPauses:function(e){J=e},getSeeks:function(){return Q},setSeeks:function(e){Q=e},setSeeking:function(e){V=e},isSeeking:function(){return V},setCollectingSeekingTime:function(e){H=e},isCollectingSeekingTime:function(){return H},setAssetStarted:function(e){t=e},isAssetStarted:function(){return t},setPlaybackStarted:function(e){n=e},isPlaybackStarted:function(){return n},setSeekingTimestamp:function(e){K=e},getSeekingTimestamp:function(){return K},addSeekingTime:function(e){if(!isNaN(K)){var t=oe.getSeekingTime();t+=e-K,oe.setSeekingTime(t),K=NaN}},getSeekingTime:function(){return W},setSeekingTime:function(e){W=e},setSeekingTimeBeforeEnd:function(e){z=e},getSeekingTimeBeforeEnd:function(){return z},setSeekStartPosition:function(e){Y=e},getSeekStartPosition:function(){return Y},setSeekingAmount:function(e){q=e},getSeekingAmount:function(){return q},addSeekingAmount:function(e){var t,n=oe.getSeekingAmount();n+=Math.abs(e-Y),oe.setSeekingAmount(n),Y==e?t=0:e<Y?t=-1:Y<e&&(t=1),oe.setSeekingDirection(t),Y=0},getSeekingDirection:function(){return parseInt(oe.getInternalLabel("ns_st_skd"))},setSeekingDirection:function(e){oe.setInternalLabel("ns_st_skd",e+"")},resetAssetLifecycleLabels:function(){C=[],$=Q=X=q=j=W=S=v=R=x=O=ne=Z=J=G=F=M=B=_=d=p=I=T=0},incrementSegmentPlaybackCounter:function(){ee++},incrementAssetLoadCounter:function(){se++},incrementAssetPlaybackCounter:function(){te++},getPreviousUniquePlaybackInterval:function(){return w},setPreviousUniquePlaybackInterval:function(e){w=e},getPreviousEventIndependentUniquePlaybackInterval:function(){return N},setPreviousEventIndependentUniquePlaybackInterval:function(e){N=e},setPreviousLongestPlaybackInterval:function(e){D=e},getPreviousLongestPlaybackInterval:function(){return D},resetAssetPlaybackIntervals:function(){C=[],R=x=O=0},setSegmentPlaybackCounter:function(e){ee=e},setAssetLoadCounter:function(e){se=e},setAssetPlaybackCounter:function(e){te=e},setLowestPartNumberPlayed:function(e){b=e},getSegmentPlaybackCounter:function(){return ee},getAssetLoadCounter:function(){return se},getAssetPlaybackCounter:function(){return te},getLowestPartNumberPlayed:function(){return b},getBuffers:function(){return F},incrementBufferCount:function(){F++},getPreviousBufferingTime:function(){return M},setPlaySequenceCounter:function(e){ie=e},incrementPlaySequenceCounter:function(){ie++},getPlaySequenceCounter:function(){return ie},isPlaybackSessionLooping:function(){return re},setPlaybackSessionLooping:function(e){re=e},enableAutoCalculatePositions:function(e){l=!!e},isAutoCalculatePositionsEnabled:function(){return l},getPlaybackRate:function(){return ae},setPlaybackRate:function(e){ae=e},addAccumulatedPlayback:function(e){ae<0&&0<m-e?T+=m-e:0<ae&&0<e-m&&(T+=e-m)},setPlaybackWindowLength:function(e){P=e},getPlaybackWindowLength:function(){return P},setPlaybackWindowOffset:function(e){E=e},getPlaybackWindowOffset:function(){return E},setPreviousPlaybackWindowOffset:function(e){A=e},asLiveStream:function(e){f=e}}),i={ns_st_cl:"0",ns_st_pn:"1",ns_st_tp:"0",ns_st_cn:"1",ns_st_skd:"0",ns_st_ci:"0",c3:"*null",c4:"*null",c6:"*null",ns_st_st:"*null",ns_st_pu:"*null",ns_st_pr:"*null",ns_st_ep:"*null",ns_st_sn:"*null",ns_st_en:"*null",ns_st_ct:"*null"},t=n=!(c={}),e=r.UNKNOWN_VALUE,f=!(l=!0),k=[],K=U=L=y=g=NaN,se=ie=ne=te=ee=$=Q=Z=J=X=q=j=W=z=Y=G=F=M=B=R=x=O=D=N=w=I=T=A=E=P=_=S=b=v=d=m=p=0,re=H=V=!(C=[]),ae=100}var s=e(24),r=e(17),a=e(21),o=e(68),u=e(23);i.resetAsset=function(e,t,n){for(var i=e.getLabels(),s={},r=0;n&&r<n.length;++r)i.hasOwnProperty(n[r])&&(s[n[r]]=i[n[r]]);t.setLabels(s),t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},t.exports=i},{17:17,21:21,23:23,24:24,68:68}],55:[function(e,t,n){t.exports={PAGE_NAME_LABEL:"name",HASH_LABELS:["ns_st_st","ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"]}},{}],56:[function(e,t,n){var i=e(73),s=e(74),r=e(76),a=e(77),o=e(69),u=e(71),c=e(72),l=e(70),f=e(75),p=e(78),g=e(79),d=e(80),_=e(81),m=e(55),h=e(68),v=e(65),y=e(20),S=e(24),b=e(19),P=e(82),E=e(62),A=e(63),T=e(58).State,I=e(58).StreamingAnalyticsEventType,k=e(58).ImplementationType,C=e(61),L=e(60),w=e(59),N=e(18),D=e(66),O=e(17),x=e(2),R="undefined",B="6.3.0.180917";t.exports=function(e){function t(e){var t=F.getStateMachine().getCurrentState();if(t==T.IDLE||t==T.PLAYBACK_NOT_STARTED||t==T.BUFFERING_BEFORE_PLAYBACK||t==T.SEEKING_BEFORE_PLAYBACK){if(e==I.PLAY)return!0}else if(t==T.PLAYING){if(e==I.END||e==I.AD_SKIP||e==I.SEEK_START||e==I.PAUSE)return!0}else if(t==T.PAUSED||t==T.BUFFERING_DURING_PAUSE||t==T.SEEKING_DURING_PLAYBACK||t==T.SEEKING_DURING_BUFFERING||t==T.SEEKING_DURING_PAUSE){if(e==I.END||e==I.AD_SKIP||e==I.PLAY)return!0}else if(t==T.BUFFERING_DURING_PLAYBACK){if(e==I.PAUSE_ON_BUFFERING||e==I.END||e==I.AD_SKIP||e==I.SEEK_START||e==I.PAUSE||e==I.PLAY)return!0}else if(t==T.BUFFERING_DURING_SEEKING){if(e==I.END||e==I.AD_SKIP||e==I.PAUSE||e==I.PLAY)return!0}else if(t==T.PAUSED_DURING_BUFFERING&&(e==I.END||e==I.AD_SKIP||e==I.BUFFER_STOP||e==I.PLAY))return!0;return!1}function n(){ye||(ye=!0,P.onSystemClockJump(U))}function U(e){fe=e,Se=!0}function M(){var e={},t=h.fixEventTime(e);pe.newEvent(I.END,t,e)}var F,G,V,K,W,j,Y,H,q,X,z,J,Z,Q,$,ee,te,ne,ie,se,re,ae,oe,ue,ce,le,fe,pe=this,ge={},de=500,_e=500,me={},he=!1,ve=!0,ye=!1,Se=!1;S.extend(pe,{getConfiguration:function(){return e||{}},createLabels:function(e,t,n){var i=F.getPlaybackSession(),s=i.getAsset(),r=!1;if(e==I.HEARTBEAT){var a=isNaN(ne)?te:ne;((ne=n)<a||Se)&&(Se=!(r=!0),n<a?(i.addInternalErrorFlag("1"),F.getLogging().infoLog("System clock jump detected","to the far past")):fe?(i.addInternalErrorFlag("3"),F.getLogging().infoLog("System clock jump detected","to the future")):(i.addInternalErrorFlag("2"),F.getLogging().infoLog("System clock jump detected","to the near past")),n=a)}var o={};if(he&&(o.c2=ce),typeof document!=R){var u=document;o.c7=u.URL,o.c8=u.title,o.c9=u.referrer}o.ns_ts=+new Date+"",o.ns_st_ev=I.toString(e),o.ns_st_mp="js_api",o.ns_st_mv=B,o.ns_st_ub="0",o.ns_st_br="0",o.ns_st_pn="1",o.ns_st_tp="0",o.ns_st_it=k.toString(k.SINGLE_CLIP),o.ns_st_sv=B,o.ns_st_smv="5.10",o.ns_type="hidden",o.ns_st_ec=F.getEventManager().getEventCounter()+"",o.ns_st_ki=F.getKeepAlive().getInterval()+"",t.ns_st_po?o.ns_st_po=t.ns_st_po+"":s.isAutoCalculatePositionsEnabled()?o.ns_st_po=s.getExpectedPlaybackPosition(n)+"":o.ns_st_po=le+"",le=parseInt(o.ns_st_po),i.createLabels(o,n),i.getAsset().createLabels(o,n,e==I.HEARTBEAT);var c={};return S.extend(c,me),S.extend(c,i.getLabels()),S.extend(c,i.getAsset().getLabels()),S.extend(c,t),r&&(s.setPlaybackTimeOffset(le,ne),i.setPlaybackTimestamp(ne-parseInt(o.ns_st_dpt)),s.setPlaybackTimestamp(ne-parseInt(o.ns_st_dpt)),s.setElapsedTimestamp(ne-parseInt(o.ns_st_det))),{eventType:e,eventLabels:o,customLabels:c}},newEvent:function(i,s,r,a){pe.stopDelayedTransitionTimer();var o=F.getStateMachine().getCurrentState(),u=F.getStateMachine().eventTypeToState(i);if(null!=u&&u!=o)if(!pe.isThrottlingEnabled()||o!=T.PLAYING&&o!=T.PAUSED||u!=T.PLAYING&&u!=T.PAUSED||a){var c,l;e.systemClockJumpDetection&&(u==T.IDLE?(P.removeSystemClockJumpListener(U),ye=!1):o==T.IDLE&&n()),ve&&h.isIdleState(o)&&!h.isIdleState(u)?E.onPageExit(M):ve&&!h.isIdleState(o)&&h.isIdleState(u)&&E.removePageExitListener(M);var f=F.getPlaybackSession(),p=f.getAsset(),g=isNaN(ne)?te:ne,d=!1;((ne=s)<g||Se)&&(Se=!(d=!0),s<g?(f.addInternalErrorFlag("1"),F.getLogging().infoLog("System clock jump detected","to the far past")):fe?(f.addInternalErrorFlag("3"),F.getLogging().infoLog("System clock jump detected","to the future")):(f.addInternalErrorFlag("2"),F.getLogging().infoLog("System clock jump detected","to the near past")),s=g),r.ns_st_po?F.getStateMachine().getCurrentState()==T.IDLE?p.setPlaybackWindowOffset(p.getPlaybackWindowLength()-parseInt(r.ns_st_po)):p.setPlaybackWindowOffset(p.getExpectedWindowOffset(parseInt(r.ns_st_po),s)):p.isAutoCalculatePositionsEnabled()?F.getStateMachine().getCurrentState()==T.IDLE?r.ns_st_po=p.getPlaybackWindowLength()-p.getPlaybackWindowOffset()+"":r.ns_st_po=p.getExpectedPlaybackPosition(s)+"":r.ns_st_po=le+"";var _,m,v,y,S=parseInt(r.ns_st_po);le=S,_=i,m=s,v=r,y=F.getStateMachine().getCurrentState(),_==I.AD_SKIP&&!v.hasOwnProperty("ns_st_ui")&&t(_)?v.ns_st_ui="skip":_==I.SEEK_START&&!v.hasOwnProperty("ns_st_ui")&&t(_)&&(v.ns_st_ui="seek"),y==T.IDLE?_==I.BUFFER?G.onBuffer(m,v):_==I.SEEK_START?G.onSeekStart(m,v):_==I.PLAY&&G.onPlay(m,v):y==T.PLAYBACK_NOT_STARTED?_==I.END||_==I.AD_SKIP?K.onEndOrAdSkip(m,v):_==I.SEEK_START?K.onSeekStart(m,v):_==I.PLAY?K.onPlay(m,v):_==I.BUFFER&&K.onBuffer(m,v):y==T.PLAYING?_==I.END||_==I.AD_SKIP?W.onEndOrAdSkip(m,v):_==I.BUFFER?W.onBuffer(m,v):_==I.SEEK_START?W.onSeekStart(m,v):_==I.PAUSE&&W.onPause(m,v):y==T.PAUSED?_==I.END||_==I.AD_SKIP?V.onEndOrAdSkip(m,v):_==I.PLAY?V.onPlay(m,v):_==I.BUFFER?Q.onBufferWhenSeekingOrPaused(m,v):_==I.SEEK_START&&Q.onSeekStartWhenPausedOrBufferingDuringPause(m,v):y==T.BUFFERING_BEFORE_PLAYBACK?_==I.END||_==I.AD_SKIP?j.onEndOrAdSkip(m,v):_==I.BUFFER_STOP?j.onBufferStop(m,v):_==I.SEEK_START?j.onSeekStart(m,v):_==I.PAUSE?j.onPause(m,v):_==I.PLAY&&j.onPlay(m,v):y==T.BUFFERING_DURING_PLAYBACK?_==I.PAUSE_ON_BUFFERING?Y.onPauseOnBuffering(m,v):_==I.BUFFER_STOP?Q.onBufferStopOrOnPlayWhenBufferingDuringPlayback(m,v):_==I.END||_==I.AD_SKIP?Y.onEndOrAdSkip(m,v):_==I.SEEK_START?Y.onSeekStart(m,v):_==I.PAUSE?Y.onPause(m,v):_==I.PLAY&&Q.onBufferStopOrOnPlayWhenBufferingDuringPlayback(m,v):y==T.BUFFERING_DURING_SEEKING?_==I.END||_==I.AD_SKIP?H.onEndOrAdSkip(m,v):_==I.PAUSE?H.onPause(m,v):_==I.PLAY?H.onPlay(m,v):_==I.BUFFER_STOP&&Q.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(m,v):y==T.BUFFERING_DURING_PAUSE?_==I.END||_==I.AD_SKIP?q.onEndAndSkip(m,v):_==I.PAUSE?q.onPause(m,v):_==I.PLAY?q.onPlay(m,v):_==I.SEEK_START?Q.onSeekStartWhenPausedOrBufferingDuringPause(m,v):_==I.BUFFER_STOP&&Q.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(m,v):y==T.SEEKING_BEFORE_PLAYBACK?_==I.END||_==I.AD_SKIP?z.onEndOrAdSkip(m,v):_==I.PAUSE?z.onPause(m,v):_==I.PLAY?z.onPlay(m,v):_==I.BUFFER&&Q.onBufferWhenSeekingOrPaused(m,v):y==T.SEEKING_DURING_PLAYBACK?_==I.END||_==I.AD_SKIP?Z.onEndOrAdSkip(m,v):_==I.PLAY?Z.onPlay(m,v):_==I.BUFFER?Q.onBufferWhenSeekingOrPaused(m,v):_==I.PAUSE&&Q.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(m,v):y==T.SEEKING_DURING_BUFFERING?_==I.PAUSE?J.onPause(m,v):_==I.BUFFER?Q.onBufferWhenSeekingOrPaused(m,v):_==I.PLAY?Q.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(m,v):_==I.END||_==I.AD_SKIP?Q.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(m,v):_==I.BUFFER_STOP&&Q.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(m,v):y==T.PAUSED_DURING_BUFFERING?_==I.END||_==I.AD_SKIP?X.onEndOrAdSkip(m,v):_==I.BUFFER_STOP?X.onPlayOrOnBufferStop(m,v):_==I.SEEK_START?X.onSeekStart(m,v):_==I.PAUSE?X.onPause(m,v):_==I.PLAY&&X.onPlayOrOnBufferStop(m,v):y==T.SEEKING_DURING_PAUSE&&(_==I.BUFFER?Q.onBufferWhenSeekingOrPaused(m,v):_==I.PLAY?Q.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(m,v):_==I.PAUSE?Q.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(m,v):_==I.END||_==I.AD_SKIP?Q.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(m,v):_==I.BUFFER_STOP&&Q.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(m,v)),t(_)&&F.getPlaybackSession().setFirstEventSent(!0),p.setPlaybackTimeOffset(S,s),p.setPreviousPlaybackWindowOffset(p.getPlaybackWindowOffset());var b=0;isNaN(F.getStateMachine().getLastStateChangeTimestamp())||(b=s-F.getStateMachine().getLastStateChangeTimestamp()),F.getStateMachine().newEvent(i,s),d&&(p.setPlaybackTimeOffset(S,ne),u!=T.IDLE&&u!=T.PLAYBACK_NOT_STARTED&&u!=T.SEEKING_BEFORE_PLAYBACK&&u!=T.BUFFERING_BEFORE_PLAYBACK&&p.setElapsedTimestamp(ne),u!=T.BUFFERING_BEFORE_PLAYBACK&&u!=T.BUFFERING_DURING_PAUSE&&u!=T.BUFFERING_DURING_PLAYBACK&&u!=T.BUFFERING_DURING_SEEKING&&u!=T.PAUSED_DURING_BUFFERING||(f.setBufferingTimestamp(ne),p.setBufferingTimestamp(ne)),u==T.PLAYING&&(f.setPlaybackTimestamp(ne),p.setPlaybackTimestamp(ne)),u!=T.SEEKING_BEFORE_PLAYBACK&&u!=T.SEEKING_DURING_BUFFERING&&u!=T.SEEKING_DURING_PAUSE&&u!=T.SEEKING_DURING_PLAYBACK&&u!=T.BUFFERING_DURING_SEEKING||p.setSeekingTimestamp(ne)),F.getLogging().log("Transition from",h.stateToString(o),"to",h.stateToString(u),"due to event:",I.toString(i));for(var A=0,k=oe.length;A<k;A++)oe[A](o,u,r,b)}else{F.getLogging().infoLog("Throttled event:",I.toString(i),"during state",h.stateToString(o),r,pe.getThrottlingDelay(),"ms");var C=(c=i,l=r,function(){pe.newEvent(c,s,l,!0)});ae=pe.getPlatformAPI().setTimeout(C,pe.getThrottlingDelay())}else F.getLogging().infoLog("Ignored event:",I.toString(i),"during state",h.stateToString(o),r)},newPseudoEvent:function(e,t,n){var i=F.getStateMachine().getCurrentState();if(e!=I.LOAD&&e!=I.ENGAGE||i==T.IDLE){e==I.ERROR&&null==n.ns_st_er&&(n.ns_st_er=O.UNKNOWN_VALUE),e==I.TRANSFER&&null==n.ns_st_rp&&(n.ns_st_rp=O.UNKNOWN_VALUE);var s,r,a,o,u=!0,c=!1;switch(e){case I.BIT_RATE:s="ns_st_br",r="ns_st_pbr";break;case I.PLAYBACK_RATE:s="ns_st_rt",r="ns_st_prt";break;case I.VOLUME:s="ns_st_vo",r="ns_st_pvo";break;case I.WINDOW_STATE:s="ns_st_ws",r="ns_st_pws";break;case I.AUDIO:s="ns_st_at",r="ns_st_pat";break;case I.VIDEO:s="ns_st_vt",r="ns_st_pvt";break;case I.SUBS:s="ns_st_tt",r="ns_st_ptt";break;case I.CDN:s="ns_st_cdn",r="ns_st_pcdn";break;default:u=!1}var l=F.getPlaybackSession(),f=l.getAsset();if(u&&s in n)switch(o=n[s],e){case I.BIT_RATE:case I.VOLUME:case I.WINDOW_STATE:s in me&&(a=me[s],c=o==(n[r]=a)+""),me[s]=n[s];break;case I.AUDIO:case I.VIDEO:case I.SUBS:case I.CDN:f.hasInternalLabel(s)&&(a=f.getInternalLabel(s),c=o==(n[r]=a)+""),f.setInternalLabel(s,n[s]);break;case I.PLAYBACK_RATE:a=f.getPlaybackRate(),n[r]=a+""}if(u&&i!=T.PLAYING&&i!=T.BUFFERING_DURING_PLAYBACK||u&&c)return e==I.PLAYBACK_RATE&&f.setPlaybackRate(parseInt(n.ns_st_rt)),void F.getLogging().infoLog("No measurement send for the pseudo-event:",I.toString(e),"during state",h.stateToString(i),n);var p=isNaN(ne)?te:ne,g=!1;((ne=t)<p||Se)&&(Se=!(g=!0),t<p?(l.addInternalErrorFlag("1"),F.getLogging().infoLog("System clock jump detected","to the far past")):fe?(l.addInternalErrorFlag("3"),F.getLogging().infoLog("System clock jump detected","to the future")):(l.addInternalErrorFlag("2"),F.getLogging().infoLog("System clock jump detected","to the near past")),t=p),n.ns_st_po?f.setPlaybackWindowOffset(f.getExpectedWindowOffset(parseInt(n.ns_st_po),t)):f.isAutoCalculatePositionsEnabled()?n.ns_st_po=f.getExpectedPlaybackPosition(t)+"":n.ns_st_po=le+"";var d=parseInt(n.ns_st_po);le=d,F.getPlaybackSession().getAsset().setPlaybackTimeOffset(d,t),f.setPreviousPlaybackWindowOffset(f.getPlaybackWindowOffset()),i!=T.IDLE&&i!=T.PLAYBACK_NOT_STARTED&&i!=T.SEEKING_BEFORE_PLAYBACK&&i!=T.BUFFERING_BEFORE_PLAYBACK&&(f.addElapsedTime(t),f.setElapsedTimestamp(t)),i==T.PLAYING&&(l.addPlaybackTime(t),l.setPlaybackTimestamp(t),f.addPlaybackTime(t),f.setPlaybackTimestamp(t),f.addAccumulatedPlayback(d),f.addInterval(parseInt(n.ns_st_po)),f.setPlaybackStartPosition(parseInt(n.ns_st_po))),i!=T.BUFFERING_BEFORE_PLAYBACK&&i!=T.BUFFERING_DURING_PAUSE&&i!=T.BUFFERING_DURING_PLAYBACK&&i!=T.BUFFERING_DURING_SEEKING||(l.addBufferingTime(t),l.setBufferingTimestamp(t),f.addBufferingTime(t),f.setBufferingTimestamp(t));var _=pe.createLabels(e,n,t);f.updateDeltaLabels(_.eventLabels),f.updateIndependentLabels(_.eventLabels),F.getEventManager().newEvent(_),e==I.PLAYBACK_RATE&&f.setPlaybackRate(parseInt(n.ns_st_rt)),g&&(f.setPlaybackTimeOffset(d,ne),i==T.PLAYING&&(l.setPlaybackTimestamp(ne),f.setPlaybackTimestamp(ne)),i!=T.IDLE&&i!=T.PLAYBACK_NOT_STARTED&&i!=T.SEEKING_BEFORE_PLAYBACK&&i!=T.BUFFERING_BEFORE_PLAYBACK&&f.setElapsedTimestamp(ne),i!=T.BUFFERING_BEFORE_PLAYBACK&&i!=T.BUFFERING_DURING_PAUSE&&i!=T.BUFFERING_DURING_PLAYBACK&&i!=T.BUFFERING_DURING_SEEKING&&i!=T.PAUSED_DURING_BUFFERING||(l.setBufferingTimestamp(ne),f.setBufferingTimestamp(ne)),i!=T.SEEKING_BEFORE_PLAYBACK&&i!=T.SEEKING_DURING_BUFFERING&&i!=T.SEEKING_DURING_PAUSE&&i!=T.SEEKING_DURING_PLAYBACK&&i!=T.BUFFERING_DURING_SEEKING||f.setSeekingTimestamp(ne))}else F.getLogging().infoLog("Ignored pseudo-event:",I.toString(e),"during state",h.stateToString(i),n)},getState:function(){return F.getStateMachine().getCurrentState()},addListener:function(e){oe.push(e)},removeListener:function(e){oe.splice(b.indexOf(e,oe),1)},getLabel:function(e){return me[e]},getLabels:function(){return me},setLabel:function(e,t){null==t?delete me[e]:me[e]=t},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&pe.setLabel(t,e[t])},getPlatformAPI:function(){return F.getAppCore().getPlatformAPI()},getExports:function(){return ge},isProperlyInitialized:function(){var e=F.getAppCore().getAppContext(),t=F.getAppCore().getSalt(),n=F.getAppCore().getPixelURL();return e&&n&&t},setThrottlingDelay:function(e){_e=e},getThrottlingDelay:function(){return _e},isThrottlingEnabled:function(){return re},setThrottlingEnabled:function(e){re=e},isLoadingTimeSent:function(){return $},setLoadingTimeSent:function(e){$=e},getLoadTimeOffset:function(){return ee},setLoadTimeOffset:function(e){ee=e},getInitTimestamp:function(){return te},setPauseOnBufferingInterval:function(e){de=e},getPauseOnBufferingInterval:function(){return de},isPauseOnBufferingEnabled:function(){return ie},setPauseOnBufferingEnabled:function(e){ie=e},setExitEndEventEnabled:function(e){if(ve!=e){var t=F.getStateMachine().getCurrentState();e||h.isIdleState(t)?e&&!h.isIdleState(t)&&E.onPageExit(M):E.removePageExitListener(M)}ve=e},isExitEndEventEnabled:function(){return ve},startPausedOnBufferingTimer:function(e,t){pe.stopPausedOnBufferingTimer(),se=pe.getPlatformAPI().setTimeout(function(){var e={},n=h.fixEventTime(e),i=parseInt(t.ns_st_po);e.ns_st_po=i+"",pe.newEvent(I.PAUSE_ON_BUFFERING,n,e)},de)},stopPausedOnBufferingTimer:function(){null!=se&&(pe.getPlatformAPI().clearTimeout(se),se=null)},stopDelayedTransitionTimer:function(){ae&&(pe.getPlatformAPI().clearTimeout(ae),ae=null)},setLiveEndpointURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(0<=n){if(n<e.length-1){for(var i=e.substring(n+1).split("&"),s=0,r=i.length;s<r;s++){var a=i[s].split("=");2==a.length?pe.setLabel(a[0],t(a[1])):1==a.length&&pe.setLabel(m.PAGE_NAME_LABEL,t(a[0]))}e=e.substring(0,n+1)}}else e+="?";return ue=e},getLiveEndpointURL:function(){return ue||(typeof ns_p!==R&&"string"==typeof ns_p.src?ue=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?ue=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getStaSM:function(){return F},resetPlaybackSession:function(e){var t=F.getPlaybackSession();F.setPlaybackSession(new A(F)),A.resetPlaybackSession(F,t,e)},resetHeartbeat:function(){F.getHeartbeat().pause();var e=F.getHeartbeat().getIntervals();F.setHeartbeat(new L(F)),F.getHeartbeat().setIntervals(e)},getVersion:function(){return B}}),function(){if((F=new v(pe)).setAppCore(x.getCore()),F.setKeepAlive(new C(F)),F.setHeartbeat(new L(F)),F.setEventManager(new w(F)),F.setStateMachine(new D),F.setLogging(new N("STA",e.debug)),F.setPlaybackSession(new A(F)),G=new i(F),V=new s(F),K=new r(F),W=new a(F),j=new o(F),Y=new u(F),H=new c(F),q=new l(F),X=new f(F),z=new p(F),J=new g(F),Z=new d(F),Q=new _(F),$=!1,ee=0,te=+new Date,re=!(ie=!0),oe=[],e.publisherId){he=!0,ce=e.publisherId+"";var t=(("secure"in e?e.secure:F.getAppCore()&&F.getAppCore().isProperlyInitialized()?F.getAppCore().isSecure():h.isBrowser()&&y.isWebSecure())?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2";pe.setLiveEndpointURL(t)}e.liveEndpointURL&&pe.setLiveEndpointURL(e.liveEndpointURL),e.systemClockJumpDetection&&(P.setPlatformAPI(pe.getPlatformAPI()),e.systemClockJumpDetectionInterval?P.configureInterval(parseInt(e.systemClockJumpDetectionInterval),!0):P.configureInterval(),e.systemClockJumpDetectionPrecision?P.configureError(parseInt(e.systemClockJumpDetectionPrecision),!0):P.configureError(),n())}()}},{17:17,18:18,19:19,2:2,20:20,24:24,55:55,58:58,59:59,60:60,61:61,62:62,63:63,65:65,66:66,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82}],57:[function(e,t,n){var i,s,r=e(20),a=e(4),o="undefined";s=r.isBrowser()?(i=window,document):(i={},{location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.exports=function(e,t){for(var n,u=i.encodeURIComponent||escape,c=[],l=a.LABELS_ORDER,f=e.split("?"),p=f[0],g=f[1].split("&"),d=0,_=g.length;d<_;d++){var m=g[d].split("="),h=unescape(m[0]),v=unescape(m[1]);h&&(t[h]=v)}for(var y={},S=0,b=l.length;S<b;S++){var P=l[S];if(t.hasOwnProperty(P)){var E=t[P];typeof E!==o&&null!=E&&(y[P]=!0,c.push(u(P)+"="+u(t[P])))}}for(var A in t)if(t.hasOwnProperty(A)){if(y[A])continue;var T=t[A];typeof T!==o&&null!=T&&c.push(u(A)+"="+u(t[A]))}n=(n=p+"?"+c.join("&"))+(n.indexOf("&c8=")<0?"&c8="+u(s.title):"")+(n.indexOf("&c7=")<0?"&c7="+u(s.URL):"")+(n.indexOf("&c9=")<0?"&c9="+u(s.referrer):"");var I=r.browserAcceptsLargeURLs()?a.URL_LENGTH_LIMIT:a.RESTRICTED_URL_LENGTH_LIMIT;if(n.length>I&&0<n.indexOf("&")){var k=n.substr(0,I-8).lastIndexOf("&");n=(n.substring(0,k)+"&ns_cut="+u(n.substring(k+1))).substr(0,I)}return n}},{20:20,4:4}],58:[function(e,t,n){var i,s,r=(i=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"],{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(e){return i[e]}}),a=(s=["c","s","r"],{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(e){return s[e]}});t.exports.StreamingAnalyticsEventType=r,t.exports.State={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},t.exports.ImplementationType=a},{}],59:[function(e,t,n){var i=e(24),s=e(57),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){var t,n,a=this,o=[];i.extend(this,{newEvent:function(t){for(var u=i.extend({},t.eventLabels,t.customLabels),c=0;c<o.length;++c)o[c](u);!function(t){n=i.extend({},t);var r=e.getStaCore().getLiveEndpointURL();e.getStaCore().isProperlyInitialized()?e.getAppCore().internalHidden(t,r):r&&e.getStaCore().getPlatformAPI().httpGet(s(r,t))}(u),t.eventType!=r.HEARTBEAT&&a.incrementEventCounter()},addMeasurementListener:function(e){"function"==typeof e&&o.push(e)},removeMeasurementListener:function(e){for(var t=NaN,n=0;n<o.length;++n)if(o[n]==e){t=n;break}isNaN(t)||o.splice(t,1)},getEventCounter:function(){return t},incrementEventCounter:function(){t++},setEventCounter:function(e){t=e},getMeasurementSnapshot:function(){return n}}),t=1}},{24:24,57:57,58:58}],60:[function(e,t,n){var i=e(58).StreamingAnalyticsEventType,s=e(68),r=e(24),a=[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}];t.exports=function(e){function t(){c++;var t={},n=s.fixEventTime(t);t.ns_st_hc=e.getHeartbeat().getCount()+"";var r=e.getStaCore().createLabels(i.HEARTBEAT,t,n);e.getPlaybackSession().getAsset().updateIndependentLabels(r.eventLabels),e.getEventManager().newEvent(r),u=0,l.resume()}function n(){null!=o&&(e.getStaCore().getPlatformAPI().clearTimeout(o),o=null)}var o,u,c,l=this,f=a;r.extend(this,{getCount:function(){return c},setIntervals:function(e){f=e},getInterval:function(e){var t=0;if(null!=f)for(var n=0;n<f.length;n++){var i=f[n],s=i.playingtime;if(!s||e<s){t=i.interval;break}}return t},getIntervals:function(){return f},resume:function(){n();var i=l.getInterval(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()));if(0<i){var s=0<u?u:i;o=e.getStaCore().getPlatformAPI().setTimeout(t,s)}u=0},pause:function(){n();var t=l.getInterval(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()));u=t-(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()))%t}}),c=u=0}},{24:24,58:58,68:68}],61:[function(e,t,n){var i=e(58).StreamingAnalyticsEventType,s=e(24),r=e(68);t.exports=function(e){function t(){var t={},n=r.fixEventTime(t);e.getStaCore().newPseudoEvent(i.KEEPALIVE,n,t),o.start()}function n(){null!=a&&(e.getStaCore().getPlatformAPI().clearTimeout(a),a=null)}var a,o=this,u=12e5;s.extend(o,{start:function(){n(),a=e.getStaCore().getPlatformAPI().setTimeout(t,u)},stop:n,setInterval:function(e){u=e},getInterval:function(){return u}})}},{24:24,58:58,68:68}],62:[function(e,t,n){function i(){for(var e=0;e<r.length;++e)r[e]()}var s=e(20),r=[],a=!1;t.exports={onPageExit:function(e){r.push(e),a||s.isBrowser()&&(window.addEventListener?(window.addEventListener("unload",i,!1),a=!0):window.attachEvent&&(window.attachEvent("onunload",i),a=!0))},removePageExitListener:function(e){for(var t=0;t<r.length;++t)if(r[t]==e){r.splice(t,1);break}0==r.length&&s.isBrowser()&&(window.removeEventListener?(window.removeEventListener("unload",i,!1),a=!1):window.detachEvent&&(window.detachEvent("onunload",i),a=!1))}}},{20:20}],63:[function(e,t,n){function i(e){var t,n,i,f,p,g,d,_,m,h,v,y,S,b,P,E,A=this;s.extend(this,{resetAsset:function(){var e=t;t=new r,r.resetAsset(e,t)},hashExists:function(e){return null!=_[e]},storeHash:function(e){_[e]={}},removeHash:function(e){delete _[e]},storeAssetPlaybackCounters:function(){for(var e in _)if(_.hasOwnProperty(e)&&_[e].clipNumber===t.getClipNumber()){s.extend(_[e],{segmentPlaybackCounter:t.getSegmentPlaybackCounter(),assetLoadCounter:t.getAssetLoadCounter(),assetPlaybackCounter:t.getAssetPlaybackCounter(),lowestPartNumberPlayed:t.getLowestPartNumberPlayed(),seeking:t.isSeeking(),seekingTimeBeforeEnd:t.getSeekingTimeBeforeEnd(),seekingStartPosition:t.getSeekStartPosition(),segmentPlaybackIntervals:t.getSegmentPlaybackIntervals(),videoTrack:t.getVideoTrack(),audioTrack:t.getAudioTrack(),subtitleTrack:t.getSubtitleTrack(),cdn:t.getCDN(),playSequenceCounter:t.getPlaySequenceCounter(),previousUniquePlaybackInterval:t.getPreviousUniquePlaybackInterval(),previousEventIndependentUniquePlaybackInterval:t.getPreviousEventIndependentUniquePlaybackInterval(),previousLongestPlaybackInterval:t.getPreviousLongestPlaybackInterval()});break}},getStoredAssetRegisters:function(e){return _[e]},getClipNumber:function(e){return _[e].clipNumber},getMaxClipNumber:function(){return m},storeClipNumber:function(e,t){_[e].clipNumber=t,m<t&&(m=t)},setLabels:function(e){null!=e&&s.extend(g,e)},getLabels:function(){return g},setLabel:function(e,t){var n={};n[e]=t,A.setLabels(n)},getLabel:function(e){return g[e]},getAsset:function(){return t},addInternalErrorFlag:function(e){for(var t=0;t<E.length;++t)if(E[t]==e)return;E.push(e)},createLabels:function(e,n){var i=e,r=o.isEmpty(i.ns_st_pa)?A.getPlaybackTime():parseInt(i.ns_st_pa);i.ns_st_pa=r+(isNaN(f)?0:n-f)+"",i.ns_st_pp=S+"",i.ns_st_sp=b+"",i.ns_st_bp=P+"",h||(i.ns_st_pb=null!=i.ns_st_pb?i.ns_st_pb:"1"),t.isPlaybackStarted()&&(i.ns_st_ppc=v+"",i.ns_st_psq=y+""),0<E.length&&(i.ns_st_ie=(i.ns_st_ie?i.ns_st_ie+";":"")+E.join(";")),s.extend(i,p)},incrementPlayCounter:function(){b++},incrementPauses:function(){S++},addPlaybackTime:function(e){if(!isNaN(f)){var t=A.getPlaybackTime();t+=e-f,A.setPlaybackTime(t),f=NaN}},addBufferingTime:function(e){if(!isNaN(n)){var t=A.getBufferingTime();t+=e-n,A.setBufferingTime(t),n=NaN}},getBufferingTime:function(){return P},setBufferingTime:function(e){P=e},getPlaybackTime:function(){return i},setBufferingTimestamp:function(e){n=e},getBufferingTimestamp:function(){return n},setPlaybackTime:function(e){i=e},setPlaybackTimestamp:function(e){f=e},getPlaybackTimestamp:function(){return f},getPauses:function(){return S},setPauses:function(e){S=e},isPlaybackSessionStarted:function(){return d},setPlaybackSessionStarted:function(e){d=e},getPlaybackCounter:function(){return v},incrementPlaybackCounter:function(){v++},setFirstEventSent:function(e){h=e},setPlaySequenceCounter:function(e){y=e},incrementPlaySequenceCounter:function(){y++},getPlaybackSessionID:function(){return p.ns_st_id},setAsset:function(t,n){e.getLogging().apiCall("setAsset",t,n),t=a.jsonObjectToStringDictionary(t);var i=e.getStateMachine().getCurrentState();if(i!=c.IDLE){e.getLogging().infoLog("Ending the current Clip. It was in state:",a.stateToString(i));var s={};e.getStaCore().newEvent(l.END,a.fixEventTime(s),s)}var r="",f=0;if(null!=t.ns_st_cn)r=t.ns_st_cn;else for(var p=0;p<u.length;p++)t[u[p]]&&(r+=u[p]+":"+t[u[p]]+";");var g=A,d=g.getAsset();f=d.isAssetStarted()?(g.hashExists(d.getHash())||(g.storeHash(d.getHash()),g.storeClipNumber(d.getHash(),d.getClipNumber())),g.storeAssetPlaybackCounters(),g.hashExists(r)?g.getClipNumber(r):o.exists(t.ns_st_cn)?parseInt(t.ns_st_cn):g.getMaxClipNumber()+1):g.hashExists(r)?g.getClipNumber(r):d.getClipNumber(),g.resetAsset(),(d=g.getAsset()).setHash(r),d.setClipNumber(f),d.setLabels(t);var _=g.getStoredAssetRegisters(r);_&&(d.setAssetStarted(!0),d.setSegmentPlaybackCounter(_.segmentPlaybackCounter),d.setAssetLoadCounter(_.assetLoadCounter),d.setAssetPlaybackCounter(_.assetPlaybackCounter),d.setLowestPartNumberPlayed(_.lowestPartNumberPlayed),d.setSeeking(_.seeking),d.setSeekingTimeBeforeEnd(_.seekingTimeBeforeEnd),d.setSeekStartPosition(_.seekingStartPosition),d.setAssetPlaybackIntervals(_.segmentPlaybackIntervals),_.videoTrack&&d.setVideoTrack(_.videoTrack),_.audioTrack&&d.setAudioTrack(_.audioTrack),_.subtitleTrack&&d.setSubtitleTrack(_.subtitleTrack),_.cdn&&d.setCDN(_.cdn),d.setPlaySequenceCounter(_.playSequenceCounter),d.setPreviousUniquePlaybackInterval(_.previousUniquePlaybackInterval),d.setPreviousEventIndependentUniquePlaybackInterval(_.previousEventIndependentUniquePlaybackInterval),d.setPreviousLongestPlaybackInterval(_.previousLongestPlaybackInterval)),d.incrementAssetLoadCounter(),d.isAssetStarted()&&n&&g.incrementPlayCounter(),n&&(g.setPlaySequenceCounter(0),d.setPlaybackSessionLooping(!0)),!o.exists(t.ns_st_tp)&&o.exists(t.ns_st_ad)&&o.isNotEmpty(t.ns_st_ad)&&"0"!==t.ns_st_ad&&d.setInternalLabel("ns_st_tp","1")}}),t=new r,(p={}).ns_st_id=+new Date+"",g={},f=n=NaN,h=d=!(_={}),b=1,P=y=S=v=m=i=0,E=[]}var s=e(24),r=e(54),a=e(68),o=e(21),u=e(55).HASH_LABELS,c=e(58).State,l=e(58).StreamingAnalyticsEventType;i.resetPlaybackSession=function(e,t,n){for(var i=t.getAsset(),s=t.getLabels(),a={},o=0;n&&o<n.length;o++)s.hasOwnProperty(n[o])&&(a[n[o]]=s[n[o]]);e.getPlaybackSession().setLabels(a),r.resetAsset(i,e.getPlaybackSession().getAsset(),n)},t.exports=i},{21:21,24:24,54:54,55:55,58:58,68:68}],64:[function(e,t,n){var i={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},s={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",BrandedOnDemandPreRoll:"31",BrandedOnDemandMidRoll:"32",BrandedOnDemandPostRoll:"33",BrandedOnDemandContent:"34",BrandedOnDemandLive:"35",Other:"00"},r=e(67),a=e(58).State,o=e(58).ImplementationType,u=e(55).HASH_LABELS,c=e(21),l=e(24),f=e(18),p=function(e){function t(e){m.getPlaybackSession().setAsset(e),g=e,m.notifyPlay()}function n(e){var t=e||{};t.ns_st_ad="1",t.ns_st_an=++d+"",m.getPlaybackSession().setAsset(t),m.notifyPlay(),_=!1}function p(e,n){v==h.None&&(v=n),_&&v==n&&function(e){for(var t in u)if(u.hasOwnProperty(t)&&(n=u[t],i=g,s=e,!(c.exists(n)&&c.exists(i)&&c.exists(s)&&(i.hasOwnProperty(n)&&s.hasOwnProperty(n)&&i[n]===s[n]||!i.hasOwnProperty(n)&&!s.hasOwnProperty(n)))))return!1;var n,i,s;return!0}(e)?(m.getPlaybackSession().getAsset().setLabels(e),m.getState()!=a.PLAYING&&m.notifyPlay()):t(e),_=!0,v=n}var g=null,d=0,_=!1,m=null,h={None:0,AudioContent:1,VideoContent:2},v=h.None,y=new f("TTSTA",(e||{}).debug);l.extend(this,{playVideoAdvertisement:function(e,t){y.apiCall("playVideoAdvertisement",e,t);var i={ns_st_ct:"va"};t?i.ns_st_ct="va"+t:y.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),t!=s.LinearLive&&t!=s.BrandedOnDemandLive||(i.ns_st_li="1"),e&&l.extend(i,e),n(i)},playAudioAdvertisement:function(e,t){y.apiCall("playAudioAdvertisement",e,t);var i={ns_st_ct:"aa"};t?i.ns_st_ct="aa"+t:y.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),t!=s.LinearLive&&t!=s.BrandedOnDemandLive||(i.ns_st_li="1"),e&&l.extend(i,e),n(i)},playVideoContentPart:function(e,t){y.apiCall("playVideoContentPart",e,t);var n={ns_st_ct:"vc"};t?n.ns_st_ct="vc"+t:y.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),t!=i.Live&&t!=i.UserGeneratedLive||(n.ns_st_li="1"),e&&l.extend(n,e),p(n,h.VideoContent)},playAudioContentPart:function(e,t){y.apiCall("playAudioContentPart",e,t);var n={ns_st_ct:"ac"};t?n.ns_st_ct="ac"+t:y.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),t!=i.Live&&t!=i.UserGeneratedLive||(n.ns_st_li="1"),e&&l.extend(n,e),p(n,h.AudioContent)},stop:function(){y.apiCall("stop"),m.notifyPause()}}),(m=new r(e)).setLabel("ns_st_it",o.toString(o.REDUCED))};p.ContentType=i,p.AdType=s,t.exports=p},{18:18,21:21,24:24,55:55,58:58,67:67}],65:[function(e,t,n){var i=e(24);t.exports=function(e){var t,n,s,r,a,o,u;i.extend(this,{getAppCore:function(){return t},getStaCore:function(){return e},getEventManager:function(){return n},getStateMachine:function(){return s},getHeartbeat:function(){return r},getKeepAlive:function(){return a},getPlaybackSession:function(){return o},getLogging:function(){return u},setAppCore:function(e){t=e},setKeepAlive:function(e){a=e},setHeartbeat:function(e){r=e},setEventManager:function(e){n=e},setStateMachine:function(e){s=e},setPlaybackSession:function(e){o=e},setLogging:function(e){u=e}})}},{24:24}],66:[function(e,t,n){var i=e(58).State,s=e(24),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){var t,n,a,o=this;s.extend(o,{eventTypeToState:function(e){if(a==i.IDLE){if(e==r.PLAY)return i.PLAYING;if(e==r.SEEK_START)return i.SEEKING_BEFORE_PLAYBACK;if(e==r.BUFFER)return i.BUFFERING_BEFORE_PLAYBACK}else if(a==i.PLAYBACK_NOT_STARTED){if(e==r.PLAY)return i.PLAYING;if(e==r.SEEK_START)return i.SEEKING_BEFORE_PLAYBACK;if(e==r.BUFFER)return i.BUFFERING_BEFORE_PLAYBACK;if(e==r.END||e==r.AD_SKIP)return i.IDLE}else if(a==i.PLAYING){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.BUFFER)return i.BUFFERING_DURING_PLAYBACK;if(e==r.PAUSE)return i.PAUSED;if(e==r.SEEK_START)return i.SEEKING_DURING_PLAYBACK}else if(a==i.PAUSED){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.BUFFER)return i.BUFFERING_DURING_PAUSE;if(e==r.PLAY)return i.PLAYING;if(e==r.SEEK_START)return i.SEEKING_DURING_PAUSE}else if(a==i.BUFFERING_BEFORE_PLAYBACK){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PAUSE||e==r.BUFFER_STOP)return i.PLAYBACK_NOT_STARTED;if(e==r.PLAY)return i.PLAYING;if(e==r.SEEK_START)return i.SEEKING_BEFORE_PLAYBACK}else if(a==i.BUFFERING_DURING_PLAYBACK){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PLAY||e==r.BUFFER_STOP)return i.PLAYING;if(e==r.PAUSE_ON_BUFFERING)return i.PAUSED_DURING_BUFFERING;if(e==r.SEEK_START)return i.SEEKING_DURING_BUFFERING;if(e==r.PAUSE)return i.PAUSED}else if(a==i.BUFFERING_DURING_SEEKING){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PLAY)return i.PLAYING;if(e==r.BUFFER_STOP)return i.SEEKING_DURING_PLAYBACK;if(e==r.PAUSE)return i.PAUSED}else if(a==i.BUFFERING_DURING_PAUSE){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PLAY)return i.PLAYING;if(e==r.SEEK_START)return i.SEEKING_DURING_PAUSE;if(e==r.BUFFER_STOP||e==r.PAUSE)return i.PAUSED}else if(a==i.SEEKING_BEFORE_PLAYBACK){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PAUSE)return i.PLAYBACK_NOT_STARTED;if(e==r.PLAY)return i.PLAYING;if(e==r.BUFFER)return i.BUFFERING_BEFORE_PLAYBACK}else if(a==i.SEEKING_DURING_PLAYBACK){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PLAY)return i.PLAYING;if(e==r.PAUSE)return i.PAUSED;if(e==r.BUFFER)return i.BUFFERING_DURING_SEEKING}else if(a==i.SEEKING_DURING_BUFFERING){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PLAY)return i.PLAYING;if(e==r.PAUSE||e==r.BUFFER_STOP)return i.PAUSED;if(e==r.BUFFER)return i.BUFFERING_DURING_SEEKING}else if(a==i.SEEKING_DURING_PAUSE){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.PLAY)return i.PLAYING;if(e==r.PAUSE||e==r.BUFFER_STOP)return i.PAUSED;if(e==r.BUFFER)return i.BUFFERING_DURING_PAUSE}else if(a==i.PAUSED_DURING_BUFFERING){if(e==r.END||e==r.AD_SKIP)return i.IDLE;if(e==r.SEEK_START)return i.SEEKING_DURING_BUFFERING;if(e==r.PAUSE)return i.PAUSED;if(e==r.PLAY||e==r.BUFFER_STOP)return i.PLAYING}return null},getCurrentState:function(){return a},newEvent:function(e,i){var s=o.eventTypeToState(e);a!=s&&(n=a,a=s,t=i)},getPreviousState:function(){return n},getLastStateChangeTimestamp:function(){return t}}),a=i.IDLE,n=null,t=NaN}},{24:24,58:58}],67:[function(e,t,n){function i(e){function t(e,t,i){if(o.toString(e)){i=r.jsonObjectToStringDictionary(i);var s=r.fixEventTime(i);i.ns_st_po||isNaN(t)||(i.ns_st_po=parseInt(t)+""),e==o.PLAY||e==o.PAUSE||e==o.BUFFER||e==o.END||e==o.SEEK_START||e==o.AD_SKIP||e==o.BUFFER_STOP?n.newEvent(e,s,i):n.newPseudoEvent(e,s,i)}}var n,i=this;for(var l in s.extend(i,{isProperlyInitialized:function(){return n.isProperlyInitialized()},reset:function(e){t(o.END);var i=n;i.getStaSM().getKeepAlive().stop(),i.getStaSM().getHeartbeat().pause(),n=new a(i.getConfiguration()),c.resetPlaybackSession(n.getStaSM(),i.getStaSM().getPlaybackSession(),e)},setPauseOnBufferingInterval:function(e){n.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return n.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){n.getStaSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return n.getStaSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){n.getStaSM().getHeartbeat().setIntervals(e)},getLabels:function(){return n.getLabels()},getState:function(){return n.getStaSM().getStateMachine().getCurrentState()},setLabels:function(e){n.setLabels(e)},getLabel:function(e){return n.getLabel(e)},setLabel:function(e,t){n.setLabel(e,t)},getLoadTimeOffset:function(){return n.getLoadTimeOffset()},setLoadTimeOffset:function(e){n.setLoadTimeOffset(e)},setLiveEndpointURL:function(e){return n.setLiveEndpointURL(e)},getLiveEndpointURL:function(){return n.getLiveEndpointURL()},isPauseOnBufferingEnabled:function(){return n.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){n.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return n.isThrottlingEnabled()},setThrottlingEnabled:function(e){n.setThrottlingEnabled(e)},setThrottlingDelay:function(e){n.setThrottlingDelay(e)},getThrottlingDelay:function(){return n.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){n.getStaSM().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return n.getStaSM().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance()},createPlaybackSession:function(e){n.getStaSM().getLogging().apiCall("createPlaybackSession",e),e=r.jsonObjectToStringDictionary(e);var t=n.getStaSM().getStateMachine().getCurrentState();t!=u.IDLE&&(n.getStaSM().getLogging().infoLog("Ending the current Clip. It was in state:",r.stateToString(t)),i.notifyEnd()),n.getStaSM().getPlaybackSession().isPlaybackSessionStarted()&&n.resetPlaybackSession(),n.getStaSM().getPlaybackSession().setLabels(e)},getVersion:function(){return n.getVersion()},addListener:function(e){n.addListener(e)},removeListener:function(e){n.removeListener(e)},addMeasurementListener:function(e){n.getStaSM().getEventManager().addMeasurementListener(e)},removeMeasurementListener:function(e){n.getStaSM().getEventManager().removeMeasurementListener(e)},getPlaybackSession:function(){return n.getStaSM().getPlaybackSession()},setExitEndEventEnabled:function(e){n.setExitEndEventEnabled(!!e)},isExitEndEventEnabled:function(){return n.isExitEndEventEnabled()},setDvrWindowLength:function(e){n.getStaSM().getPlaybackSession().getAsset().setPlaybackWindowLength(e),n.getStaSM().getPlaybackSession().getAsset().asLiveStream(!0)},setDvrWindowOffset:function(e){n.getStaSM().getPlaybackSession().getAsset().setPlaybackWindowOffset(e),n.getStaSM().getPlaybackSession().getAsset().asLiveStream(!0)},getPlatformAPI:function(){return n.getPlatformAPI()},_getLogHistory:function(){return n.getStaSM().getLogging().getLogHistory()}}),f)!function(e,s){i[e]=function(i,r){n.getStaSM().getLogging().apiCall(e,i,r);var a={},o=NaN;"object"==typeof i?a=i:"object"==typeof r&&(a=r),"number"==typeof i?o=i:"number"==typeof r&&(o=r),t(s,o,a)}}(l,f[l]);for(var g in p)!function(e,s,r){i[e]=function(i,a,o){if(n.getStaSM().getLogging().apiCall(e,i,a,o),null!=i){var u={},c=NaN;"object"==typeof a?u=a:"object"==typeof o&&(u=o),"number"==typeof a?c=a:"number"==typeof o&&(c=o),u[r]=i+"",t(s,c,u)}}}(g,p[g][0],p[g][1]);e=s.extend({},e),(n=new a(e)).getStaSM().getLogging().log("New StreamingAnalytics instance with configuration",e)}var s=e(24),r=e(68),a=e(56),o=e(58).StreamingAnalyticsEventType,u=e(58).State,c=e(63),l=e(55),f={notifyPlay:o.PLAY,notifyPause:o.PAUSE,notifyEnd:o.END,notifyBufferStart:o.BUFFER,notifyBufferStop:o.BUFFER_STOP,notifyLoad:o.LOAD,notifyEngage:o.ENGAGE,notifySeekStart:o.SEEK_START,notifySkipAd:o.AD_SKIP,notifyCallToAction:o.CTA,notifyError:o.ERROR,notifyTransferPlayback:o.TRANSFER,notifyDrmFail:o.DRM_FAILED,notifyDrmApprove:o.DRM_APPROVED,notifyDrmDeny:o.DRM_DENIED,notifyCustomEvent:o.CUSTOM},p={notifyChangeBitrate:[o.BIT_RATE,"ns_st_br"],notifyChangePlaybackRate:[o.PLAYBACK_RATE,"ns_st_rt"],notifyChangeVolume:[o.VOLUME,"ns_st_vo"],notifyChangeWindowState:[o.WINDOW_STATE,"ns_st_ws"],notifyChangeAudioTrack:[o.AUDIO,"ns_st_at"],notifyChangeVideoTrack:[o.VIDEO,"ns_st_vt"],notifyChangeSubtitleTrack:[o.SUBS,"ns_st_tt"],notifyChangeCdn:[o.CDN,"ns_st_cdn"]};i.PlayerEvents=o,i.InternalStates=u,i.Constants=l,t.exports=i},{24:24,55:55,56:56,58:58,63:63,68:68}],68:[function(e,t,n){var i=e(23),s=e(58).State,r="undefined";n.jsonObjectToStringDictionary=function(e){var t={};for(var n in e){var i=e[n];t[n]=null==i?i:e[n]+""}return t},n.getKeys=function(e,t){var n,i=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(i[i.length]=n);return i},n.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var t=+new Date;return e.ns_ts=t+"",t},n.isBrowser=function(){return typeof window!=r&&typeof document!=r},n.addNewPlaybackInterval=function(e,t,n,s){var r,a,o={};if(!(t<=n))return i(e);if(o.start=t,o.end=n,0==e.length)return e.push(o),i(e);for(r=0;r<e.length;r++)if(o.start>=e[r].start&&o.end<=e[r].end)return i(e);var u=!1;for(a=0;a<e.length;a++)if(a+1===e.length&&o.start>=e[a].start||o.start>=e[a].start&&o.start<e[a+1].start){e.splice(a+1,0,o),u=!0;break}u||e.splice(0,0,o);var c=[e[0]];for(r=1;r<e.length;r++)c[c.length-1].end+s<e[r].start?c.push(e[r]):c[c.length-1].end<e[r].end&&(c[c.length-1].end=e[r].end);return i(c)},n.stateToString=function(e){for(var t in s)if(s.hasOwnProperty(t)&&s[t]==e)return t},n.isIdleState=function(e){return e==s.IDLE||e==s.BUFFERING_BEFORE_PLAYBACK||e==s.SEEKING_BEFORE_PLAYBACK||e==s.PLAYBACK_NOT_STARTED}},{23:23,58:58}],69:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.addBufferingTime(t),r.addBufferingTime(t),r.isSeeking()&&r.isCollectingSeekingTime()&&r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBufferStop:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()&&s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1))},onSeekStart:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),r=parseInt(n.ns_st_po);i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()?s.isCollectingSeekingTime()||(s.setSeekingTimestamp(t),s.setCollectingSeekingTime(!0)):s.incrementSeeks(),s.isSeeking()||(s.setSeeking(!0),s.setCollectingSeekingTime(!0),s.setSeekStartPosition(r),s.setSeekingTimestamp(t))},onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()&&s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1))},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),s.setPlaybackStarted(!0),(s.isPlaybackSessionLooping()||0==i.getPlaybackCounter())&&(i.incrementPlaybackCounter(),s.setPlaybackSessionLooping(!1)),i.incrementPlaySequenceCounter(),s.setPlaybackStarted(!0),s.incrementSegmentPlaybackCounter(),s.incrementPlayCounter(),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setElapsedTimestamp(t),s.setPlaybackStartPosition(a),(0==s.getLowestPartNumberPlayed()||s.getPartNumber()<=s.getLowestPartNumberPlayed())&&(s.setLowestPartNumberPlayed(s.getPartNumber()),s.incrementAssetPlaybackCounter(),s.setPlaySequenceCounter(0),s.resetAssetPlaybackIntervals()),s.incrementPlaySequenceCounter(),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],70:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndAndSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),i.addBufferingTime(t),a.addBufferingTime(t),a.addElapsedTime(t);var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.isSeeking()&&a.isCollectingSeekingTime()&&(a.setSeekingTimeBeforeEnd(t-a.getSeekingTimestamp()),a.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.addBufferingTime(t),s.addBufferingTime(t),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),s.incrementPlaySequenceCounter(),s.incrementPlayCounter(),i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],71:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onPauseOnBuffering:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();e.getStaCore().stopPausedOnBufferingTimer(),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.addBufferingTime(t),s.addBufferingTime(t),i.incrementPauses(),s.incrementPauses();var a=e.getStaCore().createLabels(r.PAUSE,n,t);s.updateDeltaLabels(a.eventLabels),s.updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),i.setBufferingTimestamp(t),s.setBufferingTimestamp(t)},onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().stopPausedOnBufferingTimer(),e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),i.addBufferingTime(t),a.addBufferingTime(t),a.addElapsedTime(t);var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);e.getStaCore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getKeepAlive().stop(),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.addBufferingTime(t),s.addBufferingTime(t),s.incrementSeeks(),s.setSeeking(!0),s.setCollectingSeekingTime(!0),s.setSeekStartPosition(a),s.setSeekingTimestamp(t),i.incrementPauses(),s.incrementPauses();var o=e.getStaCore().createLabels(r.PAUSE,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)},onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();e.getStaCore().stopPausedOnBufferingTimer(),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.addBufferingTime(t),s.addBufferingTime(t),i.incrementPauses(),s.incrementPauses();var a=e.getStaCore().createLabels(r.PAUSE,n,t);s.updateDeltaLabels(a.eventLabels),s.updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}},{24:24,26:26,58:58}],72:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getStaCore().stopPausedOnBufferingTimer(),i.addBufferingTime(t),a.addBufferingTime(t),a.addElapsedTime(t);var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.isSeeking()&&a.isCollectingSeekingTime()&&(a.setSeekingTimeBeforeEnd(t-a.getSeekingTimestamp()),a.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.addBufferingTime(t),s.addBufferingTime(t),i.incrementPauses(),s.incrementPauses(),s.isSeeking()&&s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),s.incrementPlaySequenceCounter(),s.incrementPlayCounter(),i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],73:[function(e,t,n){var i=e(24),s=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onBuffer:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.setPlaybackSessionStarted(!0),s.setAssetStarted(!0),s.isSeeking()&&s.setSeekingTime(s.getSeekingTimeBeforeEnd()),i.setBufferingTimestamp(t),s.setBufferingTimestamp(t)},onSeekStart:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),r=parseInt(n.ns_st_po);i.setPlaybackSessionStarted(!0),s.setAssetStarted(!0),s.isSeeking()&&s.setSeekingTime(s.getSeekingTimeBeforeEnd()),s.incrementSeeks(),s.setSeeking(!0),s.setCollectingSeekingTime(!0),s.setSeekStartPosition(r),s.setSeekingTimestamp(t)},onPlay:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);i.setPlaybackSessionStarted(!0),r.setAssetStarted(!0),(r.isPlaybackSessionLooping()||0==i.getPlaybackCounter())&&(i.incrementPlaybackCounter(),r.setPlaybackSessionLooping(!1)),r.isSeeking()&&(r.setSeekingTime(r.getSeekingTimeBeforeEnd()),r.addSeekingAmount(a),r.setSeeking(!1)),i.incrementPlaySequenceCounter(),r.setPlaybackStarted(!0),r.incrementSegmentPlaybackCounter(),(0==r.getLowestPartNumberPlayed()||r.getPartNumber()<=r.getLowestPartNumberPlayed())&&(r.setLowestPartNumberPlayed(r.getPartNumber()),r.incrementAssetPlaybackCounter(),r.setPlaySequenceCounter(0),r.resetAssetPlaybackIntervals()),r.incrementPlaySequenceCounter(),r.incrementPlayCounter(),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.setElapsedTimestamp(t),r.setPlaybackStartPosition(a),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(s.PLAY,n,t);r.updateDeltaLabels(o.eventLabels),r.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,58:58}],74:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),a.addElapsedTime(t);var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.isSeeking()&&a.isCollectingSeekingTime()&&(a.setSeekingTimeBeforeEnd(t-a.getSeekingTimestamp()),a.setSeeking(!1)),i.storeAssetPlaybackCounters(),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),s.incrementPlayCounter(),s.incrementPlaySequenceCounter(),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.addElapsedTime(t),s.setElapsedTimestamp(t),s.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],75:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),i.addBufferingTime(t),a.addBufferingTime(t),a.addElapsedTime(t),a.isSeeking()&&a.isCollectingSeekingTime()&&(a.setSeekingTimeBeforeEnd(t-a.getSeekingTimestamp()),a.setCollectingSeekingTime(!1));var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),r=parseInt(n.ns_st_po);i.addBufferingTime(t),s.addBufferingTime(t),s.isSeeking()?s.isCollectingSeekingTime()||(s.setSeekingTimestamp(t),s.setCollectingSeekingTime(!0)):s.incrementSeeks(),s.isSeeking()||(s.setSeeking(!0),s.setCollectingSeekingTime(!0),s.setSeekStartPosition(r),s.setSeekingTimestamp(t)),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.addBufferingTime(t),s.addBufferingTime(t),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onPlayOrOnBufferStop:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),s.incrementPlaySequenceCounter(),i.addBufferingTime(t),s.addBufferingTime(t),s.incrementPlayCounter(),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.addElapsedTime(t),s.setElapsedTimestamp(t),s.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],76:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();r.isSeeking()&&r.isCollectingSeekingTime()&&(r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var i=e.getPlaybackSession().getAsset(),s=parseInt(n.ns_st_po);i.isSeeking()?i.setSeekingTimestamp(t):i.incrementSeeks(),i.isSeeking()||(i.setSeeking(!0),i.setCollectingSeekingTime(!0),i.setSeekStartPosition(s),i.setSeekingTimestamp(t))},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);s.isSeeking()&&(s.addSeekingAmount(a),s.setSeeking(!1)),i.setPlaybackSessionStarted(!0),(s.isPlaybackSessionLooping()||0==i.getPlaybackCounter())&&(i.incrementPlaybackCounter(),s.setPlaybackSessionLooping(!1)),i.incrementPlaySequenceCounter(),s.setPlaybackStarted(!0),s.incrementSegmentPlaybackCounter(),(0==s.getLowestPartNumberPlayed()||s.getPartNumber()<=s.getLowestPartNumberPlayed())&&(s.setLowestPartNumberPlayed(s.getPartNumber()),s.incrementAssetPlaybackCounter(),s.setPlaySequenceCounter(0),s.resetAssetPlaybackIntervals()),s.incrementPlaySequenceCounter(),s.incrementPlayCounter(),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setElapsedTimestamp(t),s.setPlaybackStartPosition(a),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)},onBuffer:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.setBufferingTimestamp(t),s.setBufferingTimestamp(t)}})}},{24:24,26:26,58:58}],77:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset(),o=parseInt(n.ns_st_po);e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),i.addPlaybackTime(t),a.addPlaybackTime(t),a.addAccumulatedPlayback(o),a.addElapsedTime(t),a.addInterval(o);var u=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(u.eventLabels),a.updateIndependentLabels(u.eventLabels),e.getEventManager().newEvent(u),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBuffer:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),r=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),i.addPlaybackTime(t),s.addPlaybackTime(t),s.addAccumulatedPlayback(r),s.addInterval(r),e.getStaCore().isPauseOnBufferingEnabled()&&e.getStaCore().startPausedOnBufferingTimer(t,n),s.incrementBufferCount(),i.setBufferingTimestamp(t),s.setBufferingTimestamp(t),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onSeekStart:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),i.addPlaybackTime(t),s.addPlaybackTime(t),s.addAccumulatedPlayback(a),s.addInterval(a),s.incrementSeeks(),s.setSeeking(!0),s.setCollectingSeekingTime(!0),s.setSeekStartPosition(a),s.setSeekingTimestamp(t),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.incrementPauses(),s.incrementPauses();var o=e.getStaCore().createLabels(r.PAUSE,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)},onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),i.addPlaybackTime(t),s.addPlaybackTime(t),s.addAccumulatedPlayback(a),s.addInterval(a),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.incrementPauses(),s.incrementPauses();var o=e.getStaCore().createLabels(r.PAUSE,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],78:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();r.isSeeking()&&r.isCollectingSeekingTime()&&(r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){var i=e.getPlaybackSession().getAsset();i.isSeeking()&&i.isCollectingSeekingTime()&&(i.addSeekingTime(t),i.setCollectingSeekingTime(!1))},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),(s.isPlaybackSessionLooping()||0==i.getPlaybackCounter())&&(i.incrementPlaybackCounter(),s.setPlaybackSessionLooping(!1)),i.incrementPlaySequenceCounter(),s.incrementPlaySequenceCounter(),s.incrementPlayCounter(),s.setPlaybackStarted(!0),s.incrementSegmentPlaybackCounter(),(0==s.getLowestPartNumberPlayed()||s.getPartNumber()<=s.getLowestPartNumberPlayed())&&(s.setLowestPartNumberPlayed(s.getPartNumber()),s.incrementAssetPlaybackCounter(),s.setPlaySequenceCounter(0),s.resetAssetPlaybackIntervals()),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setElapsedTimestamp(t),s.setPlaybackStartPosition(a),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],79:[function(e,t,n){var i=e(24);t.exports=function(e){i.extend(this,{onPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.incrementPauses(),s.incrementPauses(),s.isSeeking()&&s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addElapsedTime(t),s.setElapsedTimestamp(t)}})}},{24:24}],80:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),a.addElapsedTime(t);var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.isSeeking()&&a.isCollectingSeekingTime()&&(a.setSeekingTimeBeforeEnd(t-a.getSeekingTimestamp()),a.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPlay:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),s.incrementPlaySequenceCounter(),s.incrementPlayCounter(),s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),s.addElapsedTime(t),s.setElapsedTimestamp(t),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setPlaybackStartPosition(a),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)}})}},{24:24,26:26,58:58}],81:[function(e,t,n){var i=e(24),s=e(26),r=e(58).StreamingAnalyticsEventType;t.exports=function(e){i.extend(this,{onSeekStartWhenPausedOrBufferingDuringPause:function(t,n){var i=e.getPlaybackSession().getAsset(),s=parseInt(n.ns_st_po);i.isSeeking()?i.isCollectingSeekingTime()||(i.setSeekingTimestamp(t),i.setCollectingSeekingTime(!0)):i.incrementSeeks(),i.isSeeking()||(i.setSeeking(!0),i.setCollectingSeekingTime(!0),i.setSeekStartPosition(s),i.setSeekingTimestamp(t)),i.addElapsedTime(t),i.setElapsedTimestamp(t)},onBufferWhenSeekingOrPaused:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.setBufferingTimestamp(t),s.setBufferingTimestamp(t),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),s.incrementPlaySequenceCounter(),s.isSeeking()&&(s.isCollectingSeekingTime()&&(s.addSeekingTime(t),s.setCollectingSeekingTime(!1)),s.addSeekingAmount(a),s.setSeeking(!1)),s.incrementPlayCounter(),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.addElapsedTime(t),s.setElapsedTimestamp(t),s.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var o=e.getStaCore().createLabels(r.PLAY,n,t);s.updateDeltaLabels(o.eventLabels),s.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset();i.addBufferingTime(t),s.addBufferingTime(t),s.addElapsedTime(t),s.setElapsedTimestamp(t)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(t,n){var i=e.getPlaybackSession().getAsset();i.isSeeking()&&i.isCollectingSeekingTime()&&(i.addSeekingTime(t),i.setCollectingSeekingTime(!1)),i.addElapsedTime(t),i.setElapsedTimestamp(t)},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var i=e.getPlaybackSession(),a=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),a.addElapsedTime(t);var o=e.getStaCore().createLabels(r.END,n,t);a.updateDeltaLabels(o.eventLabels),a.updateIndependentLabels(o.eventLabels),e.getEventManager().newEvent(o),a.isSeeking()&&a.isCollectingSeekingTime()&&(a.setSeekingTimeBeforeEnd(t-a.getSeekingTimestamp()),a.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),a.resetAssetLifecycleLabels(),a.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var i=e.getPlaybackSession().getAsset();i.isSeeking()&&i.isCollectingSeekingTime()&&(i.addSeekingTime(t),i.setCollectingSeekingTime(!1)),i.addElapsedTime(t),i.setElapsedTimestamp(t)},onBufferStopOrOnPlayWhenBufferingDuringPlayback:function(t,n){var i=e.getPlaybackSession(),s=i.getAsset(),r=parseInt(n.ns_st_po);e.getStaCore().stopPausedOnBufferingTimer(),i.addBufferingTime(t),s.addBufferingTime(t),i.setPlaybackTimestamp(t),s.setPlaybackTimestamp(t),s.setPlaybackStartPosition(r),s.addElapsedTime(t),s.setElapsedTimestamp(t),e.getHeartbeat().resume(),e.getKeepAlive().start()}})}},{24:24,26:26,58:58}],82:[function(e,t,n){function i(){var e=+new Date;u=o.setInterval(function(){var t=e+r,n=+new Date,i=n-t;if(e=n,Math.abs(i)>a)for(var s=0<i,o=0;o<c.length;++o)c[o](s)},r)}function s(){clearInterval(u),u=null}var r,a,o,u=null,c=[];t.exports={onSystemClockJump:function(e){c.push(e),u||i()},removeSystemClockJumpListener:function(e){for(var t=0;t<c.length;++t)if(c[t]==e){c.splice(t,1);break}c.length||s()},setPlatformAPI:function(e){o=e},configureInterval:function(e,t){!t&&r||(r=e||1e3),(u&&t||!u)&&(s(),i())},configureError:function(e,t){a=e||1e3}}},{}],83:[function(e,t,n){arguments[4][20][0].apply(n,arguments)},{20:20}],84:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{21:21}],85:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{24:24}],86:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{26:26}],87:[function(e,t,n){var i=["getAsset","getLabels","setLabels","setLabel","getLabel","getPlaybackSessionID"];t.exports=function(e,t){for(var n=0;n<i.length;++n){var s=i[n];this[s]=function(t){return function(){return e[t].apply(e,Array.prototype.slice.call(arguments))}}(s)}this.setAsset=function(){t.apply(null,Array.prototype.slice.call(arguments))}}},{}],88:[function(e,t,n){var i=e(83),s=e(4),r=s.URL_LENGTH_LIMIT,a=s.RESTRICTED_URL_LENGTH_LIMIT;t.exports=function(e,t){var n,s;s=i.isBrowser()?(n=window,document):(n={},{location:{href:""},title:"",URL:"",referrer:"",cookie:""});var o=t.getLiveEndpointURL(),u="undefined",c=n.comScore||n.sitestat||function(e){var o,c,l,f,p,g="comScore=",d=s.cookie,_="",m="indexOf",h=i.browserAcceptsLargeURLs()?r:a,v="&ns_",y=n.encodeURIComponent||escape;if(d[m](g)+1)for(f=0,p=(l=d.split(";")).length;f<p;f++)(c=l[f][m](g))+1&&(_="&"+unescape(l[f].substring(c+g.length)));(e+=v+"_t="+ +new Date+v+"c="+(s.characterSet||s.defaultCharset||"")+_).length>h&&0<e.indexOf("&")&&(o=e.substr(0,h-8).lastIndexOf("&"),e=(e.substring(0,o)+v+"cut="+y(e.substring(o+1))).substr(0,h)),t.getPlatformAPI().httpGet(e),typeof n.ns_p===u&&(n.ns_p={src:e}),n.ns_p.lastMeasurement=e},l=decodeURIComponent||unescape,f={},p=o.indexOf("?");if(0<=p&&p<o.length-1){for(var g=o.substring(p+1).split("&"),d=0,_=g.length;d<_;d++){var m=g[d].split("=");2==m.length&&(f[m[0]]=l(m[1]))}o=o.substring(0,p+1)}var h=f;if(typeof e!==u){for(var v in e)e.hasOwnProperty(v)&&(h[v]=e[v]);var y=[],S=n.encodeURIComponent||escape;for(v in h)y.push(S(v)+"="+S(h[v]));/[\?\&]$/.test(o)||(o+="&"),o+=y.join("&")}return c(o)}},{4:4,83:83}],89:[function(e,t,n){function i(e,t,n,a,g){function d(){g.release&&g.release.call(Ie),v(),Fe.reset(),Fe=null,function(){if("undefined"!=typeof document&&document.addEventListener&&c.hasPageVisibilityAPISupport()&&ut){ut=!1;var e=c.getPageVisibilityAPI();document.removeEventListener(e.visibilityChange,h,!1)}}(),Ge=[],Pe=void 0,Ee=Ce,Ke=Ve=-1}function _(){return ke}function m(){return c.hasPageVisibilityAPISupport&&c.isTabInBackground()?Be:Re}function h(){v(),Ze=NaN,Qe=[],Je=g.position&&g.position.call(Ie)||0,at=!0,Ae=setInterval(y,m()),function(){if("undefined"!=typeof document&&document.addEventListener&&c.hasPageVisibilityAPISupport()&&!ut){ut=!0;var e=c.getPageVisibilityAPI();document.addEventListener(e.visibilityChange,h,!1)}}()}function v(){void 0!==Ae&&(clearInterval(Ae),Ae=void 0)}function y(){if(ze)if($e)$e=!1;else{var e=+new Date,t=e-Ze,n=m()+Me,i=Ze;if(Ze=e,!isNaN(i)&&n<t)h();else{var r=g.position&&g.position.call(Ie,null)||0,a=!1;if(r!=Qe[Qe.length-1]){if(Qe.push(Math.abs(r)),1<Qe.length&&Qe[Qe.length-1]<Qe[Qe.length-2]){var o=Qe[Qe.length-1];(Qe=[])[0]=o,Ye&&(a=!0)}if(!a&&Qe.length<xe)return}Qe.length>Ue&&(Qe=Qe.slice(-Math.floor(Ue/2))),Ye&&!a&&(a=function(){if(Qe.length<2)return!1;if(Qe[Qe.length-1]<Qe[Qe.length-2])return!0;for(var e=m(),t=0,n=0;n<Qe.length;n++)t=(parseFloat(t)+De[Qe.length-2][n]*Qe[n]).toFixed(5);return t=parseFloat(t),Oe<t/e}());var u=Fe.getState();switch(u){case f.IDLE:case f.PAUSED:case f.PLAYBACK_NOT_STARTED:case f.BUFFERING_BEFORE_PLAYBACK:case f.BUFFERING_DURING_PLAYBACK:case f.BUFFERING_DURING_SEEKING:case f.BUFFERING_DURING_PAUSE:case f.PAUSED_DURING_BUFFERING:case f.SEEKING_BEFORE_PLAYBACK:case f.SEEKING_DURING_PLAYBACK:case f.SEEKING_DURING_BUFFERING:case f.SEEKING_DURING_PAUSE:if(qe&&Je<r&&!a&&!S(r)){if(g.preMeasurement&&!g.preMeasurement.call(Ie,u,s.StreamingAnalytics.PlayerEvents.PLAY))break;var c=Qe[Qe.length-1];at&&c<Ne?Ie.notifyPlay(0):Ie.notifyPlay(c),at=!1;break}if(Ye&&a&&u!=f.SEEKING_BEFORE_PLAYBACK&&u!=f.SEEKING_DURING_PLAYBACK&&u!=f.SEEKING_DURING_BUFFERING&&u!=f.SEEKING_DURING_PAUSE){Ie.notifySeekStart(Qe[0]);break}if(Xe&&u!=f.IDLE&&u!=f.PLAYBACK_NOT_STARTED&&u!=f.BUFFERING_BEFORE_PLAYBACK&&u!=f.SEEKING_BEFORE_PLAYBACK&&S(r)){if(g.preMeasurement&&!g.preMeasurement.call(Ie,u,s.StreamingAnalytics.PlayerEvents.END))break;at=!0;var l=parseInt(et.ns_st_cl||Fe.getPlaybackSession().getAsset().getLabel("ns_st_cl"));!isNaN(l)&&0<l?Ie.notifyEnd(l):Ie.notifyEnd(r)}break;case f.PLAYING:if(Ye&&a){if(g.preMeasurement&&!g.preMeasurement.call(Ie,u,s.StreamingAnalytics.PlayerEvents.PAUSE))break;at=!1,Ie.notifySeekStart(Je)}else if(Xe&&S(r)){if(g.preMeasurement&&!g.preMeasurement.call(Ie,u,s.StreamingAnalytics.PlayerEvents.END))break;at=!0,l=parseInt(et.ns_st_cl||Fe.getPlaybackSession().getAsset().getLabel("ns_st_cl")),!isNaN(l)&&0<l?Ie.notifyEnd(l):Ie.notifyEnd(r)}else if(He&&Math.abs(r-Je)<=Le){if(g.preMeasurement&&!g.preMeasurement.call(Ie,u,s.StreamingAnalytics.PlayerEvents.PAUSE))break;at=!1,Ie.notifyPause(Je)}}u!==Fe.getState()&&(g.postMeasurement&&g.postMeasurement.call(Ie,Fe.getState()),Fe.getState()!=f.PLAYING&&(Qe=[])),Je=r}}else v()}function S(e){var t=parseInt(et.ns_st_cl||Fe.getPlaybackSession().getAsset().getLabel("ns_st_cl"));return!isNaN(t)&&0<t&&(t<e||Math.abs(e-t)<we)}function b(e){e&&(Le=e)}function P(e){e&&(we=e)}function E(e){e&&1<e&&(Oe=e)}function A(e){"number"==typeof e&&0<=e&&(Re=e)}function T(e){"number"==typeof e&&0<=e&&(Be=e)}function I(e){"number"==typeof e&&0<=e&&(Me=e)}function k(e){e&&e<=13&&2<=e&&(Ue=e)}function C(e){e&&2<=e&&e<=13&&(xe=e)}function L(e){(ze=e||!1)?h():v()}function w(e){Xe=e||!1}function N(e){qe=e||!1}function D(e){He=e||!1}function O(e){Ye=e||!1}function x(e){Fe.getPlaybackSession().getAsset().setLabel("ns_st_cs",e||0)}function R(e){Fe.getPlaybackSession().getAsset().setLabel("ns_st_cl",e&&0<=e?e:0)}function B(e){"function"==typeof e&&Ge.push(e)}function U(){if(!st&&!rt){at=!1;var e=ce(p.PLAY,oe(arguments),ue(arguments));Fe.notifyPlay(oe(arguments),e),ze&&(Qe=[],Je=e)}}function M(){if(!st&&!rt){at=!1;var e=ce(p.PAUSE,oe(arguments),ue(arguments));Fe.notifyPause(oe(arguments),e),ze&&(Qe=[],Je=e)}}function F(){if(!st&&!rt){at=!0;var e=ce(p.END,oe(arguments),ue(arguments));ze&&(Qe=[],Je=e,$e=!0),Fe.notifyEnd(oe(arguments),e)}}function G(){if(!st&&!rt){var e=ce(p.BUFFER,oe(arguments),ue(arguments));Fe.notifyBufferStart(oe(arguments),e),ze&&(Qe=[],Je=e)}}function V(){if(!st&&!rt){var e=ce(p.BUFFER_STOP,oe(arguments),ue(arguments));Fe.notifyBufferStop(oe(arguments),e)}}function K(){if(!st&&!rt&&e.enableLoadNotification){var t=ce(p.LOAD,oe(arguments),ue(arguments));Fe.notifyLoad(oe(arguments),t)}}function W(){if(!st&&!rt&&e.enableEngageNotification){var t=ce(p.ENGAGE,oe(arguments),ue(arguments));Fe.notifyEngage(oe(arguments),t)}}function j(){if(!st&&!rt){at=!1;var e=ce(p.SEEK_START,oe(arguments),ue(arguments));ze&&(Qe=[],Je=e),Fe.notifySeekStart(oe(arguments),e)}}function Y(){if(!st&&!rt)if(e.enableSkipAdNotification){at=!0;var t=ce(p.AD_SKIP,oe(arguments),ue(arguments));ze&&(Qe=[],Je=t,$e=!0),Fe.notifySkipAd(oe(arguments),t)}else F.apply(this,Array.prototype.slice.call(arguments))}function H(){if(!st&&!rt&&e.enableCallToActionNotification){var t=ce(p.CTA,oe(arguments),ue(arguments));Fe.notifyCallToAction(oe(arguments),t)}}function q(){if(!st&&!rt&&e.enableErrorNotification){var t=ce(p.ERROR,oe(arguments),ue(arguments));Fe.notifyError(oe(arguments),t)}}function X(){if(!st&&!rt&&e.enableTransferPlaybackNotification){var t=ce(p.TRANSFER,oe(arguments),ue(arguments));Fe.notifyTransferPlayback(oe(arguments),t)}}function z(){if(!st&&!rt&&e.enableDrmFailNotification){var t=ce(p.DRM_FAILED,oe(arguments),ue(arguments));Fe.notifyDrmFail(oe(arguments),t)}}function J(){if(!st&&!rt&&e.drmApproveNotification){var t=ce(p.DRM_APPROVED,oe(arguments),ue(arguments));Fe.notifyDrmApprove(oe(arguments),t)}}function Z(){if(!st&&!rt&&e.drmDenyNotification){var t=ce(p.DRM_DENIED,oe(arguments),ue(arguments));Fe.notifyDrmDeny(oe(arguments),t)}}function Q(t,n,i){if(!st&&!rt)if(e.enableBitrateNotification){var s=[n,i],r=ce(p.BIT_RATE,oe(s),ue(s));Fe.notifyChangeBitrate(t,r,oe(s))}else ge("ns_st_br",t,!0)}function $(e,t,n){if(!st&&!rt){var i=[t,n],s=ce(p.PLAYBACK_RATE,oe(i),ue(i));Fe.notifyChangePlaybackRate(e,s,oe(i))}}function ee(t,n,i){if(!st&&!rt)if(e.enableVolumeChangeNotification){var s=[n,i],r=ce(p.VOLUME,oe(s),ue(s));Fe.notifyChangeVolume(t,r,oe(s))}else ge("ns_st_vo",t,!0)}function te(t,n,i){if(!st&&!rt)if(e["enableWindowStateChangeNotification "]){var s=[n,i],r=ce(p.WINDOW_STATE,oe(s),ue(s));Fe.notifyChangeWindowState(t,r,oe(s))}else ge("ns_st_ws",t,!0)}function ne(t,n,i){if(!st&&!rt)if(e.enableAudioTrackChangeNotification){var s=[n,i],r=ce(p.AUDIO,oe(s),ue(s));Fe.notifyChangeAudioTrack(t,r,oe(s))}else ge("ns_st_at",t,!0)}function ie(t,n,i){if(!st&&!rt)if(e.enableVideoTrackChangeNotification){var s=[n,i],r=ce(p.VIDEO,oe(s),ue(s));Fe.notifyChangeVideoTrack(t,r,oe(s))}else ge("ns_st_vt",t,!0)}function se(t,n,i){if(!st&&!rt)if(e.enableSubtitleTrackChangeNotification){var s=[n,i],r=ce(p.SUBS,oe(s),ue(s));Fe.notifyChangeSubtitleTrack(t,r,oe(s))}else ge("ns_st_tt",t,!0)}function re(t,n,i){if(!st&&!rt)if(e.enableCdnChangeNotification){var s=[n,i],r=ce(p.CDN,oe(s),ue(s));Fe.notifyChangeCdn(t,r,oe(s))}else ge("ns_st_cdn",t,!0)}function ae(){if(!st&&!rt&&e.enableCustomEventNotification){var t=ce(p.CUSTOM,oe(arguments),ue(arguments));Fe.notifyCustomEvent(oe(arguments),t)}}function oe(e){return"object"==typeof e[0]?e[0]:"object"==typeof e[1]?e[1]:{}}function ue(e){return"number"==typeof e[0]?e[0]:"number"==typeof e[1]?e[1]:NaN}function ce(e,t,n){for(var i=0,s=Ge.length;i<s;i++)Ge[i](e,t);var r=NaN;return"number"!=typeof n||isNaN(n)?g.position&&(r=g.position.call(Ie,e,t,n)):r=n,r}function le(e,t,n,i){var s,r=n||[];for(var a in function(e,t){var n=Ee===Ce;if(0<e.length&&"undefined"!=e[0].map){var i=e[0].map;for(var s in n||u.extend(t,function(e){var t,n,i,s,r={};if(Ee===Ce)return{};if(Pe&&Pe!==Ce){for(t=0,n=Pe.length;t<n;t++){var a=Pe[t];for(i in s=0<=Ve&&Ve<=t,e)e.hasOwnProperty(i)&&(r[i]||(r[i]=!(s?0!==i.indexOf(a):i!=a)))}for(i in r)r.hasOwnProperty(i)&&!1===r[i]&&delete e[i];r={}}if(Ee)for(t=0,n=Ee.length;t<n;t++){var o=Ee[t];for(i in s=0<=Ke&&Ke<=t,e)e.hasOwnProperty(i)&&(s?0===i.indexOf(o):i==o)&&(r[i]=!0);for(i in r)r.hasOwnProperty(i)&&e.hasOwnProperty(i)&&delete e[i];r={}}return e}(i)),i)if(i.hasOwnProperty(s)){var r,a,o,c=/^([Cc][A-Da-d]_)?ns_st_.+/,l=/^[Cc][A-Da-d]?([1-9]|1[0-9]|20)$/;(r=s.match(/^data-(.+)/))?(a=null!=r[1].match(c),o=null!=r[1].match(l),(a||o)&&-1===ot.indexOf(r[1])&&(t[r[1]]=i[s])):(a=null!=s.match(c),o=null!=s.match(l),(a||o)&&-1===ot.indexOf(s)&&(t[s]=i[s]))}}}(r,e),function(e,t){var n=Ie.labelMapping;for(var i in n)if(n.hasOwnProperty(i))for(var s="",r=/^("([^"]+)"|'([^']+?)'$)/i,a=n[i].match(/"([^"]+?)"|[a-z0-9\[\]\._-]+|'([^']+?)'\s*/gi),o=0;o<a.length;o++){var u=a[o].replace(/(?:^\s+|\s+$)/g,"");if(r.test(u)){var c=r.exec(u);s+=c[2]||c[3]}else try{var f="",p=u.lastIndexOf(".");1<=p&&p<u.length-1&&(f=u.substring(0,p),u=u.substring(p+1,u.length));for(var g=0;g<e.length;g++){var d=e[g];if(f==d.prefix){d.map[u]&&(s+=l.toString(d.map[u]));break}}}catch(e){be("Exception occurred while processing mapped labels")}t[i]=s}}(r,e),e)e.hasOwnProperty(a)&&(s=a.match(/^data-(.+)/))&&(e[s[1]]=e[a],delete e[a]);return i&&1==i?u.extend(e,nt):(nt={},u.extend(nt,e)),et={},st=!!(e&&e.hasOwnProperty("ns_st_skip")&&e.ns_st_skip),Fe.getPlaybackSession().setAsset(e,t)}function fe(e,t){return t&&1==t?u.extend(e,tt):(tt={},u.extend(tt,e)),rt=!!(e&&e.hasOwnProperty("ns_st_skip")&&e.ns_st_skip),Fe.createPlaybackSession(e)}function pe(){var e=Fe.getPlaybackSession();return new r(e,le)}function ge(e,t,n){var i={};return i[e]=t,de(i,n)}function de(e,t){return t&&1==t?u.extend(e,it):u.extend(it,e),Fe.setLabels(e)}function _e(){return it}function me(e){return it[e]}function he(e,t,n){n&&1==n?(nt.hasOwnProperty(e)||it.hasOwnProperty(e)||Fe.getPlaybackSession().getAsset().setLabel(e,t),et[e]=t):(nt[e]=t,Fe.getPlaybackSession().getAsset().setLabel(e,t))}function ve(e,t,n){n&&1==n?tt.hasOwnProperty(e)||it.hasOwnProperty(e)||Fe.getPlaybackSession().setLabel(e,t):(tt[e]=t,Fe.getPlaybackSession().setLabel(e,t))}function ye(e){Fe.setThrottlingEnabled(e)}function Se(e){if(o.isTrue(e.pageView||e.pageview)){var t={};if("undefined"!=typeof document){var n=document;t.c7=n.URL,t.c8=n.title,t.c9=n.referrer}Fe.setLabels(t)}var i;e.renditions,je=o.isTrue(e.debug),(e.labelMapping||e.labelmapping)&&function(e){if(e){var t=e.match(/([^=, ]+)\s*=(\s*("([^"]+?)"|'([^']+?)'|[a-z0-9\[\]\._-]+)\s*\+?)+\s*/gi);for(var n in t)if(t.hasOwnProperty(n)){var i=t[n].split("=",2);if(2==i.length){var s=i[0].replace(/(^\s+|\s+$)/g,"");""!=s&&(We[s]=i[1])}}}}(e.labelMapping||e.labelmapping),(e.persistentLabels||e.persistentlabels)&&function(e){if(e){var t=e.split(",");for(var n in t)if(t.hasOwnProperty(n)){var i=t[n].split("=",2);if(2==i.length){var s=i[0].replace(/(^\s+|\s+$)/g,"");""!=s&&(Fe.setLabel(s,i[1]),it[s]=i[1])}}}}(e.persistentLabels||e.persistentlabels),"1"===e.throttling||!0===e.throttling?Fe.setThrottlingEnabled(!0):Fe.setThrottlingEnabled(!1),(i=e.include)&&"string"==typeof i&&(i===Ce?Pe=Ce:0<i.length&&(Pe=i.split(","))),Pe!==Ce&&(i=e.includePrefixes||e.include_prefixes)&&(i===Ce?Pe=Ce:(Pe||(Pe=[]),Ve=Pe.length,Pe.push.apply(Pe,i.split(","))));var s=/^([Cc][A-Da-d]_)?ns_st_.+/,r=/^[Cc][A-Da-d]?([1-9]|1[0-9]|20)$/,a=e.exclude;if("string"==typeof a)if(Pe||a)if(Pe&&!a)ot=[],Ee=[];else if(a==Ce)ot=[],Ee=Ce;else{var u=a.split(",");Ee=Pe?u:Ce;for(var c=0;c<u.length;c++){var l=null!=u[c].match(s),f=null!=u[c].match(r);(l||f)&&ot.push(u[c])}}else ot=[],Ee=Ce;var p=e.excludePrefixes||e.exclude_prefixes;Pe&&Ee!=Ce&&"string"==typeof p&&(p==Ce?Ee=Ce:(Ee||(Ee=[]),Ke=Ee.length,Ee.push.apply(Ee,p.split(",")))),Ee||(Ee=Ce)}function be(){if(je){var e=new Date,t=e.getDate(),n=e.getMonth()+1,i=e.getHours(),s=e.getMinutes(),r=e.getSeconds(),a=["comScore",e.getFullYear()+"-"+(n<10?"0"+n:n)+"-"+(t<10?"0"+t:t)+" "+(i<10?"0"+i:i)+":"+(s<10?"0"+s:s)+":"+(r<10?"0"+r:r)+"."+e.getMilliseconds()],o=Array.prototype.slice.call(arguments);"undefined"!=typeof console&&console.log.apply(console,a.concat(o))}}var Pe,Ee,Ae,Te,Ie=this,ke="2.6.5.180917",Ce="_all_",Le=10,we=500,Ne=1e3,De=[[-1,1],[-.5,0,.5],[-.3,-.1,.1,.3],[-.2,-.1,0,.1,.2],[-.14286,-.08571,-.02857,.02857,.08571,.14286],[-.10714,-.07143,-.03571,0,.03571,.07143,.10714],[-.08333,-.05952,-.03571,-.0119,.0119,.03571,.05952,.08333],[-.06667,-.05,-.03333,-.01667,0,.01667,.03333,.05,.06667],[-.05455,-.04242,-.0303,-.01818,-.00606,.00606,.01818,.0303,.04242,.05455],[-.04545,-.03636,-.02727,-.01818,-.00909,0,.00909,.01818,.02727,.03636,.04545],[-.03846,-.03147,-.02448,-.01748,-.01049,-.0035,.0035,.01049,.01748,.02448,.03147,.03846],[-.03297,-.02747,-.02198,-.01648,-.01099,-.00549,0,.00549,.01099,.01648,.02198,.02747,.03297]],Oe=1.25,xe=2,Re=300,Be=1e3,Ue=6,Me=50,Fe={},Ge=[],Ve=-1,Ke=-1,We={},je=!1,Ye=!1,He=!1,qe=!1,Xe=!1,ze=!1,Je=(g=g||{}).position&&g.position.call(Ie,null)||0,Ze=NaN,Qe=[],$e=!1,et={},tt={},nt={},it={},st=!1,rt=!1,at=!0,ot=[];Te={},"debug"in e&&(Te.debug=e.debug),("publisherId"in e||"c2"in e)&&(Te.publisherId=e.publisherId||e.c2),"secure"in e&&(Te.secure=e.secure),("logurl"in e||"liveEndpointURL"in e)&&(Te.liveEndpointURL=e.logurl||e.liveEndpointURL),Fe=new s.StreamingAnalytics(Te),u.extend(Ie,Fe),u.extend(Ie,{notifyPlay:U,notifyPause:M,notifyEnd:F,notifyBufferStart:G,notifyBufferStop:V,notifyLoad:K,notifyEngage:W,notifySeekStart:j,notifySkipAd:Y,notifyCallToAction:H,notifyError:q,notifyTransferPlayback:X,notifyDrmFail:z,notifyDrmApprove:J,notifyDrmDeny:Z,notifyChangeBitrate:Q,notifyChangePlaybackRate:$,notifyChangeVolume:ee,notifyChangeWindowState:te,notifyChangeAudioTrack:ne,notifyChangeVideoTrack:ie,notifyChangeSubtitleTrack:se,notifyChangeCDN:re,notifyCustomEvent:ae,createPlaybackSession:fe,getPlaybackSession:pe,setAsset:le,setLabel:ge,setLabels:de,getLabels:_e,getLabel:me,setAssetLabel:he,setPlaybackSessionLabel:ve,setThrottlingEnabled:ye,onGetLabels:B,labelMapping:We,release:d,log:be,handleSettings:Se,getGenericPluginVersion:_,setDuration:R,setVideoSize:x,setDetectSeek:O,setDetectPause:D,setDetectPlay:N,setDetectEnd:w,setSmartStateDetection:L,setPauseDetectionErrorMargin:b,setEndDetectionErrorMargin:P,setSeekDetectionMinQuotient:E,setPulseSamplingInterval:A,setPulseSamplingIntervalBackground:T,setPulseMaxDelay:I,setMaximumNumberOfEntriesInHistory:k,setMinimumNumberOfTimeUpdateEventsBeforeDetectingSeek:C}),Ie.setLabels({ns_st_mp:t,ns_st_pv:n,ns_st_mv:a},!0),e&&Se(e),g.init&&g.init.call(Ie,null),ze&&h(),o.isTrue(e.pageView||e.pageview)&&i.viewNotify(Fe.getLabels(),Fe);var ut=!1}var s=e(16),r=e(87),a=e(88),o=e(84),u=e(85),c=e(83),l=e(86),f=(t.exports=s).StreamingAnalytics.InternalStates,p=s.StreamingAnalytics.PlayerEvents;i.prototype=s.StreamingAnalytics.prototype,(s.StreamingAnalytics.Plugin=i).viewNotify=a,i.extractParams=function(e,t,n){var i,s,r,a=t.length,o={},u=e.indexOf(t);if(void 0===n&&(n="&"),0<=u)for(i=0,s=(r=e.substr(u+a).split(n)).length;i<s;i++){var c=r[i].split("=");2===c.length&&(o[c[0]]=decodeURIComponent(c[1]))}return o}},{16:16,83:83,84:84,85:85,86:86,87:87,88:88}]},{},[89])(89)})}).call(t,n(4),n(5))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function r(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){_&&g&&(_=!1,g.length?d=g.concat(d):m=-1,d.length&&o())}function o(){if(!_){var e=s(a);_=!0;for(var t=d.length;t;){for(g=d,d=[];++m<t;)g&&g[m].run();m=-1,t=d.length}g=null,_=!1,r(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var g,d=[],_=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new u(e,t)),1!==d.length||_||s(o)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}}])});
//# sourceMappingURL=playkit-comscore.js.map